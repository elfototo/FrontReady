{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { ICodeEditor, IEditorMouseEvent, IMouseTarget } from '../../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { ICursorSelectionChangedEvent } from '../../../../common/cursorEvents.js';\n\nfunction hasModifier(e: { ctrlKey: boolean; shiftKey: boolean; altKey: boolean; metaKey: boolean }, modifier: 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey'): boolean {\n\treturn !!e[modifier];\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkMouseEvent {\n\n\tpublic readonly target: IMouseTarget;\n\tpublic readonly hasTriggerModifier: boolean;\n\tpublic readonly hasSideBySideModifier: boolean;\n\tpublic readonly isNoneOrSingleMouseDown: boolean;\n\tpublic readonly isLeftClick: boolean;\n\tpublic readonly isMiddleClick: boolean;\n\tpublic readonly isRightClick: boolean;\n\n\tconstructor(source: IEditorMouseEvent, opts: ClickLinkOptions) {\n\t\tthis.target = source.target;\n\t\tthis.isLeftClick = source.event.leftButton;\n\t\tthis.isMiddleClick = source.event.middleButton;\n\t\tthis.isRightClick = source.event.rightButton;\n\t\tthis.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n\t\tthis.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n\t\tthis.isNoneOrSingleMouseDown = (source.event.detail <= 1);\n\t}\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkKeyboardEvent {\n\n\tpublic readonly keyCodeIsTriggerKey: boolean;\n\tpublic readonly keyCodeIsSideBySideKey: boolean;\n\tpublic readonly hasTriggerModifier: boolean;\n\n\tconstructor(source: IKeyboardEvent, opts: ClickLinkOptions) {\n\t\tthis.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n\t\tthis.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n\t\tthis.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n\t}\n}\nexport type TriggerModifier = 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey';\n\nexport class ClickLinkOptions {\n\n\tpublic readonly triggerKey: KeyCode;\n\tpublic readonly triggerModifier: TriggerModifier;\n\tpublic readonly triggerSideBySideKey: KeyCode;\n\tpublic readonly triggerSideBySideModifier: TriggerModifier;\n\n\tconstructor(\n\t\ttriggerKey: KeyCode,\n\t\ttriggerModifier: TriggerModifier,\n\t\ttriggerSideBySideKey: KeyCode,\n\t\ttriggerSideBySideModifier: TriggerModifier\n\t) {\n\t\tthis.triggerKey = triggerKey;\n\t\tthis.triggerModifier = triggerModifier;\n\t\tthis.triggerSideBySideKey = triggerSideBySideKey;\n\t\tthis.triggerSideBySideModifier = triggerSideBySideModifier;\n\t}\n\n\tpublic equals(other: ClickLinkOptions): boolean {\n\t\treturn (\n\t\t\tthis.triggerKey === other.triggerKey\n\t\t\t&& this.triggerModifier === other.triggerModifier\n\t\t\t&& this.triggerSideBySideKey === other.triggerSideBySideKey\n\t\t\t&& this.triggerSideBySideModifier === other.triggerSideBySideModifier\n\t\t);\n\t}\n}\n\nfunction createOptions(multiCursorModifier: 'altKey' | 'ctrlKey' | 'metaKey'): ClickLinkOptions {\n\tif (multiCursorModifier === 'altKey') {\n\t\tif (platform.isMacintosh) {\n\t\t\treturn new ClickLinkOptions(KeyCode.Meta, 'metaKey', KeyCode.Alt, 'altKey');\n\t\t}\n\t\treturn new ClickLinkOptions(KeyCode.Ctrl, 'ctrlKey', KeyCode.Alt, 'altKey');\n\t}\n\n\tif (platform.isMacintosh) {\n\t\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Meta, 'metaKey');\n\t}\n\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Ctrl, 'ctrlKey');\n}\n\nexport interface IClickLinkGestureOptions {\n\t/**\n\t * Return 0 if the mouse event should not be considered.\n\t */\n\textractLineNumberFromMouseEvent?: (e: ClickLinkMouseEvent) => number;\n}\n\nexport class ClickLinkGesture extends Disposable {\n\n\tprivate readonly _onMouseMoveOrRelevantKeyDown: Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._register(new Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]>());\n\tpublic readonly onMouseMoveOrRelevantKeyDown: Event<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._onMouseMoveOrRelevantKeyDown.event;\n\n\tprivate readonly _onExecute: Emitter<ClickLinkMouseEvent> = this._register(new Emitter<ClickLinkMouseEvent>());\n\tpublic readonly onExecute: Event<ClickLinkMouseEvent> = this._onExecute.event;\n\n\tprivate readonly _onCancel: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onCancel: Event<void> = this._onCancel.event;\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _extractLineNumberFromMouseEvent: (e: ClickLinkMouseEvent) => number;\n\tprivate _opts: ClickLinkOptions;\n\n\tprivate _lastMouseMoveEvent: ClickLinkMouseEvent | null;\n\tprivate _hasTriggerKeyOnMouseDown: boolean;\n\tprivate _lineNumberOnMouseDown: number;\n\n\tconstructor(editor: ICodeEditor, opts?: IClickLinkGestureOptions) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\t\tthis._extractLineNumberFromMouseEvent = opts?.extractLineNumberFromMouseEvent ?? ((e) => e.target.position ? e.target.position.lineNumber : 0);\n\t\tthis._opts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._lineNumberOnMouseDown = 0;\n\n\t\tthis._register(this._editor.onDidChangeConfiguration((e) => {\n\t\t\tif (e.hasChanged(EditorOption.multiCursorModifier)) {\n\t\t\t\tconst newOpts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\t\t\t\tif (this._opts.equals(newOpts)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._opts = newOpts;\n\t\t\t\tthis._lastMouseMoveEvent = null;\n\t\t\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\t\t\tthis._lineNumberOnMouseDown = 0;\n\t\t\t\tthis._onCancel.fire();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editor.onMouseMove((e: IEditorMouseEvent) => this._onEditorMouseMove(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDown((e: IEditorMouseEvent) => this._onEditorMouseDown(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseUp((e: IEditorMouseEvent) => this._onEditorMouseUp(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyDown((e: IKeyboardEvent) => this._onEditorKeyDown(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyUp((e: IKeyboardEvent) => this._onEditorKeyUp(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDrag(() => this._resetHandler()));\n\n\t\tthis._register(this._editor.onDidChangeCursorSelection((e) => this._onDidChangeCursorSelection(e)));\n\t\tthis._register(this._editor.onDidChangeModel((e) => this._resetHandler()));\n\t\tthis._register(this._editor.onDidChangeModelContent(() => this._resetHandler()));\n\t\tthis._register(this._editor.onDidScrollChange((e) => {\n\t\t\tif (e.scrollTopChanged || e.scrollLeftChanged) {\n\t\t\t\tthis._resetHandler();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onDidChangeCursorSelection(e: ICursorSelectionChangedEvent): void {\n\t\tif (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n\t\t\tthis._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)\n\t\t}\n\t}\n\n\tprivate _onEditorMouseMove(mouseEvent: ClickLinkMouseEvent): void {\n\t\tthis._lastMouseMoveEvent = mouseEvent;\n\n\t\tthis._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n\t}\n\n\tprivate _onEditorMouseDown(mouseEvent: ClickLinkMouseEvent): void {\n\t\t// We need to record if we had the trigger key on mouse down because someone might select something in the editor\n\t\t// holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n\t\t// release the mouse button without wanting to do the navigation.\n\t\t// With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n\t\tthis._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n\t\tthis._lineNumberOnMouseDown = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t}\n\n\tprivate _onEditorMouseUp(mouseEvent: ClickLinkMouseEvent): void {\n\t\tconst currentLineNumber = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t\tif (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber) {\n\t\t\tthis._onExecute.fire(mouseEvent);\n\t\t}\n\t}\n\n\tprivate _onEditorKeyDown(e: ClickLinkKeyboardEvent): void {\n\t\tif (\n\t\t\tthis._lastMouseMoveEvent\n\t\t\t&& (\n\t\t\t\te.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n\t\t\t\t|| (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n\t\t\t)\n\t\t) {\n\t\t\tthis._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent, e]);\n\t\t} else if (e.hasTriggerModifier) {\n\t\t\tthis._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n\t\t}\n\t}\n\n\tprivate _onEditorKeyUp(e: ClickLinkKeyboardEvent): void {\n\t\tif (e.keyCodeIsTriggerKey) {\n\t\t\tthis._onCancel.fire();\n\t\t}\n\t}\n\n\tprivate _resetHandler(): void {\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._onCancel.fire();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { ICodeEditor, IEditorMouseEvent, IMouseTarget } from '../../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { ICursorSelectionChangedEvent } from '../../../../common/cursorEvents.js';\n\nfunction hasModifier(e: { ctrlKey: boolean; shiftKey: boolean; altKey: boolean; metaKey: boolean }, modifier: 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey'): boolean {\n\treturn !!e[modifier];\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkMouseEvent {\n\n\tpublic readonly target: IMouseTarget;\n\tpublic readonly hasTriggerModifier: boolean;\n\tpublic readonly hasSideBySideModifier: boolean;\n\tpublic readonly isNoneOrSingleMouseDown: boolean;\n\tpublic readonly isLeftClick: boolean;\n\tpublic readonly isMiddleClick: boolean;\n\tpublic readonly isRightClick: boolean;\n\n\tconstructor(source: IEditorMouseEvent, opts: ClickLinkOptions) {\n\t\tthis.target = source.target;\n\t\tthis.isLeftClick = source.event.leftButton;\n\t\tthis.isMiddleClick = source.event.middleButton;\n\t\tthis.isRightClick = source.event.rightButton;\n\t\tthis.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n\t\tthis.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n\t\tthis.isNoneOrSingleMouseDown = (source.event.detail <= 1);\n\t}\n}\n\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkKeyboardEvent {\n\n\tpublic readonly keyCodeIsTriggerKey: boolean;\n\tpublic readonly keyCodeIsSideBySideKey: boolean;\n\tpublic readonly hasTriggerModifier: boolean;\n\n\tconstructor(source: IKeyboardEvent, opts: ClickLinkOptions) {\n\t\tthis.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n\t\tthis.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n\t\tthis.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n\t}\n}\nexport type TriggerModifier = 'ctrlKey' | 'shiftKey' | 'altKey' | 'metaKey';\n\nexport class ClickLinkOptions {\n\n\tpublic readonly triggerKey: KeyCode;\n\tpublic readonly triggerModifier: TriggerModifier;\n\tpublic readonly triggerSideBySideKey: KeyCode;\n\tpublic readonly triggerSideBySideModifier: TriggerModifier;\n\n\tconstructor(\n\t\ttriggerKey: KeyCode,\n\t\ttriggerModifier: TriggerModifier,\n\t\ttriggerSideBySideKey: KeyCode,\n\t\ttriggerSideBySideModifier: TriggerModifier\n\t) {\n\t\tthis.triggerKey = triggerKey;\n\t\tthis.triggerModifier = triggerModifier;\n\t\tthis.triggerSideBySideKey = triggerSideBySideKey;\n\t\tthis.triggerSideBySideModifier = triggerSideBySideModifier;\n\t}\n\n\tpublic equals(other: ClickLinkOptions): boolean {\n\t\treturn (\n\t\t\tthis.triggerKey === other.triggerKey\n\t\t\t&& this.triggerModifier === other.triggerModifier\n\t\t\t&& this.triggerSideBySideKey === other.triggerSideBySideKey\n\t\t\t&& this.triggerSideBySideModifier === other.triggerSideBySideModifier\n\t\t);\n\t}\n}\n\nfunction createOptions(multiCursorModifier: 'altKey' | 'ctrlKey' | 'metaKey'): ClickLinkOptions {\n\tif (multiCursorModifier === 'altKey') {\n\t\tif (platform.isMacintosh) {\n\t\t\treturn new ClickLinkOptions(KeyCode.Meta, 'metaKey', KeyCode.Alt, 'altKey');\n\t\t}\n\t\treturn new ClickLinkOptions(KeyCode.Ctrl, 'ctrlKey', KeyCode.Alt, 'altKey');\n\t}\n\n\tif (platform.isMacintosh) {\n\t\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Meta, 'metaKey');\n\t}\n\treturn new ClickLinkOptions(KeyCode.Alt, 'altKey', KeyCode.Ctrl, 'ctrlKey');\n}\n\nexport interface IClickLinkGestureOptions {\n\t/**\n\t * Return 0 if the mouse event should not be considered.\n\t */\n\textractLineNumberFromMouseEvent?: (e: ClickLinkMouseEvent) => number;\n}\n\nexport class ClickLinkGesture extends Disposable {\n\n\tprivate readonly _onMouseMoveOrRelevantKeyDown: Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._register(new Emitter<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]>());\n\tpublic readonly onMouseMoveOrRelevantKeyDown: Event<[ClickLinkMouseEvent, ClickLinkKeyboardEvent | null]> = this._onMouseMoveOrRelevantKeyDown.event;\n\n\tprivate readonly _onExecute: Emitter<ClickLinkMouseEvent> = this._register(new Emitter<ClickLinkMouseEvent>());\n\tpublic readonly onExecute: Event<ClickLinkMouseEvent> = this._onExecute.event;\n\n\tprivate readonly _onCancel: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onCancel: Event<void> = this._onCancel.event;\n\n\tprivate readonly _editor: ICodeEditor;\n\tprivate readonly _extractLineNumberFromMouseEvent: (e: ClickLinkMouseEvent) => number;\n\tprivate _opts: ClickLinkOptions;\n\n\tprivate _lastMouseMoveEvent: ClickLinkMouseEvent | null;\n\tprivate _hasTriggerKeyOnMouseDown: boolean;\n\tprivate _lineNumberOnMouseDown: number;\n\n\tconstructor(editor: ICodeEditor, opts?: IClickLinkGestureOptions) {\n\t\tsuper();\n\n\t\tthis._editor = editor;\n\t\tthis._extractLineNumberFromMouseEvent = opts?.extractLineNumberFromMouseEvent ?? ((e) => e.target.position ? e.target.position.lineNumber : 0);\n\t\tthis._opts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._lineNumberOnMouseDown = 0;\n\n\t\tthis._register(this._editor.onDidChangeConfiguration((e) => {\n\t\t\tif (e.hasChanged(EditorOption.multiCursorModifier)) {\n\t\t\t\tconst newOpts = createOptions(this._editor.getOption(EditorOption.multiCursorModifier));\n\t\t\t\tif (this._opts.equals(newOpts)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._opts = newOpts;\n\t\t\t\tthis._lastMouseMoveEvent = null;\n\t\t\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\t\t\tthis._lineNumberOnMouseDown = 0;\n\t\t\t\tthis._onCancel.fire();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editor.onMouseMove((e: IEditorMouseEvent) => this._onEditorMouseMove(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDown((e: IEditorMouseEvent) => this._onEditorMouseDown(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseUp((e: IEditorMouseEvent) => this._onEditorMouseUp(new ClickLinkMouseEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyDown((e: IKeyboardEvent) => this._onEditorKeyDown(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onKeyUp((e: IKeyboardEvent) => this._onEditorKeyUp(new ClickLinkKeyboardEvent(e, this._opts))));\n\t\tthis._register(this._editor.onMouseDrag(() => this._resetHandler()));\n\n\t\tthis._register(this._editor.onDidChangeCursorSelection((e) => this._onDidChangeCursorSelection(e)));\n\t\tthis._register(this._editor.onDidChangeModel((e) => this._resetHandler()));\n\t\tthis._register(this._editor.onDidChangeModelContent(() => this._resetHandler()));\n\t\tthis._register(this._editor.onDidScrollChange((e) => {\n\t\t\tif (e.scrollTopChanged || e.scrollLeftChanged) {\n\t\t\t\tthis._resetHandler();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onDidChangeCursorSelection(e: ICursorSelectionChangedEvent): void {\n\t\tif (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n\t\t\tthis._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)\n\t\t}\n\t}\n\n\tprivate _onEditorMouseMove(mouseEvent: ClickLinkMouseEvent): void {\n\t\tthis._lastMouseMoveEvent = mouseEvent;\n\n\t\tthis._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n\t}\n\n\tprivate _onEditorMouseDown(mouseEvent: ClickLinkMouseEvent): void {\n\t\t// We need to record if we had the trigger key on mouse down because someone might select something in the editor\n\t\t// holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n\t\t// release the mouse button without wanting to do the navigation.\n\t\t// With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n\t\tthis._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n\t\tthis._lineNumberOnMouseDown = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t}\n\n\tprivate _onEditorMouseUp(mouseEvent: ClickLinkMouseEvent): void {\n\t\tconst currentLineNumber = this._extractLineNumberFromMouseEvent(mouseEvent);\n\t\tif (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber) {\n\t\t\tthis._onExecute.fire(mouseEvent);\n\t\t}\n\t}\n\n\tprivate _onEditorKeyDown(e: ClickLinkKeyboardEvent): void {\n\t\tif (\n\t\t\tthis._lastMouseMoveEvent\n\t\t\t&& (\n\t\t\t\te.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n\t\t\t\t|| (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n\t\t\t)\n\t\t) {\n\t\t\tthis._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent, e]);\n\t\t} else if (e.hasTriggerModifier) {\n\t\t\tthis._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n\t\t}\n\t}\n\n\tprivate _onEditorKeyUp(e: ClickLinkKeyboardEvent): void {\n\t\tif (e.keyCodeIsTriggerKey) {\n\t\t\tthis._onCancel.fire();\n\t\t}\n\t}\n\n\tprivate _resetHandler(): void {\n\t\tthis._lastMouseMoveEvent = null;\n\t\tthis._hasTriggerKeyOnMouseDown = false;\n\t\tthis._onCancel.fire();\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/referencesModel.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/vs/editor/contrib/gotoSymbol/browser/referencesModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IMatch } from '../../../../base/common/filters.js';\nimport { defaultGenerator } from '../../../../base/common/idGenerator.js';\nimport { dispose, IDisposable, IReference } from '../../../../base/common/lifecycle.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { basename, extUri } from '../../../../base/common/resources.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { Constants } from '../../../../base/common/uint.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Position } from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { Location, LocationLink } from '../../../common/languages.js';\nimport { ITextEditorModel, ITextModelService } from '../../../common/services/resolverService.js';\nimport { localize } from '../../../../nls.js';\n\nexport class OneReference {\n\n\treadonly id: string = defaultGenerator.nextId();\n\n\tprivate _range?: IRange;\n\n\tconstructor(\n\t\treadonly isProviderFirst: boolean,\n\t\treadonly parent: FileReferences,\n\t\treadonly link: LocationLink,\n\t\tprivate _rangeCallback: (ref: OneReference) => void\n\t) { }\n\n\tget uri() {\n\t\treturn this.link.uri;\n\t}\n\n\tget range(): IRange {\n\t\treturn this._range ?? this.link.targetSelectionRange ?? this.link.range;\n\t}\n\n\tset range(value: IRange) {\n\t\tthis._range = value;\n\t\tthis._rangeCallback(this);\n\t}\n\n\tget ariaMessage(): string {\n\n\t\tconst preview = this.parent.getPreview(this)?.preview(this.range);\n\n\t\tif (!preview) {\n\t\t\treturn localize(\n\t\t\t\t'aria.oneReference', \"in {0} on line {1} at column {2}\",\n\t\t\t\tbasename(this.uri), this.range.startLineNumber, this.range.startColumn\n\t\t\t);\n\t\t} else {\n\t\t\treturn localize(\n\t\t\t\t{ key: 'aria.oneReference.preview', comment: ['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code'] }, \"{0} in {1} on line {2} at column {3}\",\n\t\t\t\tpreview.value, basename(this.uri), this.range.startLineNumber, this.range.startColumn\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport class FilePreview implements IDisposable {\n\n\tconstructor(\n\t\tprivate readonly _modelReference: IReference<ITextEditorModel>\n\t) { }\n\n\tdispose(): void {\n\t\tthis._modelReference.dispose();\n\t}\n\n\tpreview(range: IRange, n: number = 8): { value: string; highlight: IMatch } | undefined {\n\t\tconst model = this._modelReference.object.textEditorModel;\n\n\t\tif (!model) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst { startLineNumber, startColumn, endLineNumber, endColumn } = range;\n\t\tconst word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\n\t\tconst beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n\t\tconst afterRange = new Range(endLineNumber, endColumn, endLineNumber, Constants.MAX_SAFE_SMALL_INTEGER);\n\n\t\tconst before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\n\t\tconst inside = model.getValueInRange(range);\n\t\tconst after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\n\n\t\treturn {\n\t\t\tvalue: before + inside + after,\n\t\t\thighlight: { start: before.length, end: before.length + inside.length }\n\t\t};\n\t}\n}\n\nexport class FileReferences implements IDisposable {\n\n\treadonly children: OneReference[] = [];\n\n\tprivate _previews = new ResourceMap<FilePreview>();\n\n\tconstructor(\n\t\treadonly parent: ReferencesModel,\n\t\treadonly uri: URI\n\t) { }\n\n\tdispose(): void {\n\t\tdispose(this._previews.values());\n\t\tthis._previews.clear();\n\t}\n\n\tgetPreview(child: OneReference): FilePreview | undefined {\n\t\treturn this._previews.get(child.uri);\n\t}\n\n\tget ariaMessage(): string {\n\t\tconst len = this.children.length;\n\t\tif (len === 1) {\n\t\t\treturn localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\n\t\t} else {\n\t\t\treturn localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\n\t\t}\n\t}\n\n\tasync resolve(textModelResolverService: ITextModelService): Promise<FileReferences> {\n\t\tif (this._previews.size !== 0) {\n\t\t\treturn this;\n\t\t}\n\t\tfor (const child of this.children) {\n\t\t\tif (this._previews.has(child.uri)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst ref = await textModelResolverService.createModelReference(child.uri);\n\t\t\t\tthis._previews.set(child.uri, new FilePreview(ref));\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}\n\nexport class ReferencesModel implements IDisposable {\n\n\tprivate readonly _links: LocationLink[];\n\tprivate readonly _title: string;\n\n\treadonly groups: FileReferences[] = [];\n\treadonly references: OneReference[] = [];\n\n\treadonly _onDidChangeReferenceRange = new Emitter<OneReference>();\n\treadonly onDidChangeReferenceRange: Event<OneReference> = this._onDidChangeReferenceRange.event;\n\n\tconstructor(links: LocationLink[], title: string) {\n\t\tthis._links = links;\n\t\tthis._title = title;\n\n\t\t// grouping and sorting\n\t\tconst [providersFirst] = links;\n\t\tlinks.sort(ReferencesModel._compareReferences);\n\n\t\tlet current: FileReferences | undefined;\n\t\tfor (const link of links) {\n\t\t\tif (!current || !extUri.isEqual(current.uri, link.uri, true)) {\n\t\t\t\t// new group\n\t\t\t\tcurrent = new FileReferences(this, link.uri);\n\t\t\t\tthis.groups.push(current);\n\t\t\t}\n\n\t\t\t// append, check for equality first!\n\t\t\tif (current.children.length === 0 || ReferencesModel._compareReferences(link, current.children[current.children.length - 1]) !== 0) {\n\n\t\t\t\tconst oneRef = new OneReference(\n\t\t\t\t\tprovidersFirst === link,\n\t\t\t\t\tcurrent,\n\t\t\t\t\tlink,\n\t\t\t\t\tref => this._onDidChangeReferenceRange.fire(ref)\n\t\t\t\t);\n\t\t\t\tthis.references.push(oneRef);\n\t\t\t\tcurrent.children.push(oneRef);\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tdispose(this.groups);\n\t\tthis._onDidChangeReferenceRange.dispose();\n\t\tthis.groups.length = 0;\n\t}\n\n\tclone(): ReferencesModel {\n\t\treturn new ReferencesModel(this._links, this._title);\n\t}\n\n\tget title(): string {\n\t\treturn this._title;\n\t}\n\n\tget isEmpty(): boolean {\n\t\treturn this.groups.length === 0;\n\t}\n\n\tget ariaMessage(): string {\n\t\tif (this.isEmpty) {\n\t\t\treturn localize('aria.result.0', \"No results found\");\n\t\t} else if (this.references.length === 1) {\n\t\t\treturn localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n\t\t} else if (this.groups.length === 1) {\n\t\t\treturn localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n\t\t} else {\n\t\t\treturn localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n\t\t}\n\t}\n\n\tnextOrPreviousReference(reference: OneReference, next: boolean): OneReference {\n\n\t\tconst { parent } = reference;\n\n\t\tlet idx = parent.children.indexOf(reference);\n\t\tconst childCount = parent.children.length;\n\t\tconst groupCount = parent.parent.groups.length;\n\n\t\tif (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n\t\t\t// cycling within one file\n\t\t\tif (next) {\n\t\t\t\tidx = (idx + 1) % childCount;\n\t\t\t} else {\n\t\t\t\tidx = (idx + childCount - 1) % childCount;\n\t\t\t}\n\t\t\treturn parent.children[idx];\n\t\t}\n\n\t\tidx = parent.parent.groups.indexOf(parent);\n\t\tif (next) {\n\t\t\tidx = (idx + 1) % groupCount;\n\t\t\treturn parent.parent.groups[idx].children[0];\n\t\t} else {\n\t\t\tidx = (idx + groupCount - 1) % groupCount;\n\t\t\treturn parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n\t\t}\n\t}\n\n\tnearestReference(resource: URI, position: Position): OneReference | undefined {\n\n\t\tconst nearest = this.references.map((ref, idx) => {\n\t\t\treturn {\n\t\t\t\tidx,\n\t\t\t\tprefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n\t\t\t\toffsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n\t\t\t};\n\t\t}).sort((a, b) => {\n\t\t\tif (a.prefixLen > b.prefixLen) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a.prefixLen < b.prefixLen) {\n\t\t\t\treturn 1;\n\t\t\t} else if (a.offsetDist < b.offsetDist) {\n\t\t\t\treturn -1;\n\t\t\t} else if (a.offsetDist > b.offsetDist) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t})[0];\n\n\t\tif (nearest) {\n\t\t\treturn this.references[nearest.idx];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\treferenceAt(resource: URI, position: Position): OneReference | undefined {\n\t\tfor (const ref of this.references) {\n\t\t\tif (ref.uri.toString() === resource.toString()) {\n\t\t\t\tif (Range.containsPosition(ref.range, position)) {\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tfirstReference(): OneReference | undefined {\n\t\tfor (const ref of this.references) {\n\t\t\tif (ref.isProviderFirst) {\n\t\t\t\treturn ref;\n\t\t\t}\n\t\t}\n\t\treturn this.references[0];\n\t}\n\n\tprivate static _compareReferences(a: Location, b: Location): number {\n\t\treturn extUri.compare(a.uri, b.uri) || Range.compareRangesUsingStarts(a.range, b.range);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesTree.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/vs/editor/contrib/gotoSymbol/browser/peek/referencesTree.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { CountBadge } from '../../../../../base/browser/ui/countBadge/countBadge.js';\nimport { HighlightedLabel } from '../../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IconLabel } from '../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { IIdentityProvider, IKeyboardNavigationLabelProvider, IListVirtualDelegate } from '../../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../../base/browser/ui/list/listWidget.js';\nimport { IAsyncDataSource, ITreeNode, ITreeRenderer } from '../../../../../base/browser/ui/tree/tree.js';\nimport { createMatches, FuzzyScore, IMatch } from '../../../../../base/common/filters.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { basename, dirname } from '../../../../../base/common/resources.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { localize } from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { defaultCountBadgeStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { FileReferences, OneReference, ReferencesModel } from '../referencesModel.js';\n\n//#region data source\n\nexport type TreeElement = FileReferences | OneReference;\n\nexport class DataSource implements IAsyncDataSource<ReferencesModel | FileReferences, TreeElement> {\n\n\tconstructor(@ITextModelService private readonly _resolverService: ITextModelService) { }\n\n\thasChildren(element: ReferencesModel | FileReferences | TreeElement): boolean {\n\t\tif (element instanceof ReferencesModel) {\n\t\t\treturn true;\n\t\t}\n\t\tif (element instanceof FileReferences) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetChildren(element: ReferencesModel | FileReferences | TreeElement): TreeElement[] | Promise<TreeElement[]> {\n\t\tif (element instanceof ReferencesModel) {\n\t\t\treturn element.groups;\n\t\t}\n\n\t\tif (element instanceof FileReferences) {\n\t\t\treturn element.resolve(this._resolverService).then(val => {\n\t\t\t\t// if (element.failure) {\n\t\t\t\t// \t// refresh the element on failure so that\n\t\t\t\t// \t// we can update its rendering\n\t\t\t\t// \treturn tree.refresh(element).then(() => val.children);\n\t\t\t\t// }\n\t\t\t\treturn val.children;\n\t\t\t});\n\t\t}\n\n\t\tthrow new Error('bad tree');\n\t}\n}\n\n//#endregion\n\nexport class Delegate implements IListVirtualDelegate<TreeElement> {\n\tgetHeight(): number {\n\t\treturn 23;\n\t}\n\tgetTemplateId(element: FileReferences | OneReference): string {\n\t\tif (element instanceof FileReferences) {\n\t\t\treturn FileReferencesRenderer.id;\n\t\t} else {\n\t\t\treturn OneReferenceRenderer.id;\n\t\t}\n\t}\n}\n\nexport class StringRepresentationProvider implements IKeyboardNavigationLabelProvider<TreeElement> {\n\n\tconstructor(@IKeybindingService private readonly _keybindingService: IKeybindingService) { }\n\n\tgetKeyboardNavigationLabel(element: TreeElement): { toString(): string } {\n\t\tif (element instanceof OneReference) {\n\t\t\tconst parts = element.parent.getPreview(element)?.preview(element.range);\n\t\t\tif (parts) {\n\t\t\t\treturn parts.value;\n\t\t\t}\n\t\t}\n\t\t// FileReferences or unresolved OneReference\n\t\treturn basename(element.uri);\n\t}\n}\n\nexport class IdentityProvider implements IIdentityProvider<TreeElement> {\n\n\tgetId(element: TreeElement): { toString(): string } {\n\t\treturn element instanceof OneReference ? element.id : element.uri;\n\t}\n}\n\n//#region render: File\n\nclass FileReferencesTemplate extends Disposable {\n\n\treadonly file: IconLabel;\n\treadonly badge: CountBadge;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@ILabelService private readonly _labelService: ILabelService\n\t) {\n\t\tsuper();\n\t\tconst parent = document.createElement('div');\n\t\tparent.classList.add('reference-file');\n\t\tthis.file = this._register(new IconLabel(parent, { supportHighlights: true }));\n\n\t\tthis.badge = this._register(new CountBadge(dom.append(parent, dom.$('.count')), {}, defaultCountBadgeStyles));\n\n\t\tcontainer.appendChild(parent);\n\t}\n\n\tset(element: FileReferences, matches: IMatch[]) {\n\t\tconst parent = dirname(element.uri);\n\t\tthis.file.setLabel(\n\t\t\tthis._labelService.getUriBasenameLabel(element.uri),\n\t\t\tthis._labelService.getUriLabel(parent, { relative: true }),\n\t\t\t{ title: this._labelService.getUriLabel(element.uri), matches }\n\t\t);\n\t\tconst len = element.children.length;\n\t\tthis.badge.setCount(len);\n\t\tif (len > 1) {\n\t\t\tthis.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\n\t\t} else {\n\t\t\tthis.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\n\t\t}\n\t}\n}\n\nexport class FileReferencesRenderer implements ITreeRenderer<FileReferences, FuzzyScore, FileReferencesTemplate> {\n\n\tstatic readonly id = 'FileReferencesRenderer';\n\n\treadonly templateId: string = FileReferencesRenderer.id;\n\n\tconstructor(@IInstantiationService private readonly _instantiationService: IInstantiationService) { }\n\n\trenderTemplate(container: HTMLElement): FileReferencesTemplate {\n\t\treturn this._instantiationService.createInstance(FileReferencesTemplate, container);\n\t}\n\trenderElement(node: ITreeNode<FileReferences, FuzzyScore>, index: number, template: FileReferencesTemplate): void {\n\t\ttemplate.set(node.element, createMatches(node.filterData));\n\t}\n\tdisposeTemplate(templateData: FileReferencesTemplate): void {\n\t\ttemplateData.dispose();\n\t}\n}\n\n//#endregion\n\n//#region render: Reference\nclass OneReferenceTemplate extends Disposable {\n\n\treadonly label: HighlightedLabel;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\n\t\tthis.label = this._register(new HighlightedLabel(container));\n\t}\n\n\tset(element: OneReference, score?: FuzzyScore): void {\n\t\tconst preview = element.parent.getPreview(element)?.preview(element.range);\n\t\tif (!preview || !preview.value) {\n\t\t\t// this means we FAILED to resolve the document or the value is the empty string\n\t\t\tthis.label.set(`${basename(element.uri)}:${element.range.startLineNumber + 1}:${element.range.startColumn + 1}`);\n\t\t} else {\n\t\t\t// render search match as highlight unless\n\t\t\t// we have score, then render the score\n\t\t\tconst { value, highlight } = preview;\n\t\t\tif (score && !FuzzyScore.isDefault(score)) {\n\t\t\t\tthis.label.element.classList.toggle('referenceMatch', false);\n\t\t\t\tthis.label.set(value, createMatches(score));\n\t\t\t} else {\n\t\t\t\tthis.label.element.classList.toggle('referenceMatch', true);\n\t\t\t\tthis.label.set(value, [highlight]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class OneReferenceRenderer implements ITreeRenderer<OneReference, FuzzyScore, OneReferenceTemplate> {\n\n\tstatic readonly id = 'OneReferenceRenderer';\n\n\treadonly templateId: string = OneReferenceRenderer.id;\n\n\trenderTemplate(container: HTMLElement): OneReferenceTemplate {\n\t\treturn new OneReferenceTemplate(container);\n\t}\n\trenderElement(node: ITreeNode<OneReference, FuzzyScore>, index: number, templateData: OneReferenceTemplate): void {\n\t\ttemplateData.set(node.element, node.filterData);\n\t}\n\tdisposeTemplate(templateData: OneReferenceTemplate): void {\n\t\ttemplateData.dispose();\n\t}\n}\n\n//#endregion\n\n\nexport class AccessibilityProvider implements IListAccessibilityProvider<FileReferences | OneReference> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('treeAriaLabel', \"References\");\n\t}\n\n\tgetAriaLabel(element: FileReferences | OneReference): string | null {\n\t\treturn element.ariaMessage;\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { IMouseEvent } from '../../../../../base/browser/mouseEvent.js';\nimport { Orientation } from '../../../../../base/browser/ui/sash/sash.js';\nimport { Sizing, SplitView } from '../../../../../base/browser/ui/splitview/splitview.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { FuzzyScore } from '../../../../../base/common/filters.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { DisposableStore, dispose, IDisposable, IReference } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { basenameOrAuthority, dirname } from '../../../../../base/common/resources.js';\nimport './referencesWidget.css';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { EmbeddedCodeEditorWidget } from '../../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { IEditorOptions } from '../../../../common/config/editorOptions.js';\nimport { IRange, Range } from '../../../../common/core/range.js';\nimport { ScrollType } from '../../../../common/editorCommon.js';\nimport { IModelDeltaDecoration, TrackedRangeStickiness } from '../../../../common/model.js';\nimport { ModelDecorationOptions, TextModel } from '../../../../common/model/textModel.js';\nimport { Location } from '../../../../common/languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../../common/languages/modesRegistry.js';\nimport { ITextEditorModel, ITextModelService } from '../../../../common/services/resolverService.js';\nimport { AccessibilityProvider, DataSource, Delegate, FileReferencesRenderer, IdentityProvider, OneReferenceRenderer, StringRepresentationProvider, TreeElement } from './referencesTree.js';\nimport * as peekView from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { IWorkbenchAsyncDataTreeOptions, WorkbenchAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { IColorTheme, IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { FileReferences, OneReference, ReferencesModel } from '../referencesModel.js';\nimport { ITreeDragAndDrop, ITreeDragOverReaction } from '../../../../../base/browser/ui/tree/tree.js';\nimport { DataTransfers, IDragAndDropData } from '../../../../../base/browser/dnd.js';\nimport { ElementsDragAndDropData } from '../../../../../base/browser/ui/list/listView.js';\nimport { withSelection } from '../../../../../platform/opener/common/opener.js';\n\nclass DecorationsManager implements IDisposable {\n\n\tprivate static readonly DecorationOptions = ModelDecorationOptions.register({\n\t\tdescription: 'reference-decoration',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tclassName: 'reference-decoration'\n\t});\n\n\tprivate _decorations = new Map<string, OneReference>();\n\tprivate _decorationIgnoreSet = new Set<string>();\n\tprivate readonly _callOnDispose = new DisposableStore();\n\tprivate readonly _callOnModelChange = new DisposableStore();\n\n\tconstructor(private _editor: ICodeEditor, private _model: ReferencesModel) {\n\t\tthis._callOnDispose.add(this._editor.onDidChangeModel(() => this._onModelChanged()));\n\t\tthis._onModelChanged();\n\t}\n\n\tdispose(): void {\n\t\tthis._callOnModelChange.dispose();\n\t\tthis._callOnDispose.dispose();\n\t\tthis.removeDecorations();\n\t}\n\n\tprivate _onModelChanged(): void {\n\t\tthis._callOnModelChange.clear();\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\t\tfor (const ref of this._model.references) {\n\t\t\tif (ref.uri.toString() === model.uri.toString()) {\n\t\t\t\tthis._addDecorations(ref.parent);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _addDecorations(reference: FileReferences): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tthis._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(() => this._onDecorationChanged()));\n\n\t\tconst newDecorations: IModelDeltaDecoration[] = [];\n\t\tconst newDecorationsActualIndex: number[] = [];\n\n\t\tfor (let i = 0, len = reference.children.length; i < len; i++) {\n\t\t\tconst oneReference = reference.children[i];\n\t\t\tif (this._decorationIgnoreSet.has(oneReference.id)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (oneReference.uri.toString() !== this._editor.getModel().uri.toString()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tnewDecorations.push({\n\t\t\t\trange: oneReference.range,\n\t\t\t\toptions: DecorationsManager.DecorationOptions\n\t\t\t});\n\t\t\tnewDecorationsActualIndex.push(i);\n\t\t}\n\n\t\tthis._editor.changeDecorations((changeAccessor) => {\n\t\t\tconst decorations = changeAccessor.deltaDecorations([], newDecorations);\n\t\t\tfor (let i = 0; i < decorations.length; i++) {\n\t\t\t\tthis._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _onDecorationChanged(): void {\n\t\tconst toRemove: string[] = [];\n\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [decorationId, reference] of this._decorations) {\n\n\t\t\tconst newRange = model.getDecorationRange(decorationId);\n\n\t\t\tif (!newRange) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet ignore = false;\n\t\t\tif (Range.equalsRange(newRange, reference.range)) {\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif (Range.spansMultipleLines(newRange)) {\n\t\t\t\tignore = true;\n\n\t\t\t} else {\n\t\t\t\tconst lineLength = reference.range.endColumn - reference.range.startColumn;\n\t\t\t\tconst newLineLength = newRange.endColumn - newRange.startColumn;\n\n\t\t\t\tif (lineLength !== newLineLength) {\n\t\t\t\t\tignore = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ignore) {\n\t\t\t\tthis._decorationIgnoreSet.add(reference.id);\n\t\t\t\ttoRemove.push(decorationId);\n\t\t\t} else {\n\t\t\t\treference.range = newRange;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0, len = toRemove.length; i < len; i++) {\n\t\t\tthis._decorations.delete(toRemove[i]);\n\t\t}\n\t\tthis._editor.removeDecorations(toRemove);\n\t}\n\n\tremoveDecorations(): void {\n\t\tthis._editor.removeDecorations([...this._decorations.keys()]);\n\t\tthis._decorations.clear();\n\t}\n}\n\nexport class LayoutData {\n\tratio: number = 0.7;\n\theightInLines: number = 18;\n\n\tstatic fromJSON(raw: string): LayoutData {\n\t\tlet ratio: number | undefined;\n\t\tlet heightInLines: number | undefined;\n\t\ttry {\n\t\t\tconst data = <LayoutData>JSON.parse(raw);\n\t\t\tratio = data.ratio;\n\t\t\theightInLines = data.heightInLines;\n\t\t} catch {\n\t\t\t//\n\t\t}\n\t\treturn {\n\t\t\tratio: ratio || 0.7,\n\t\t\theightInLines: heightInLines || 18\n\t\t};\n\t}\n}\n\nexport interface SelectionEvent {\n\treadonly kind: 'goto' | 'show' | 'side' | 'open';\n\treadonly source: 'editor' | 'tree' | 'title';\n\treadonly element?: Location;\n}\n\nclass ReferencesTree extends WorkbenchAsyncDataTree<ReferencesModel | FileReferences, TreeElement, FuzzyScore> { }\n\nclass ReferencesDragAndDrop implements ITreeDragAndDrop<TreeElement> {\n\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(@ILabelService private readonly labelService: ILabelService) { }\n\n\tgetDragURI(element: TreeElement): string | null {\n\t\tif (element instanceof FileReferences) {\n\t\t\treturn element.uri.toString();\n\t\t} else if (element instanceof OneReference) {\n\t\t\treturn withSelection(element.uri, element.range).toString();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetDragLabel(elements: TreeElement[]): string | undefined {\n\t\tif (elements.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst labels = elements.map(e => this.labelService.getUriBasenameLabel(e.uri));\n\t\treturn labels.join(', ');\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tif (!originalEvent.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elements = (data as ElementsDragAndDropData<TreeElement, TreeElement[]>).elements;\n\t\tconst resources = elements.map(e => this.getDragURI(e)).filter(Boolean);\n\n\t\tif (resources.length) {\n\t\t\t// Apply resources as resource-list\n\t\t\toriginalEvent.dataTransfer.setData(DataTransfers.RESOURCES, JSON.stringify(resources));\n\n\t\t\t// Also add as plain text for outside consumers\n\t\t\toriginalEvent.dataTransfer.setData(DataTransfers.TEXT, resources.join('\\n'));\n\t\t}\n\t}\n\n\tonDragOver(): boolean | ITreeDragOverReaction { return false; }\n\tdrop(): void { }\n\tdispose(): void { this.disposables.dispose(); }\n}\n\n/**\n * ZoneWidget that is shown inside the editor\n */\nexport class ReferenceWidget extends peekView.PeekViewWidget {\n\n\tprivate _model?: ReferencesModel;\n\tprivate _decorationsManager?: DecorationsManager;\n\n\tprivate readonly _disposeOnNewModel = new DisposableStore();\n\tprivate readonly _callOnDispose = new DisposableStore();\n\n\tprivate readonly _onDidSelectReference = new Emitter<SelectionEvent>();\n\treadonly onDidSelectReference = this._onDidSelectReference.event;\n\n\tprivate _tree!: ReferencesTree;\n\tprivate _treeContainer!: HTMLElement;\n\tprivate _splitView!: SplitView;\n\tprivate _preview!: ICodeEditor;\n\tprivate _previewModelReference!: IReference<ITextEditorModel>;\n\tprivate _previewNotAvailableMessage!: TextModel;\n\tprivate _previewContainer!: HTMLElement;\n\tprivate _messageContainer!: HTMLElement;\n\tprivate _dim = new dom.Dimension(0, 0);\n\tprivate _isClosing = false; // whether or not a dispose is already in progress\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tprivate _defaultTreeKeyboardSupport: boolean,\n\t\tpublic layoutData: LayoutData,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITextModelService private readonly _textModelResolverService: ITextModelService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@peekView.IPeekViewService private readonly _peekViewService: peekView.IPeekViewService,\n\t\t@ILabelService private readonly _uriLabel: ILabelService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t) {\n\t\tsuper(editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true, supportOnTitleClick: true }, _instantiationService);\n\n\t\tthis._applyTheme(themeService.getColorTheme());\n\t\tthis._callOnDispose.add(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n\t\tthis._peekViewService.addExclusiveWidget(editor, this);\n\t\tthis.create();\n\t}\n\n\tget isClosing() {\n\t\treturn this._isClosing;\n\t}\n\n\toverride dispose(): void {\n\t\tthis._isClosing = true;\n\t\tthis.setModel(undefined);\n\t\tthis._callOnDispose.dispose();\n\t\tthis._disposeOnNewModel.dispose();\n\t\tdispose(this._preview);\n\t\tdispose(this._previewNotAvailableMessage);\n\t\tdispose(this._tree);\n\t\tdispose(this._previewModelReference);\n\t\tthis._splitView.dispose();\n\t\tsuper.dispose();\n\t}\n\n\tprivate _applyTheme(theme: IColorTheme) {\n\t\tconst borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\n\t\tthis.style({\n\t\t\tarrowColor: borderColor,\n\t\t\tframeColor: borderColor,\n\t\t\theaderBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\n\t\t\tprimaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\n\t\t\tsecondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\n\t\t});\n\t}\n\n\toverride show(where: IRange) {\n\t\tsuper.show(where, this.layoutData.heightInLines || 18);\n\t}\n\n\tfocusOnReferenceTree(): void {\n\t\tthis._tree.domFocus();\n\t}\n\n\tfocusOnPreviewEditor(): void {\n\t\tthis._preview.focus();\n\t}\n\n\tisPreviewEditorFocused(): boolean {\n\t\treturn this._preview.hasTextFocus();\n\t}\n\n\tprotected override _onTitleClick(e: IMouseEvent): void {\n\t\tif (this._preview && this._preview.getModel()) {\n\t\t\tthis._onDidSelectReference.fire({\n\t\t\t\telement: this._getFocusedReference(),\n\t\t\t\tkind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\n\t\t\t\tsource: 'title'\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _fillBody(containerElement: HTMLElement): void {\n\t\tthis.setCssClass('reference-zone-widget');\n\n\t\t// message pane\n\t\tthis._messageContainer = dom.append(containerElement, dom.$('div.messages'));\n\t\tdom.hide(this._messageContainer);\n\n\t\tthis._splitView = new SplitView(containerElement, { orientation: Orientation.HORIZONTAL });\n\n\t\t// editor\n\t\tthis._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\n\t\tconst options: IEditorOptions = {\n\t\t\tscrollBeyondLastLine: false,\n\t\t\tscrollbar: {\n\t\t\t\tverticalScrollbarSize: 14,\n\t\t\t\thorizontal: 'auto',\n\t\t\t\tuseShadows: true,\n\t\t\t\tverticalHasArrows: false,\n\t\t\t\thorizontalHasArrows: false,\n\t\t\t\talwaysConsumeMouseWheel: true\n\t\t\t},\n\t\t\toverviewRulerLanes: 2,\n\t\t\tfixedOverflowWidgets: true,\n\t\t\tminimap: {\n\t\t\t\tenabled: false\n\t\t\t}\n\t\t};\n\t\tthis._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, {}, this.editor);\n\t\tdom.hide(this._previewContainer);\n\t\tthis._previewNotAvailableMessage = this._instantiationService.createInstance(TextModel, nls.localize('missingPreviewMessage', \"no preview available\"), PLAINTEXT_LANGUAGE_ID, TextModel.DEFAULT_CREATION_OPTIONS, null);\n\n\t\t// tree\n\t\tthis._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\n\t\tconst treeOptions: IWorkbenchAsyncDataTreeOptions<TreeElement, FuzzyScore> = {\n\t\t\tkeyboardSupport: this._defaultTreeKeyboardSupport,\n\t\t\taccessibilityProvider: new AccessibilityProvider(),\n\t\t\tkeyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\n\t\t\tidentityProvider: new IdentityProvider(),\n\t\t\topenOnSingleClick: true,\n\t\t\tselectionNavigation: true,\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: peekView.peekViewResultsBackground\n\t\t\t},\n\t\t\tdnd: this._instantiationService.createInstance(ReferencesDragAndDrop)\n\t\t};\n\t\tif (this._defaultTreeKeyboardSupport) {\n\t\t\t// the tree will consume `Escape` and prevent the widget from closing\n\t\t\tthis._callOnDispose.add(dom.addStandardDisposableListener(this._treeContainer, 'keydown', (e) => {\n\t\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\t\tthis._keybindingService.dispatchEvent(e, e.target);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t}, true));\n\t\t}\n\t\tthis._tree = this._instantiationService.createInstance(\n\t\t\tReferencesTree,\n\t\t\t'ReferencesWidget',\n\t\t\tthis._treeContainer,\n\t\t\tnew Delegate(),\n\t\t\t[\n\t\t\t\tthis._instantiationService.createInstance(FileReferencesRenderer),\n\t\t\t\tthis._instantiationService.createInstance(OneReferenceRenderer),\n\t\t\t],\n\t\t\tthis._instantiationService.createInstance(DataSource),\n\t\t\ttreeOptions,\n\t\t);\n\n\t\t// split stuff\n\t\tthis._splitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: this._previewContainer,\n\t\t\tminimumSize: 200,\n\t\t\tmaximumSize: Number.MAX_VALUE,\n\t\t\tlayout: (width) => {\n\t\t\t\tthis._preview.layout({ height: this._dim.height, width });\n\t\t\t}\n\t\t}, Sizing.Distribute);\n\n\t\tthis._splitView.addView({\n\t\t\tonDidChange: Event.None,\n\t\t\telement: this._treeContainer,\n\t\t\tminimumSize: 100,\n\t\t\tmaximumSize: Number.MAX_VALUE,\n\t\t\tlayout: (width) => {\n\t\t\t\tthis._treeContainer.style.height = `${this._dim.height}px`;\n\t\t\t\tthis._treeContainer.style.width = `${width}px`;\n\t\t\t\tthis._tree.layout(this._dim.height, width);\n\t\t\t}\n\t\t}, Sizing.Distribute);\n\n\t\tthis._disposables.add(this._splitView.onDidSashChange(() => {\n\t\t\tif (this._dim.width) {\n\t\t\t\tthis.layoutData.ratio = this._splitView.getViewSize(0) / this._dim.width;\n\t\t\t}\n\t\t}, undefined));\n\n\t\t// listen on selection and focus\n\t\tconst onEvent = (element: any, kind: 'show' | 'goto' | 'side') => {\n\t\t\tif (element instanceof OneReference) {\n\t\t\t\tif (kind === 'show') {\n\t\t\t\t\tthis._revealReference(element, false);\n\t\t\t\t}\n\t\t\t\tthis._onDidSelectReference.fire({ element, kind, source: 'tree' });\n\t\t\t}\n\t\t};\n\t\tthis._disposables.add(this._tree.onDidOpen(e => {\n\t\t\tif (e.sideBySide) {\n\t\t\t\tonEvent(e.element, 'side');\n\t\t\t} else if (e.editorOptions.pinned) {\n\t\t\t\tonEvent(e.element, 'goto');\n\t\t\t} else {\n\t\t\t\tonEvent(e.element, 'show');\n\t\t\t}\n\t\t}));\n\n\t\tdom.hide(this._treeContainer);\n\t}\n\n\tprotected override _onWidth(width: number) {\n\t\tif (this._dim) {\n\t\t\tthis._doLayoutBody(this._dim.height, width);\n\t\t}\n\t}\n\n\tprotected override _doLayoutBody(heightInPixel: number, widthInPixel: number): void {\n\t\tsuper._doLayoutBody(heightInPixel, widthInPixel);\n\t\tthis._dim = new dom.Dimension(widthInPixel, heightInPixel);\n\t\tthis.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\n\t\tthis._splitView.layout(widthInPixel);\n\t\tthis._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\n\t}\n\n\tsetSelection(selection: OneReference): Promise<any> {\n\t\treturn this._revealReference(selection, true).then(() => {\n\t\t\tif (!this._model) {\n\t\t\t\t// disposed\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// show in tree\n\t\t\tthis._tree.setSelection([selection]);\n\t\t\tthis._tree.setFocus([selection]);\n\t\t});\n\t}\n\n\tsetModel(newModel: ReferencesModel | undefined): Promise<any> {\n\t\t// clean up\n\t\tthis._disposeOnNewModel.clear();\n\t\tthis._model = newModel;\n\t\tif (this._model) {\n\t\t\treturn this._onNewModel();\n\t\t}\n\t\treturn Promise.resolve();\n\t}\n\n\tprivate _onNewModel(): Promise<any> {\n\t\tif (!this._model) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tif (this._model.isEmpty) {\n\t\t\tthis.setTitle('');\n\t\t\tthis._messageContainer.innerText = nls.localize('noResults', \"No results\");\n\t\t\tdom.show(this._messageContainer);\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tdom.hide(this._messageContainer);\n\t\tthis._decorationsManager = new DecorationsManager(this._preview, this._model);\n\t\tthis._disposeOnNewModel.add(this._decorationsManager);\n\n\t\t// listen on model changes\n\t\tthis._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(reference => this._tree.rerender(reference)));\n\n\t\t// listen on editor\n\t\tthis._disposeOnNewModel.add(this._preview.onMouseDown(e => {\n\t\t\tconst { event, target } = e;\n\t\t\tif (event.detail !== 2) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst element = this._getFocusedReference();\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onDidSelectReference.fire({\n\t\t\t\telement: { uri: element.uri, range: target.range! },\n\t\t\t\tkind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\n\t\t\t\tsource: 'editor'\n\t\t\t});\n\t\t}));\n\n\t\t// make sure things are rendered\n\t\tthis.container!.classList.add('results-loaded');\n\t\tdom.show(this._treeContainer);\n\t\tdom.show(this._previewContainer);\n\t\tthis._splitView.layout(this._dim.width);\n\t\tthis.focusOnReferenceTree();\n\n\t\t// pick input and a reference to begin with\n\t\treturn this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\n\t}\n\n\tprivate _getFocusedReference(): OneReference | undefined {\n\t\tconst [element] = this._tree.getFocus();\n\t\tif (element instanceof OneReference) {\n\t\t\treturn element;\n\t\t} else if (element instanceof FileReferences) {\n\t\t\tif (element.children.length > 0) {\n\t\t\t\treturn element.children[0];\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync revealReference(reference: OneReference): Promise<void> {\n\t\tawait this._revealReference(reference, false);\n\t\tthis._onDidSelectReference.fire({ element: reference, kind: 'goto', source: 'tree' });\n\t}\n\n\tprivate _revealedReference?: OneReference;\n\n\tprivate async _revealReference(reference: OneReference, revealParent: boolean): Promise<void> {\n\n\t\t// check if there is anything to do...\n\t\tif (this._revealedReference === reference) {\n\t\t\treturn;\n\t\t}\n\t\tthis._revealedReference = reference;\n\n\t\t// Update widget header\n\t\tif (reference.uri.scheme !== Schemas.inMemory) {\n\t\t\tthis.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\n\t\t} else {\n\t\t\tthis.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\n\t\t}\n\n\t\tconst promise = this._textModelResolverService.createModelReference(reference.uri);\n\n\t\tif (this._tree.getInput() === reference.parent) {\n\t\t\tthis._tree.reveal(reference);\n\t\t} else {\n\t\t\tif (revealParent) {\n\t\t\t\tthis._tree.reveal(reference.parent);\n\t\t\t}\n\t\t\tawait this._tree.expand(reference.parent);\n\t\t\tthis._tree.reveal(reference);\n\t\t}\n\n\t\tconst ref = await promise;\n\n\t\tif (!this._model) {\n\t\t\t// disposed\n\t\t\tref.dispose();\n\t\t\treturn;\n\t\t}\n\n\t\tdispose(this._previewModelReference);\n\n\t\t// show in editor\n\t\tconst model = ref.object;\n\t\tif (model) {\n\t\t\tconst scrollType = this._preview.getModel() === model.textEditorModel ? ScrollType.Smooth : ScrollType.Immediate;\n\t\t\tconst sel = Range.lift(reference.range).collapseToStart();\n\t\t\tthis._previewModelReference = ref;\n\t\t\tthis._preview.setModel(model.textEditorModel);\n\t\t\tthis._preview.setSelection(sel);\n\t\t\tthis._preview.revealRangeInCenter(sel, scrollType);\n\t\t} else {\n\t\t\tthis._preview.setModel(this._previewNotAvailableMessage);\n\t\t\tref.dispose();\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;AAEhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAG1D,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,uDAAuD,CAAC;AAC1F,OAAO,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AAC5D,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AAGrE,OAAO,EAAE,eAAe,EAAE,OAAO,EAA2B,MAAM,yCAAyC,CAAC;AAC5G,OAAO,EAAE,OAAO,EAAE,MAAM,uCAAuC,CAAC;AAChE,OAAO,EAAE,mBAAmB,EAAE,OAAO,EAAE,MAAM,yCAAyC,CAAC;AAGvF,OAAO,EAAE,wBAAwB,EAAE,MAAM,mEAAmE,CAAC;AAE7G,OAAO,EAAU,KAAK,EAAE,MAAM,kCAAkC,CAAC;AAGjE,OAAO,EAAE,sBAAsB,EAAE,SAAS,EAAE,MAAM,uCAAuC,CAAC;AAE1F,OAAO,EAAE,qBAAqB,EAAE,MAAM,+CAA+C,CAAC;AACtF,OAAO,EAAoB,iBAAiB,EAAE,MAAM,gDAAgD,CAAC;AACrG,OAAO,EAAE,qBAAqB,EAAE,UAAU,EAAE,QAAQ,EAAE,sBAAsB,EAAE,gBAAgB,EAAE,oBAAoB,EAAE,4BAA4B,EAAe,MAAM,qBAAqB,CAAC;AAC7L,OAAO,KAAK,QAAQ,MAAM,uCAAuC,CAAC;AAClE,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAC7C,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AACtG,OAAO,EAAE,kBAAkB,EAAE,MAAM,yDAAyD,CAAC;AAC7F,OAAO,EAAE,aAAa,EAAE,MAAM,+CAA+C,CAAC;AAC9E,OAAO,EAAkC,sBAAsB,EAAE,MAAM,qDAAqD,CAAC;AAC7H,OAAO,EAAe,aAAa,EAAE,MAAM,sDAAsD,CAAC;AAClG,OAAO,EAAE,cAAc,EAAE,YAAY,EAAmB,MAAM,uBAAuB,CAAC;AAEtF,OAAO,EAAE,aAAa,EAAoB,MAAM,oCAAoC,CAAC;AAErF,OAAO,EAAE,aAAa,EAAE,MAAM,iDAAiD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEhF;IAkBC,OAAO,GAAA;QACN,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;QAClC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC1B,CAAC;IAEO,eAAe,GAAA;QACtB,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;QAChC,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACtC,IAAI,CAAC,KAAK,EAAE,CAAC;YACZ,OAAO;QACR,CAAC;QACD,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAE,CAAC;YAC1C,IAAI,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACjD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACjC,OAAO;YACR,CAAC;QACF,CAAC;IACF,CAAC;IAEO,eAAe,CAAC,SAAyB,EAAA;QAChD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC9B,OAAO;QACR,CAAC;QACD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,sBAAsB,CAAC,GAAG,CAAG,CAAD,GAAK,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;QAE/G,MAAM,cAAc,GAA4B,EAAE,CAAC;QACnD,MAAM,yBAAyB,GAAa,EAAE,CAAC;QAE/C,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,CAAE,CAAC;YAC/D,MAAM,YAAY,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,CAAC;gBACpD,SAAS;YACV,CAAC;YACD,IAAI,YAAY,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;gBAC5E,SAAS;YACV,CAAC;YACD,cAAc,CAAC,IAAI,CAAC;gBACnB,KAAK,EAAE,YAAY,CAAC,KAAK;gBACzB,OAAO,EAAE,kBAAkB,CAAC,iBAAiB;aAC7C,CAAC,CAAC;YACH,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,cAAc,EAAE,EAAE;YACjD,MAAM,WAAW,GAAG,cAAc,CAAC,gBAAgB,CAAC,EAAE,EAAE,cAAc,CAAC,CAAC;YACxE,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;gBAC7C,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzF,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAEO,oBAAoB,GAAA;QAC3B,MAAM,QAAQ,GAAa,EAAE,CAAC;QAE9B,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACtC,IAAI,CAAC,KAAK,EAAE,CAAC;YACZ,OAAO;QACR,CAAC;QAED,KAAK,MAAM,CAAC,YAAY,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC,YAAY,CAAE,CAAC;YAE3D,MAAM,QAAQ,GAAG,KAAK,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;YAExD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACf,SAAS;YACV,CAAC;YAED,IAAI,MAAM,GAAG,KAAK,CAAC;YACnB,IAAI,8LAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC;gBAClD,SAAS;YAEV,CAAC;YAED,IAAI,8LAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACxC,MAAM,GAAG,IAAI,CAAC;YAEf,CAAC,MAAM,CAAC;gBACP,MAAM,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC;gBAC3E,MAAM,aAAa,GAAG,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,WAAW,CAAC;gBAEhE,IAAI,UAAU,KAAK,aAAa,EAAE,CAAC;oBAClC,MAAM,GAAG,IAAI,CAAC;gBACf,CAAC;YACF,CAAC;YAED,IAAI,MAAM,EAAE,CAAC;gBACZ,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBAC5C,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC7B,CAAC,MAAM,CAAC;gBACP,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC;YAC5B,CAAC;QACF,CAAC;QAED,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,CAAE,CAAC;YACrD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;IAED,iBAAiB,GAAA;QAChB,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;eAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;SAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IA5GD,YAAoB,OAAoB,EAAU,MAAuB,CAAA;QAArD,IAAA,CAAA,OAAO,GAAP,OAAO,CAAa;QAAU,IAAA,CAAA,MAAM,GAAN,MAAM,CAAiB;QALjE,IAAA,CAAA,YAAY,GAAG,IAAI,GAAG,EAAwB,CAAC;QAC/C,IAAA,CAAA,oBAAoB,GAAG,IAAI,GAAG,EAAU,CAAC;QAChC,IAAA,CAAA,cAAc,GAAG,IAAI,kMAAe,EAAE,CAAC;QACvC,IAAA,CAAA,kBAAkB,GAAG,IAAI,kMAAe,EAAE,CAAC;QAG3D,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAG,CAAD,GAAK,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,eAAe,EAAE,CAAC;IACxB,CAAC;;AAhBI,kBAAkB,CAEC,iBAAiB,GAAG,oNAAsB,CAAC,QAAQ,CAAC;IAC3E,WAAW,EAAE,sBAAsB;IACnC,UAAU,EAAA,EAAA,sDAAA,EAAoD;IAC9D,SAAS,EAAE,sBAAsB;CACjC,CAJwC,AAIvC,CAAC;AAsHE,MAAO,UAAU;IAItB,MAAM,CAAC,QAAQ,CAAC,GAAW,EAAA;QAC1B,IAAI,KAAyB,CAAC;QAC9B,IAAI,aAAiC,CAAC;QACtC,IAAI,CAAC;YACJ,MAAM,IAAI,GAAe,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACzC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACnB,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACpC,CAAC,CAAC,UAAM,CAAC;QACR,EAAE;QACH,CAAC;QACD,OAAO;YACN,KAAK,EAAE,KAAK,IAAI,GAAG;YACnB,aAAa,EAAE,aAAa,IAAI,EAAE;SAClC,CAAC;IACH,CAAC;IAlBF,aAAA;QACC,IAAA,CAAA,KAAK,GAAW,GAAG,CAAC;QACpB,IAAA,CAAA,aAAa,GAAW,EAAE,CAAC;IAiB5B,CAAC;CAAA;AAQD,MAAM,cAAe,SAAQ,wNAAiF;CAAI;AAElH,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAM1B,UAAU,CAAC,OAAoB,EAAA;QAC9B,IAAI,OAAO,YAAY,mOAAc,EAAE,CAAC;YACvC,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC/B,CAAC,MAAM,IAAI,OAAO,YAAY,iOAAY,EAAE,CAAC;YAC5C,OAAO,+MAAa,EAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC7D,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,YAAY,CAAC,QAAuB,EAAA;QACnC,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAC3B,OAAO,SAAS,CAAC;QAClB,CAAC;QACD,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,EAAC,CAAC,CAAC,EAAE,AAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC/E,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,WAAW,CAAC,IAAsB,EAAE,aAAwB,EAAA;QAC3D,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;YACjC,OAAO;QACR,CAAC;QAED,MAAM,QAAQ,GAAI,IAA4D,CAAC,QAAQ,CAAC;QACxF,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,EAAC,CAAC,CAAC,EAAG,AAAD,IAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAExE,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;YACtB,mCAAmC;YACnC,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,2LAAa,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;YAEvF,+CAA+C;YAC/C,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,2LAAa,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9E,CAAC;IACF,CAAC;IAED,UAAU,GAAA;QAAsC,OAAO,KAAK,CAAC;IAAC,CAAC;IAC/D,IAAI,GAAA,CAAW,CAAC;IAChB,OAAO,GAAA;QAAW,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAAC,CAAC;IAtC/C,YAA2B,YAA4C,CAAA;QAA3B,IAAA,CAAA,YAAY,GAAZ,YAAY,CAAe;QAFtD,IAAA,CAAA,WAAW,GAAG,IAAI,kMAAe,EAAE,CAAC;IAEsB,CAAC;CAuC5E,CAAA;AA3CK,qBAAqB,GAAA,WAAA;IAIb,QAAA,GAAA,yMAAa,CAAA;GAJrB,qBAAqB,CA2C1B;AAED;;GAEG,CACI,IAAM,eAAe,GAArB,MAAM,eAAgB,SAAQ,QAAQ,CAAC,iNAAc;IAyC3D,IAAI,SAAS,GAAA;QACZ,OAAO,IAAI,CAAC,UAAU,CAAC;IACxB,CAAC;IAEQ,OAAO,GAAA;QACf,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;QAC9B,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;YAClC,0LAAO,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACvB,0LAAO,EAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YAC1C,0LAAO,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpB,0LAAO,EAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEO,WAAW,CAAC,KAAkB,EAAA;QACrC,MAAM,WAAW,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,iNAAc,CAAC,IAAI,oLAAK,CAAC,WAAW,CAAC;QACjF,IAAI,CAAC,KAAK,CAAC;YACV,UAAU,EAAE,WAAW;YACvB,UAAU,EAAE,WAAW;YACvB,qBAAqB,EAAE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,0NAAuB,CAAC,IAAI,oLAAK,CAAC,WAAW;YAC5F,mBAAmB,EAAE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,0NAAuB,CAAC;YACrE,qBAAqB,EAAE,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,8NAA2B,CAAC;SAC3E,CAAC,CAAC;IACJ,CAAC;IAEQ,IAAI,CAAC,KAAa,EAAA;QAC1B,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC;IACxD,CAAC;IAED,oBAAoB,GAAA;QACnB,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACvB,CAAC;IAED,oBAAoB,GAAA;QACnB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAED,sBAAsB,GAAA;QACrB,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;IACrC,CAAC;IAEkB,aAAa,CAAC,CAAc,EAAA;QAC9C,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC/C,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;gBAC/B,OAAO,EAAE,IAAI,CAAC,oBAAoB,EAAE;gBACpC,IAAI,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;gBAC1D,MAAM,EAAE,OAAO;aACf,CAAC,CAAC;QACJ,CAAC;IACF,CAAC;IAES,SAAS,CAAC,gBAA6B,EAAA;QAChD,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,CAAC;QAE1C,eAAe;QACf,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,gLAAM,CAAC,gBAAgB,EAAE,GAAG,CAAC,2KAAC,CAAC,cAAc,CAAC,CAAC,CAAC;QAC7E,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAEjC,IAAI,CAAC,UAAU,GAAG,IAAI,gNAAS,CAAC,gBAAgB,EAAE;YAAE,WAAW,EAAA,EAAA,0BAAA,EAAwB;QAAA,CAAE,CAAC,CAAC;QAE3F,SAAS;QACT,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,gLAAM,CAAC,gBAAgB,EAAE,GAAG,CAAC,2KAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;QACnF,MAAM,OAAO,GAAmB;YAC/B,oBAAoB,EAAE,KAAK;YAC3B,SAAS,EAAE;gBACV,qBAAqB,EAAE,EAAE;gBACzB,UAAU,EAAE,MAAM;gBAClB,UAAU,EAAE,IAAI;gBAChB,iBAAiB,EAAE,KAAK;gBACxB,mBAAmB,EAAE,KAAK;gBAC1B,uBAAuB,EAAE,IAAI;aAC7B;YACD,kBAAkB,EAAE,CAAC;YACrB,oBAAoB,EAAE,IAAI;YAC1B,OAAO,EAAE;gBACR,OAAO,EAAE,KAAK;aACd;SACD,CAAC;QACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,qPAAwB,EAAE,IAAI,CAAC,iBAAiB,EAAE,OAAO,EAAE,CAAA,CAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACtI,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,CAAC,2BAA2B,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,uMAAS,EAAE,GAAG,CAAC,+KAAQ,CAAC,IAAuB,EAAE,sBAAsB,CAAC,EAAE,2NAAqB,EAAE,uMAAS,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC;QAExN,OAAO;QACP,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC,gLAAM,CAAC,gBAAgB,EAAE,GAAG,CAAC,2KAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;QACjF,MAAM,WAAW,GAA4D;YAC5E,eAAe,EAAE,IAAI,CAAC,2BAA2B;YACjD,qBAAqB,EAAE,IAAI,iPAAqB,EAAE;YAClD,+BAA+B,EAAE,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,wPAA4B,CAAC;YACxG,gBAAgB,EAAE,IAAI,4OAAgB,EAAE;YACxC,iBAAiB,EAAE,IAAI;YACvB,mBAAmB,EAAE,IAAI;YACzB,cAAc,EAAE;gBACf,cAAc,EAAE,QAAQ,CAAC,4NAAyB;aAClD;YACD,GAAG,EAAE,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,qBAAqB,CAAC;SACrE,CAAC;QACF,IAAI,IAAI,CAAC,2BAA2B,EAAE,CAAC;YACtC,qEAAqE;YACrE,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,uMAA6B,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;gBAC/F,IAAI,CAAC,CAAC,MAAM,CAAA,EAAA,kBAAA,GAAgB,GAAE,CAAC;oBAC9B,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;oBACnD,CAAC,CAAC,eAAe,EAAE,CAAC;gBACrB,CAAC;YACF,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;QACX,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CACrD,cAAc,EACd,kBAAkB,EAClB,IAAI,CAAC,cAAc,EACnB,IAAI,oOAAQ,EAAE,EACd;YACC,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,kPAAsB,CAAC;YACjE,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,gPAAoB,CAAC;SAC/D,EACD,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,sOAAU,CAAC,EACrD,WAAW,CACX,CAAC;QAEF,cAAc;QACd,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YACvB,WAAW,EAAE,oLAAK,CAAC,IAAI;YACvB,OAAO,EAAE,IAAI,CAAC,iBAAiB;YAC/B,WAAW,EAAE,GAAG;YAChB,WAAW,EAAE,MAAM,CAAC,SAAS;YAC7B,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;oBAAE,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;oBAAE,KAAK;gBAAA,CAAE,CAAC,CAAC;YAC3D,CAAC;SACD,EAAE,6MAAM,CAAC,UAAU,CAAC,CAAC;QAEtB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YACvB,WAAW,EAAE,oLAAK,CAAC,IAAI;YACvB,OAAO,EAAE,IAAI,CAAC,cAAc;YAC5B,WAAW,EAAE,GAAG;YAChB,WAAW,EAAE,MAAM,CAAC,SAAS;YAC7B,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE;gBACjB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,MAAM,GAAG,GAAmB,OAAhB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAA,GAAI,CAAC;gBAC3D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,GAAQ,OAAL,KAAK,EAAA,GAAI,CAAC;gBAC/C,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC5C,CAAC;SACD,EAAE,6MAAM,CAAC,UAAU,CAAC,CAAC;QAEtB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,GAAG,EAAE;YAC1D,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;gBACrB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YAC1E,CAAC;QACF,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;QAEf,gCAAgC;QAChC,MAAM,OAAO,GAAG,CAAC,OAAY,EAAE,IAA8B,EAAE,EAAE;YAChE,IAAI,OAAO,YAAY,iOAAY,EAAE,CAAC;gBACrC,IAAI,IAAI,KAAK,MAAM,EAAE,CAAC;oBACrB,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBACvC,CAAC;gBACD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;oBAAE,OAAO;oBAAE,IAAI;oBAAE,MAAM,EAAE,MAAM;gBAAA,CAAE,CAAC,CAAC;YACpE,CAAC;QACF,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,CAAC,CAAC,EAAE;YAC9C,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC;gBAClB,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC5B,CAAC,MAAM,IAAI,CAAC,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;gBACnC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC5B,CAAC,MAAM,CAAC;gBACP,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YAC5B,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC/B,CAAC;IAEkB,QAAQ,CAAC,KAAa,EAAA;QACxC,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACf,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;QAC7C,CAAC;IACF,CAAC;IAEkB,aAAa,CAAC,aAAqB,EAAE,YAAoB,EAAA;QAC3E,KAAK,CAAC,aAAa,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,CAAC,mLAAS,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;QAC3D,IAAI,CAAC,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;QAC9G,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACrE,CAAC;IAED,YAAY,CAAC,SAAuB,EAAA;QACnC,OAAO,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YACvD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;gBAClB,WAAW;gBACX,OAAO;YACR,CAAC;YACD,eAAe;YACf,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;gBAAC,SAAS;aAAC,CAAC,CAAC;YACrC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;gBAAC,SAAS;aAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,QAAqC,EAAA;QAC7C,WAAW;QACX,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;QACvB,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YACjB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAEO,WAAW,GAAA;QAClB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAED,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAClB,IAAI,CAAC,iBAAiB,CAAC,SAAS,GAAG,GAAG,CAAC,+KAAQ,CAAC,IAAW,EAAE,YAAY,CAAC,CAAC;YAC3E,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACjC,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAED,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,CAAC,mBAAmB,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9E,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAEtD,0BAA0B;QAC1B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,yBAAyB,EAAC,SAAS,CAAC,EAAE,AAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAEhH,mBAAmB;QACnB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAC,CAAC,CAAC,EAAE;YACzD,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;YAC5B,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACxB,OAAO;YACR,CAAC;YACD,MAAM,OAAO,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5C,IAAI,CAAC,OAAO,EAAE,CAAC;gBACd,OAAO;YACR,CAAC;YACD,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;gBAC/B,OAAO,EAAE;oBAAE,GAAG,EAAE,OAAO,CAAC,GAAG;oBAAE,KAAK,EAAE,MAAM,CAAC,KAAM;gBAAA,CAAE;gBACnD,IAAI,EAAG,AAAD,KAAM,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,AAAC,MAAM,CAAC,CAAC,CAAC,MAAM;gBACxE,MAAM,EAAE,QAAQ;aAChB,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC,CAAC;QAEJ,gCAAgC;QAChC,IAAI,CAAC,SAAU,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAChD,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC9B,GAAG,CAAC,8KAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,2CAA2C;QAC3C,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACnG,CAAC;IAEO,oBAAoB,GAAA;QAC3B,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QACxC,IAAI,OAAO,YAAY,iOAAY,EAAE,CAAC;YACrC,OAAO,OAAO,CAAC;QAChB,CAAC,MAAM,IAAI,OAAO,YAAY,mOAAc,EAAE,CAAC;YAC9C,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACjC,OAAO,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC;QACF,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,SAAuB,EAAA;QAC5C,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC;YAAE,OAAO,EAAE,SAAS;YAAE,IAAI,EAAE,MAAM;YAAE,MAAM,EAAE,MAAM;QAAA,CAAE,CAAC,CAAC;IACvF,CAAC;IAIO,KAAK,CAAC,gBAAgB,CAAC,SAAuB,EAAE,YAAqB,EAAA;QAE5E,sCAAsC;QACtC,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE,CAAC;YAC3C,OAAO;QACR,CAAC;QACD,IAAI,CAAC,kBAAkB,GAAG,SAAS,CAAC;QAEpC,uBAAuB;QACvB,IAAI,SAAS,CAAC,GAAG,CAAC,MAAM,KAAK,wLAAO,CAAC,QAAQ,EAAE,CAAC;YAC/C,IAAI,CAAC,QAAQ,KAAC,sMAAmB,EAAC,SAAS,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,KAAC,0LAAO,EAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACvG,CAAC,MAAM,CAAC;YACP,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,+KAAQ,CAAC,IAAyB,EAAE,YAAY,CAAC,CAAC,CAAC;QACtE,CAAC;QAED,MAAM,OAAO,GAAG,IAAI,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAEnF,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,SAAS,CAAC,MAAM,EAAE,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC9B,CAAC,MAAM,CAAC;YACP,IAAI,YAAY,EAAE,CAAC;gBAClB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YACrC,CAAC;YACD,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC1C,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC9B,CAAC;QAED,MAAM,GAAG,GAAG,MAAM,OAAO,CAAC;QAE1B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,WAAW;YACX,GAAG,CAAC,OAAO,EAAE,CAAC;YACd,OAAO;QACR,CAAC;YAED,0LAAO,EAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;QAErC,iBAAiB;QACjB,MAAM,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC;QACzB,IAAI,KAAK,EAAE,CAAC;YACX,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,eAAe,CAAC,CAAC,CAAA,EAAA,qBAAA,GAAmB,CAAC,EAAA,EAAA,wBAAA,EAAqB,CAAC;YACjH,MAAM,GAAG,GAAG,8LAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,eAAe,EAAE,CAAC;YAC1D,IAAI,CAAC,sBAAsB,GAAG,GAAG,CAAC;YAClC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;YAChC,IAAI,CAAC,QAAQ,CAAC,mBAAmB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QACpD,CAAC,MAAM,CAAC;YACP,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YACzD,GAAG,CAAC,OAAO,EAAE,CAAC;QACf,CAAC;IACF,CAAC;IAvVD,YACC,MAAmB,EACX,2BAAoC,EACrC,UAAsB,EACd,YAA2B,EACvB,yBAA6D,EACzD,qBAA6D,EACzD,gBAA4D,EACxE,SAAyC,EACpC,kBAAuD,CAAA;QAE3E,KAAK,CAAC,MAAM,EAAE;YAAE,SAAS,EAAE,KAAK;YAAE,SAAS,EAAE,IAAI;YAAE,YAAY,EAAE,IAAI;YAAE,YAAY,EAAE,IAAI;YAAE,mBAAmB,EAAE,IAAI;QAAA,CAAE,EAAE,qBAAqB,CAAC,CAAC;QATvI,IAAA,CAAA,2BAA2B,GAA3B,2BAA2B,CAAS;QACrC,IAAA,CAAA,UAAU,GAAV,UAAU,CAAY;QAEO,IAAA,CAAA,yBAAyB,GAAzB,yBAAyB,CAAmB;QACxC,IAAA,CAAA,qBAAqB,GAArB,qBAAqB,CAAuB;QACxC,IAAA,CAAA,gBAAgB,GAAhB,gBAAgB,CAA2B;QACvD,IAAA,CAAA,SAAS,GAAT,SAAS,CAAe;QACnB,IAAA,CAAA,kBAAkB,GAAlB,kBAAkB,CAAoB;QA1B3D,IAAA,CAAA,kBAAkB,GAAG,IAAI,kMAAe,EAAE,CAAC;QAC3C,IAAA,CAAA,cAAc,GAAG,IAAI,kMAAe,EAAE,CAAC;QAEvC,IAAA,CAAA,qBAAqB,GAAG,IAAI,sLAAO,EAAkB,CAAC;QAC9D,IAAA,CAAA,oBAAoB,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC;QAUzD,IAAA,CAAA,IAAI,GAAG,IAAI,GAAG,CAAC,mLAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/B,IAAA,CAAA,UAAU,GAAG,KAAK,CAAC,CAAC,kDAAkD;QAe7E,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,YAAY,CAAC,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzF,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,MAAM,EAAE,CAAC;IACf,CAAC;CAuUD,CAAA;AA9WY,eAAe,GAAA,WAAA;IA0BzB,QAAA,GAAA,gNAAa,CAAA;IACb,QAAA,GAAA,wNAAiB,CAAA;IACjB,QAAA,GAAA,iOAAqB,CAAA;IACrB,QAAA,GAAA,QAAQ,CAAC,mNAAgB,CAAA;IACzB,QAAA,GAAA,yMAAa,CAAA;IACb,QAAA,GAAA,wNAAkB,CAAA;GA/BR,eAAe,CA8W3B","debugId":null}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancelablePromise, createCancelablePromise } from '../../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../../browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { IEditorContribution } from '../../../../common/editorCommon.js';\nimport { Location } from '../../../../common/languages.js';\nimport { PeekContext } from '../../../peekView/browser/peekView.js';\nimport { getOuterEditor } from '../../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport * as nls from '../../../../../nls.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { TextEditorSelectionSource } from '../../../../../platform/editor/common/editor.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse, WorkbenchTreeElementCanExpand } from '../../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { OneReference, ReferencesModel } from '../referencesModel.js';\nimport { LayoutData, ReferenceWidget } from './referencesWidget.js';\nimport { EditorContextKeys } from '../../../../common/editorContextKeys.js';\nimport { InputFocusedContext } from '../../../../../platform/contextkey/common/contextkeys.js';\n\nexport const ctxReferenceSearchVisible = new RawContextKey<boolean>('referenceSearchVisible', false, nls.localize('referenceSearchVisible', \"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'\"));\n\nexport abstract class ReferencesController implements IEditorContribution {\n\n\tstatic readonly ID = 'editor.contrib.referencesController';\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _widget?: ReferenceWidget;\n\tprivate _model?: ReferencesModel;\n\tprivate _peekMode?: boolean;\n\tprivate _requestIdPool = 0;\n\tprivate _ignoreModelChangeEvent = false;\n\n\tprivate readonly _referenceSearchVisible: IContextKey<boolean>;\n\n\tstatic get(editor: ICodeEditor): ReferencesController | null {\n\t\treturn editor.getContribution<ReferencesController>(ReferencesController.ID);\n\t}\n\n\tconstructor(\n\t\tprivate readonly _defaultTreeKeyboardSupport: boolean,\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ICodeEditorService private readonly _editorService: ICodeEditorService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\n\t\tthis._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\n\t}\n\n\tdispose(): void {\n\t\tthis._referenceSearchVisible.reset();\n\t\tthis._disposables.dispose();\n\t\tthis._widget?.dispose();\n\t\tthis._model?.dispose();\n\t\tthis._widget = undefined;\n\t\tthis._model = undefined;\n\t}\n\n\ttoggleWidget(range: Range, modelPromise: CancelablePromise<ReferencesModel>, peekMode: boolean): void {\n\n\t\t// close current widget and return early is position didn't change\n\t\tlet widgetPosition: Position | undefined;\n\t\tif (this._widget) {\n\t\t\twidgetPosition = this._widget.position;\n\t\t}\n\t\tthis.closeWidget();\n\t\tif (!!widgetPosition && range.containsPosition(widgetPosition)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._peekMode = peekMode;\n\t\tthis._referenceSearchVisible.set(true);\n\n\t\t// close the widget on model/mode changes\n\t\tthis._disposables.add(this._editor.onDidChangeModelLanguage(() => { this.closeWidget(); }));\n\t\tthis._disposables.add(this._editor.onDidChangeModel(() => {\n\t\t\tif (!this._ignoreModelChangeEvent) {\n\t\t\t\tthis.closeWidget();\n\t\t\t}\n\t\t}));\n\t\tconst storageKey = 'peekViewLayout';\n\t\tconst data = LayoutData.fromJSON(this._storageService.get(storageKey, StorageScope.PROFILE, '{}'));\n\t\tthis._widget = this._instantiationService.createInstance(ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);\n\t\tthis._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\n\t\tthis._widget.show(range);\n\n\t\tthis._disposables.add(this._widget.onDidClose(() => {\n\t\t\tmodelPromise.cancel();\n\t\t\tif (this._widget) {\n\t\t\t\tthis._storageService.store(storageKey, JSON.stringify(this._widget.layoutData), StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t\tif (!this._widget.isClosing) {\n\t\t\t\t\t// to prevent calling this too many times, check whether it was already closing.\n\t\t\t\t\tthis.closeWidget();\n\t\t\t\t}\n\t\t\t\tthis._widget = undefined;\n\t\t\t} else {\n\t\t\t\tthis.closeWidget();\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(this._widget.onDidSelectReference(event => {\n\t\t\tconst { element, kind } = event;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (kind) {\n\t\t\t\tcase 'open':\n\t\t\t\t\tif (event.source !== 'editor' || !this._configurationService.getValue('editor.stablePeek')) {\n\t\t\t\t\t\t// when stable peek is configured we don't close\n\t\t\t\t\t\t// the peek window on selecting the editor\n\t\t\t\t\t\tthis.openReference(element, false, false);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'side':\n\t\t\t\t\tthis.openReference(element, true, false);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'goto':\n\t\t\t\t\tif (peekMode) {\n\t\t\t\t\t\tthis._gotoReference(element, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.openReference(element, false, true);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\n\t\tconst requestId = ++this._requestIdPool;\n\n\t\tmodelPromise.then(model => {\n\n\t\t\t// still current request? widget still open?\n\t\t\tif (requestId !== this._requestIdPool || !this._widget) {\n\t\t\t\tmodel.dispose();\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tthis._model?.dispose();\n\t\t\tthis._model = model;\n\n\t\t\t// show widget\n\t\t\treturn this._widget.setModel(this._model).then(() => {\n\t\t\t\tif (this._widget && this._model && this._editor.hasModel()) { // might have been closed\n\n\t\t\t\t\t// set title\n\t\t\t\t\tif (!this._model.isEmpty) {\n\t\t\t\t\t\tthis._widget.setMetaTitle(nls.localize('metaTitle.N', \"{0} ({1})\", this._model.title, this._model.references.length));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._widget.setMetaTitle('');\n\t\t\t\t\t}\n\n\t\t\t\t\t// set 'best' selection\n\t\t\t\t\tconst uri = this._editor.getModel().uri;\n\t\t\t\t\tconst pos = new Position(range.startLineNumber, range.startColumn);\n\t\t\t\t\tconst selection = this._model.nearestReference(uri, pos);\n\t\t\t\t\tif (selection) {\n\t\t\t\t\t\treturn this._widget.setSelection(selection).then(() => {\n\t\t\t\t\t\t\tif (this._widget && this._editor.getOption(EditorOption.peekWidgetDefaultFocus) === 'editor') {\n\t\t\t\t\t\t\t\tthis._widget.focusOnPreviewEditor();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t});\n\n\t\t}, error => {\n\t\t\tthis._notificationService.error(error);\n\t\t});\n\t}\n\n\tchangeFocusBetweenPreviewAndReferences() {\n\t\tif (!this._widget) {\n\t\t\t// can be called while still resolving...\n\t\t\treturn;\n\t\t}\n\t\tif (this._widget.isPreviewEditorFocused()) {\n\t\t\tthis._widget.focusOnReferenceTree();\n\t\t} else {\n\t\t\tthis._widget.focusOnPreviewEditor();\n\t\t}\n\t}\n\n\tasync goToNextOrPreviousReference(fwd: boolean) {\n\t\tif (!this._editor.hasModel() || !this._model || !this._widget) {\n\t\t\t// can be called while still resolving...\n\t\t\treturn;\n\t\t}\n\t\tconst currentPosition = this._widget.position;\n\t\tif (!currentPosition) {\n\t\t\treturn;\n\t\t}\n\t\tconst source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);\n\t\tif (!source) {\n\t\t\treturn;\n\t\t}\n\t\tconst target = this._model.nextOrPreviousReference(source, fwd);\n\t\tconst editorFocus = this._editor.hasTextFocus();\n\t\tconst previewEditorFocus = this._widget.isPreviewEditorFocused();\n\t\tawait this._widget.setSelection(target);\n\t\tawait this._gotoReference(target, false);\n\t\tif (editorFocus) {\n\t\t\tthis._editor.focus();\n\t\t} else if (this._widget && previewEditorFocus) {\n\t\t\tthis._widget.focusOnPreviewEditor();\n\t\t}\n\t}\n\n\tasync revealReference(reference: OneReference): Promise<void> {\n\t\tif (!this._editor.hasModel() || !this._model || !this._widget) {\n\t\t\t// can be called while still resolving...\n\t\t\treturn;\n\t\t}\n\n\t\tawait this._widget.revealReference(reference);\n\t}\n\n\tcloseWidget(focusEditor = true): void {\n\t\tthis._widget?.dispose();\n\t\tthis._model?.dispose();\n\t\tthis._referenceSearchVisible.reset();\n\t\tthis._disposables.clear();\n\t\tthis._widget = undefined;\n\t\tthis._model = undefined;\n\t\tif (focusEditor) {\n\t\t\tthis._editor.focus();\n\t\t}\n\t\tthis._requestIdPool += 1; // Cancel pending requests\n\t}\n\n\tprivate _gotoReference(ref: Location, pinned: boolean): Promise<any> {\n\t\tthis._widget?.hide();\n\n\t\tthis._ignoreModelChangeEvent = true;\n\t\tconst range = Range.lift(ref.range).collapseToStart();\n\n\t\treturn this._editorService.openCodeEditor({\n\t\t\tresource: ref.uri,\n\t\t\toptions: { selection: range, selectionSource: TextEditorSelectionSource.JUMP, pinned }\n\t\t}, this._editor).then(openedEditor => {\n\t\t\tthis._ignoreModelChangeEvent = false;\n\n\t\t\tif (!openedEditor || !this._widget) {\n\t\t\t\t// something went wrong...\n\t\t\t\tthis.closeWidget();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this._editor === openedEditor) {\n\t\t\t\t//\n\t\t\t\tthis._widget.show(range);\n\t\t\t\tthis._widget.focusOnReferenceTree();\n\n\t\t\t} else {\n\t\t\t\t// we opened a different editor instance which means a different controller instance.\n\t\t\t\t// therefore we stop with this controller and continue with the other\n\t\t\t\tconst other = ReferencesController.get(openedEditor);\n\t\t\t\tconst model = this._model!.clone();\n\n\t\t\t\tthis.closeWidget();\n\t\t\t\topenedEditor.focus();\n\n\t\t\t\tother?.toggleWidget(\n\t\t\t\t\trange,\n\t\t\t\t\tcreateCancelablePromise(_ => Promise.resolve(model)),\n\t\t\t\t\tthis._peekMode ?? false\n\t\t\t\t);\n\t\t\t}\n\n\t\t}, (err) => {\n\t\t\tthis._ignoreModelChangeEvent = false;\n\t\t\tonUnexpectedError(err);\n\t\t});\n\t}\n\n\topenReference(ref: Location, sideBySide: boolean, pinned: boolean): void {\n\t\t// clear stage\n\t\tif (!sideBySide) {\n\t\t\tthis.closeWidget();\n\t\t}\n\n\t\tconst { uri, range } = ref;\n\t\tthis._editorService.openCodeEditor({\n\t\t\tresource: uri,\n\t\t\toptions: { selection: range, selectionSource: TextEditorSelectionSource.JUMP, pinned }\n\t\t}, this._editor, sideBySide);\n\t}\n}\n\nfunction withController(accessor: ServicesAccessor, fn: (controller: ReferencesController) => void): void {\n\tconst outerEditor = getOuterEditor(accessor);\n\tif (!outerEditor) {\n\t\treturn;\n\t}\n\tconst controller = ReferencesController.get(outerEditor);\n\tif (controller) {\n\t\tfn(controller);\n\t}\n}\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'togglePeekWidgetFocus',\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.F2),\n\twhen: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n\thandler(accessor) {\n\t\twithController(accessor, controller => {\n\t\t\tcontroller.changeFocusBetweenPreviewAndReferences();\n\t\t});\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'goToNextReference',\n\tweight: KeybindingWeight.EditorContrib - 10,\n\tprimary: KeyCode.F4,\n\tsecondary: [KeyCode.F12],\n\twhen: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n\thandler(accessor) {\n\t\twithController(accessor, controller => {\n\t\t\tcontroller.goToNextOrPreviousReference(true);\n\t\t});\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'goToPreviousReference',\n\tweight: KeybindingWeight.EditorContrib - 10,\n\tprimary: KeyMod.Shift | KeyCode.F4,\n\tsecondary: [KeyMod.Shift | KeyCode.F12],\n\twhen: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n\thandler(accessor) {\n\t\twithController(accessor, controller => {\n\t\t\tcontroller.goToNextOrPreviousReference(false);\n\t\t});\n\t}\n});\n\n// commands that aren't needed anymore because there is now ContextKeyExpr.OR\nCommandsRegistry.registerCommandAlias('goToNextReferenceFromEmbeddedEditor', 'goToNextReference');\nCommandsRegistry.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor', 'goToPreviousReference');\n\n// close\nCommandsRegistry.registerCommandAlias('closeReferenceSearchEditor', 'closeReferenceSearch');\nCommandsRegistry.registerCommand(\n\t'closeReferenceSearch',\n\taccessor => withController(accessor, controller => controller.closeWidget())\n);\nKeybindingsRegistry.registerKeybindingRule({\n\tid: 'closeReferenceSearch',\n\tweight: KeybindingWeight.EditorContrib - 101,\n\tprimary: KeyCode.Escape,\n\tsecondary: [KeyMod.Shift | KeyCode.Escape],\n\twhen: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek'))\n});\nKeybindingsRegistry.registerKeybindingRule({\n\tid: 'closeReferenceSearch',\n\tweight: KeybindingWeight.WorkbenchContrib + 50,\n\tprimary: KeyCode.Escape,\n\tsecondary: [KeyMod.Shift | KeyCode.Escape],\n\twhen: ContextKeyExpr.and(\n\t\tctxReferenceSearchVisible,\n\t\tContextKeyExpr.not('config.editor.stablePeek'),\n\t\tContextKeyExpr.or(\n\t\t\tEditorContextKeys.editorTextFocus,\n\t\t\tInputFocusedContext.negate()\n\t\t)\n\t)\n});\n\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'revealReference',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Enter,\n\tmac: {\n\t\tprimary: KeyCode.Enter,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.DownArrow]\n\t},\n\twhen: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n\thandler(accessor: ServicesAccessor) {\n\t\tconst listService = accessor.get(IListService);\n\t\tconst focus = <any[]>listService.lastFocusedList?.getFocus();\n\t\tif (Array.isArray(focus) && focus[0] instanceof OneReference) {\n\t\t\twithController(accessor, controller => controller.revealReference(focus[0]));\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'openReferenceToSide',\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\tmac: {\n\t\tprimary: KeyMod.WinCtrl | KeyCode.Enter\n\t},\n\twhen: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n\thandler(accessor: ServicesAccessor) {\n\t\tconst listService = accessor.get(IListService);\n\t\tconst focus = <any[]>listService.lastFocusedList?.getFocus();\n\t\tif (Array.isArray(focus) && focus[0] instanceof OneReference) {\n\t\t\twithController(accessor, controller => controller.openReference(focus[0], true, true));\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand('openReference', (accessor) => {\n\tconst listService = accessor.get(IListService);\n\tconst focus = <any[]>listService.lastFocusedList?.getFocus();\n\tif (Array.isArray(focus) && focus[0] instanceof OneReference) {\n\t\twithController(accessor, controller => controller.openReference(focus[0], false, true));\n\t}\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1674, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/symbolNavigation.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/vs/editor/contrib/gotoSymbol/browser/symbolNavigation.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { combinedDisposable, DisposableStore, dispose, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { OneReference, ReferencesModel } from './referencesModel.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { TextEditorSelectionRevealType } from '../../../../platform/editor/common/editor.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService, IStatusHandle } from '../../../../platform/notification/common/notification.js';\n\nexport const ctxHasSymbols = new RawContextKey('hasSymbols', false, localize('hasSymbols', \"Whether there are symbol locations that can be navigated via keyboard-only.\"));\n\nexport const ISymbolNavigationService = createDecorator<ISymbolNavigationService>('ISymbolNavigationService');\n\nexport interface ISymbolNavigationService {\n\treadonly _serviceBrand: undefined;\n\treset(): void;\n\tput(anchor: OneReference): void;\n\trevealNext(source: ICodeEditor): Promise<any>;\n}\n\nclass SymbolNavigationService implements ISymbolNavigationService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _ctxHasSymbols: IContextKey<boolean>;\n\n\tprivate _currentModel?: ReferencesModel = undefined;\n\tprivate _currentIdx: number = -1;\n\tprivate _currentState?: IDisposable;\n\tprivate _currentMessage?: IStatusHandle;\n\tprivate _ignoreEditorChange: boolean = false;\n\n\tconstructor(\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ICodeEditorService private readonly _editorService: ICodeEditorService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t) {\n\t\tthis._ctxHasSymbols = ctxHasSymbols.bindTo(contextKeyService);\n\t}\n\n\treset(): void {\n\t\tthis._ctxHasSymbols.reset();\n\t\tthis._currentState?.dispose();\n\t\tthis._currentMessage?.close();\n\t\tthis._currentModel = undefined;\n\t\tthis._currentIdx = -1;\n\t}\n\n\tput(anchor: OneReference): void {\n\t\tconst refModel = anchor.parent.parent;\n\n\t\tif (refModel.references.length <= 1) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentModel = refModel;\n\t\tthis._currentIdx = refModel.references.indexOf(anchor);\n\t\tthis._ctxHasSymbols.set(true);\n\t\tthis._showMessage();\n\n\t\tconst editorState = new EditorState(this._editorService);\n\t\tconst listener = editorState.onDidChange(_ => {\n\n\t\t\tif (this._ignoreEditorChange) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editor = this._editorService.getActiveCodeEditor();\n\t\t\tif (!editor) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst model = editor.getModel();\n\t\t\tconst position = editor.getPosition();\n\t\t\tif (!model || !position) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet seenUri: boolean = false;\n\t\t\tlet seenPosition: boolean = false;\n\t\t\tfor (const reference of refModel.references) {\n\t\t\t\tif (isEqual(reference.uri, model.uri)) {\n\t\t\t\t\tseenUri = true;\n\t\t\t\t\tseenPosition = seenPosition || Range.containsPosition(reference.range, position);\n\t\t\t\t} else if (seenUri) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!seenUri || !seenPosition) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t});\n\n\t\tthis._currentState = combinedDisposable(editorState, listener);\n\t}\n\n\trevealNext(source: ICodeEditor): Promise<any> {\n\t\tif (!this._currentModel) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\t// get next result and advance\n\t\tthis._currentIdx += 1;\n\t\tthis._currentIdx %= this._currentModel.references.length;\n\t\tconst reference = this._currentModel.references[this._currentIdx];\n\n\t\t// status\n\t\tthis._showMessage();\n\n\t\t// open editor, ignore events while that happens\n\t\tthis._ignoreEditorChange = true;\n\t\treturn this._editorService.openCodeEditor({\n\t\t\tresource: reference.uri,\n\t\t\toptions: {\n\t\t\t\tselection: Range.collapseToStart(reference.range),\n\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.NearTopIfOutsideViewport\n\t\t\t}\n\t\t}, source).finally(() => {\n\t\t\tthis._ignoreEditorChange = false;\n\t\t});\n\n\t}\n\n\tprivate _showMessage(): void {\n\n\t\tthis._currentMessage?.close();\n\n\t\tconst kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');\n\t\tconst message = kb\n\t\t\t? localize('location.kb', \"Symbol {0} of {1}, {2} for next\", this._currentIdx + 1, this._currentModel!.references.length, kb.getLabel())\n\t\t\t: localize('location', \"Symbol {0} of {1}\", this._currentIdx + 1, this._currentModel!.references.length);\n\n\t\tthis._currentMessage = this._notificationService.status(message);\n\t}\n}\n\nregisterSingleton(ISymbolNavigationService, SymbolNavigationService, InstantiationType.Delayed);\n\nregisterEditorCommand(new class extends EditorCommand {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.gotoNextSymbolFromResult',\n\t\t\tprecondition: ctxHasSymbols,\n\t\t\tkbOpts: {\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\tprimary: KeyCode.F12\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor): void | Promise<void> {\n\t\treturn accessor.get(ISymbolNavigationService).revealNext(editor);\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'editor.gotoNextSymbolFromResult.cancel',\n\tweight: KeybindingWeight.EditorContrib,\n\twhen: ctxHasSymbols,\n\tprimary: KeyCode.Escape,\n\thandler(accessor) {\n\t\taccessor.get(ISymbolNavigationService).reset();\n\t}\n});\n\n//\n\nclass EditorState {\n\n\tprivate readonly _listener = new Map<ICodeEditor, IDisposable>();\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate readonly _onDidChange = new Emitter<{ editor: ICodeEditor }>();\n\treadonly onDidChange: Event<{ editor: ICodeEditor }> = this._onDidChange.event;\n\n\tconstructor(@ICodeEditorService editorService: ICodeEditorService) {\n\t\tthis._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));\n\t\tthis._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));\n\t\teditorService.listCodeEditors().forEach(this._onDidAddEditor, this);\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._onDidChange.dispose();\n\t\tdispose(this._listener.values());\n\t}\n\n\tprivate _onDidAddEditor(editor: ICodeEditor): void {\n\t\tthis._listener.set(editor, combinedDisposable(\n\t\t\teditor.onDidChangeCursorPosition(_ => this._onDidChange.fire({ editor })),\n\t\t\teditor.onDidChangeModelContent(_ => this._onDidChange.fire({ editor })),\n\t\t));\n\t}\n\n\tprivate _onDidRemoveEditor(editor: ICodeEditor): void {\n\t\tthis._listener.get(editor)?.dispose();\n\t\tthis._listener.delete(editor);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1877, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToSymbol.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/gotoSymbol/browser/goToSymbol.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/vs/editor/contrib/gotoSymbol/browser/goToSymbol.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { matchesSomeScheme, Schemas } from '../../../../base/common/network.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { DeclarationProvider, DefinitionProvider, ImplementationProvider, LocationLink, ProviderResult, ReferenceProvider, TypeDefinitionProvider } from '../../../common/languages.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ReferencesModel } from './referencesModel.js';\n\nfunction shouldIncludeLocationLink(sourceModel: ITextModel, loc: LocationLink): boolean {\n\t// Always allow the location if the request comes from a document with the same scheme.\n\tif (loc.uri.scheme === sourceModel.uri.scheme) {\n\t\treturn true;\n\t}\n\n\t// Otherwise filter out locations from internal schemes\n\tif (matchesSomeScheme(loc.uri, Schemas.walkThroughSnippet, Schemas.vscodeChatCodeBlock, Schemas.vscodeChatCodeCompareBlock)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nasync function getLocationLinks<T>(\n\tmodel: ITextModel,\n\tposition: Position,\n\tregistry: LanguageFeatureRegistry<T>,\n\trecursive: boolean,\n\tprovide: (provider: T, model: ITextModel, position: Position) => ProviderResult<LocationLink | LocationLink[]>\n): Promise<LocationLink[]> {\n\tconst provider = registry.ordered(model, recursive);\n\n\t// get results\n\tconst promises = provider.map((provider): Promise<LocationLink | LocationLink[] | undefined> => {\n\t\treturn Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n\t\t\tonUnexpectedExternalError(err);\n\t\t\treturn undefined;\n\t\t});\n\t});\n\n\tconst values = await Promise.all(promises);\n\treturn coalesce(values.flat()).filter(loc => shouldIncludeLocationLink(model, loc));\n}\n\nexport function getDefinitionsAtPosition(registry: LanguageFeatureRegistry<DefinitionProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideDefinition(model, position, token);\n\t});\n}\n\nexport function getDeclarationsAtPosition(registry: LanguageFeatureRegistry<DeclarationProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideDeclaration(model, position, token);\n\t});\n}\n\nexport function getImplementationsAtPosition(registry: LanguageFeatureRegistry<ImplementationProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideImplementation(model, position, token);\n\t});\n}\n\nexport function getTypeDefinitionsAtPosition(registry: LanguageFeatureRegistry<TypeDefinitionProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideTypeDefinition(model, position, token);\n\t});\n}\n\nexport function getReferencesAtPosition(registry: LanguageFeatureRegistry<ReferenceProvider>, model: ITextModel, position: Position, compact: boolean, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, async (provider, model, position) => {\n\t\tconst result = (await provider.provideReferences(model, position, { includeDeclaration: true }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n\t\tif (!compact || !result || result.length !== 2) {\n\t\t\treturn result;\n\t\t}\n\t\tconst resultWithoutDeclaration = (await provider.provideReferences(model, position, { includeDeclaration: false }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n\t\tif (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n\t\t\treturn resultWithoutDeclaration;\n\t\t}\n\t\treturn result;\n\t});\n}\n\n// -- API commands ----\n\nasync function _sortedAndDeduped(callback: () => Promise<LocationLink[]>): Promise<LocationLink[]> {\n\tconst rawLinks = await callback();\n\tconst model = new ReferencesModel(rawLinks, '');\n\tconst modelLinks = model.references.map(ref => ref.link);\n\tmodel.dispose();\n\treturn modelLinks;\n}\n\nregisterModelAndPositionCommand('_executeDefinitionProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeDefinitionProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeDeclarationProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDeclarationProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeReferenceProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeReferenceProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeImplementationProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeImplementationProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { matchesSomeScheme, Schemas } from '../../../../base/common/network.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { DeclarationProvider, DefinitionProvider, ImplementationProvider, LocationLink, ProviderResult, ReferenceProvider, TypeDefinitionProvider } from '../../../common/languages.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ReferencesModel } from './referencesModel.js';\n\nfunction shouldIncludeLocationLink(sourceModel: ITextModel, loc: LocationLink): boolean {\n\t// Always allow the location if the request comes from a document with the same scheme.\n\tif (loc.uri.scheme === sourceModel.uri.scheme) {\n\t\treturn true;\n\t}\n\n\t// Otherwise filter out locations from internal schemes\n\tif (matchesSomeScheme(loc.uri, Schemas.walkThroughSnippet, Schemas.vscodeChatCodeBlock, Schemas.vscodeChatCodeCompareBlock)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nasync function getLocationLinks<T>(\n\tmodel: ITextModel,\n\tposition: Position,\n\tregistry: LanguageFeatureRegistry<T>,\n\trecursive: boolean,\n\tprovide: (provider: T, model: ITextModel, position: Position) => ProviderResult<LocationLink | LocationLink[]>\n): Promise<LocationLink[]> {\n\tconst provider = registry.ordered(model, recursive);\n\n\t// get results\n\tconst promises = provider.map((provider): Promise<LocationLink | LocationLink[] | undefined> => {\n\t\treturn Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n\t\t\tonUnexpectedExternalError(err);\n\t\t\treturn undefined;\n\t\t});\n\t});\n\n\tconst values = await Promise.all(promises);\n\treturn coalesce(values.flat()).filter(loc => shouldIncludeLocationLink(model, loc));\n}\n\nexport function getDefinitionsAtPosition(registry: LanguageFeatureRegistry<DefinitionProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideDefinition(model, position, token);\n\t});\n}\n\nexport function getDeclarationsAtPosition(registry: LanguageFeatureRegistry<DeclarationProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideDeclaration(model, position, token);\n\t});\n}\n\nexport function getImplementationsAtPosition(registry: LanguageFeatureRegistry<ImplementationProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideImplementation(model, position, token);\n\t});\n}\n\nexport function getTypeDefinitionsAtPosition(registry: LanguageFeatureRegistry<TypeDefinitionProvider>, model: ITextModel, position: Position, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n\t\treturn provider.provideTypeDefinition(model, position, token);\n\t});\n}\n\nexport function getReferencesAtPosition(registry: LanguageFeatureRegistry<ReferenceProvider>, model: ITextModel, position: Position, compact: boolean, recursive: boolean, token: CancellationToken): Promise<LocationLink[]> {\n\treturn getLocationLinks(model, position, registry, recursive, async (provider, model, position) => {\n\t\tconst result = (await provider.provideReferences(model, position, { includeDeclaration: true }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n\t\tif (!compact || !result || result.length !== 2) {\n\t\t\treturn result;\n\t\t}\n\t\tconst resultWithoutDeclaration = (await provider.provideReferences(model, position, { includeDeclaration: false }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n\t\tif (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n\t\t\treturn resultWithoutDeclaration;\n\t\t}\n\t\treturn result;\n\t});\n}\n\n// -- API commands ----\n\nasync function _sortedAndDeduped(callback: () => Promise<LocationLink[]>): Promise<LocationLink[]> {\n\tconst rawLinks = await callback();\n\tconst model = new ReferencesModel(rawLinks, '');\n\tconst modelLinks = model.references.map(ref => ref.link);\n\tmodel.dispose();\n\treturn modelLinks;\n}\n\nregisterModelAndPositionCommand('_executeDefinitionProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeDefinitionProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeDeclarationProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDeclarationProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeReferenceProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeReferenceProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeImplementationProvider', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n\nregisterModelAndPositionCommand('_executeImplementationProvider_recursive', (accessor, model, position) => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\tconst promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, true, CancellationToken.None);\n\treturn _sortedAndDeduped(() => promise);\n});\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,yBAAyB,EAAE,MAAM,mCAAmC,CAAC;AAC9E,OAAO,EAAE,iBAAiB,EAAE,OAAO,EAAE,MAAM,oCAAoC,CAAC;AAChF,OAAO,EAAE,+BAA+B,EAAE,MAAM,sCAAsC,CAAC;AAKvF,OAAO,EAAE,wBAAwB,EAAE,MAAM,8CAA8C,CAAC;AACxF,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;;;;;;;;AAEvD,SAAS,yBAAyB,CAAC,WAAuB,EAAE,GAAiB;IAC5E,uFAAuF;IACvF,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,KAAK,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;QAC/C,OAAO,IAAI,CAAC;IACb,CAAC;IAED,uDAAuD;IACvD,QAAI,kMAAiB,EAAC,GAAG,CAAC,GAAG,EAAE,wLAAO,CAAC,kBAAkB,EAAE,wLAAO,CAAC,mBAAmB,EAAE,wLAAO,CAAC,0BAA0B,CAAC,EAAE,CAAC;QAC7H,OAAO,KAAK,CAAC;IACd,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC;AAED,KAAK,UAAU,gBAAgB,CAC9B,KAAiB,EACjB,QAAkB,EAClB,QAAoC,EACpC,SAAkB,EAClB,OAA8G;IAE9G,MAAM,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;IAEpD,cAAc;IACd,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAsD,EAAE;QAC9F,OAAO,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,GAAE,GAAG,CAAC,EAAE;gBAChF,yMAAyB,EAAC,GAAG,CAAC,CAAC;YAC/B,OAAO,SAAS,CAAC;QAClB,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAC3C,WAAO,wLAAQ,EAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,yBAAyB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AACrF,CAAC;AAEK,SAAU,wBAAwB,CAAC,QAAqD,EAAE,KAAiB,EAAE,QAAkB,EAAE,SAAkB,EAAE,KAAwB;IAClL,OAAO,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;QAC3F,OAAO,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,yBAAyB,CAAC,QAAsD,EAAE,KAAiB,EAAE,QAAkB,EAAE,SAAkB,EAAE,KAAwB;IACpL,OAAO,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;QAC3F,OAAO,QAAQ,CAAC,kBAAkB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC5D,CAAC,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,4BAA4B,CAAC,QAAyD,EAAE,KAAiB,EAAE,QAAkB,EAAE,SAAkB,EAAE,KAAwB;IAC1L,OAAO,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;QAC3F,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,4BAA4B,CAAC,QAAyD,EAAE,KAAiB,EAAE,QAAkB,EAAE,SAAkB,EAAE,KAAwB;IAC1L,OAAO,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;QAC3F,OAAO,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;AACJ,CAAC;AAEK,SAAU,uBAAuB,CAAC,QAAoD,EAAE,KAAiB,EAAE,QAAkB,EAAE,OAAgB,EAAE,SAAkB,EAAE,KAAwB;IAClM,OAAO,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;;QACjG,MAAM,MAAM,YAAI,MAAM,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE;YAAE,kBAAkB,EAAE,IAAI;QAAA,CAAE,EAAE,KAAK,CAAC,CAAC,yCAAxF,MAA0F,MAAM,EAAC,GAAG,CAAC,EAAE,AAAC,yBAAyB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;QAC9J,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YAChD,OAAO,MAAM,CAAC;QACf,CAAC;QACD,MAAM,wBAAwB,aAAI,MAAM,QAAQ,CAAC,iBAAiB,CAAC,KAAK,EAAE,QAAQ,EAAE;YAAE,kBAAkB,EAAE,KAAK;QAAA,CAAE,EAAE,KAAK,CAAC,CAAC,0CAAzF,OAA2F,MAAM,EAAC,GAAG,CAAC,EAAG,AAAD,yBAA0B,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;QACjL,IAAI,wBAAwB,IAAI,wBAAwB,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACvE,OAAO,wBAAwB,CAAC;QACjC,CAAC;QACD,OAAO,MAAM,CAAC;IACf,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,uBAAuB;AAEvB,KAAK,UAAU,iBAAiB,CAAC,QAAuC;IACvE,MAAM,QAAQ,GAAG,MAAM,QAAQ,EAAE,CAAC;IAClC,MAAM,KAAK,GAAG,IAAI,oOAAe,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAChD,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,EAAC,GAAG,CAAC,EAAE,AAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IACzD,KAAK,CAAC,OAAO,EAAE,CAAC;IAChB,OAAO,UAAU,CAAC;AACnB,CAAC;IAED,4NAA+B,EAAC,4BAA4B,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IAC3F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,wBAAwB,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IACrI,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,sCAAsC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IACrG,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,wBAAwB,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IACpI,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,gCAAgC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IAC/F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,4BAA4B,CAAC,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IAC7I,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,0CAA0C,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IACzG,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,4BAA4B,CAAC,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IAC5I,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,6BAA6B,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IAC5F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,yBAAyB,CAAC,uBAAuB,CAAC,mBAAmB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IACvI,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IACH,4NAA+B,EAAC,uCAAuC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IACtG,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,yBAAyB,CAAC,uBAAuB,CAAC,mBAAmB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IACtI,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,2BAA2B,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IAC1F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,uBAAuB,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IAC1I,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,qCAAqC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IACpG,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,uBAAuB,CAAC,uBAAuB,CAAC,iBAAiB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IACzI,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,gCAAgC,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IAC/F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,4BAA4B,CAAC,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IAC7I,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC;IAEH,4NAA+B,EAAC,0CAA0C,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE;IACzG,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,gOAAwB,CAAC,CAAC;IACvE,MAAM,OAAO,GAAG,4BAA4B,CAAC,uBAAuB,CAAC,sBAAsB,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,uMAAiB,CAAC,IAAI,CAAC,CAAC;IAC5I,OAAO,iBAAiB,CAAC,GAAG,CAAG,CAAD,MAAQ,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC","debugId":null}},
    {"offset": {"line": 2029, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/vs/editor/contrib/gotoSymbol/browser/goToCommands.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { CodeEditorStateFlag, EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { IActiveCodeEditor, ICodeEditor, isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { EditorOption, GoToLocationValues } from '../../../common/config/editorOptions.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { ScrollType } from '../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { isLocationLink, Location, LocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { IAction2F1RequiredOptions, IAction2Options, ISubmenuItem, MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { TextEditorSelectionRevealType, TextEditorSelectionSource } from '../../../../platform/editor/common/editor.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\n\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n\tsubmenu: MenuId.EditorContextPeek,\n\ttitle: nls.localize('peek.submenu', \"Peek\"),\n\tgroup: 'navigation',\n\torder: 100\n} satisfies ISubmenuItem);\n\nexport interface SymbolNavigationActionConfig {\n\topenToSide: boolean;\n\topenInPeek: boolean;\n\tmuteMessage: boolean;\n}\n\nexport class SymbolNavigationAnchor {\n\n\tstatic is(thing: any): thing is SymbolNavigationAnchor {\n\t\tif (!thing || typeof thing !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\tif (thing instanceof SymbolNavigationAnchor) {\n\t\t\treturn true;\n\t\t}\n\t\tif (corePosition.Position.isIPosition((<SymbolNavigationAnchor>thing).position) && (<SymbolNavigationAnchor>thing).model) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tconstructor(readonly model: ITextModel, readonly position: corePosition.Position) { }\n}\n\nexport abstract class SymbolNavigationAction extends EditorAction2 {\n\n\tprivate static _allSymbolNavigationCommands = new Map<string, SymbolNavigationAction>();\n\tprivate static _activeAlternativeCommands = new Set<string>();\n\n\tstatic all(): IterableIterator<SymbolNavigationAction> {\n\t\treturn SymbolNavigationAction._allSymbolNavigationCommands.values();\n\t}\n\n\tprivate static _patchConfig(opts: IAction2Options & IAction2F1RequiredOptions): IAction2Options {\n\t\tconst result = { ...opts, f1: true };\n\t\t// patch context menu when clause\n\t\tif (result.menu) {\n\t\t\tfor (const item of Iterable.wrap(result.menu)) {\n\t\t\t\tif (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n\t\t\t\t\titem.when = ContextKeyExpr.and(opts.precondition, item.when);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn <typeof opts>result;\n\t}\n\n\treadonly configuration: SymbolNavigationActionConfig;\n\n\tconstructor(configuration: SymbolNavigationActionConfig, opts: IAction2Options & IAction2F1RequiredOptions) {\n\t\tsuper(SymbolNavigationAction._patchConfig(opts));\n\t\tthis.configuration = configuration;\n\t\tSymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n\t}\n\n\toverride runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, arg?: SymbolNavigationAnchor | unknown, range?: Range): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst progressService = accessor.get(IEditorProgressService);\n\t\tconst symbolNavService = accessor.get(ISymbolNavigationService);\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tconst model = editor.getModel();\n\t\tconst position = editor.getPosition();\n\t\tconst anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n\n\t\tconst cts = new EditorStateCancellationTokenSource(editor, CodeEditorStateFlag.Value | CodeEditorStateFlag.Position);\n\n\t\tconst promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then(async references => {\n\n\t\t\tif (!references || cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\talert(references.ariaMessage);\n\n\t\t\tlet altAction: SymbolNavigationAction | null | undefined;\n\t\t\tif (references.referenceAt(model.uri, position)) {\n\t\t\t\tconst altActionId = this._getAlternativeCommand(editor);\n\t\t\t\tif (altActionId !== undefined && !SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n\t\t\t\t\taltAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId)!;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst referenceCount = references.references.length;\n\n\t\t\tif (referenceCount === 0) {\n\t\t\t\t// no result -> show message\n\t\t\t\tif (!this.configuration.muteMessage) {\n\t\t\t\t\tconst info = model.getWordAtPosition(position);\n\t\t\t\t\tMessageController.get(editor)?.showMessage(this._getNoResultFoundMessage(info), position);\n\t\t\t\t}\n\t\t\t} else if (referenceCount === 1 && altAction) {\n\t\t\t\t// already at the only result, run alternative\n\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n\t\t\t\tinstaService.invokeFunction((accessor) => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n\t\t\t\t\tSymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n\t\t\t\t}));\n\n\t\t\t} else {\n\t\t\t\t// normal results handling\n\t\t\t\treturn this._onResult(editorService, symbolNavService, editor, references, range);\n\t\t\t}\n\n\t\t}, (err) => {\n\t\t\t// report an error\n\t\t\tnotificationService.error(err);\n\t\t}).finally(() => {\n\t\t\tcts.dispose();\n\t\t});\n\n\t\tprogressService.showWhile(promise, 250);\n\t\treturn promise;\n\t}\n\n\tprotected abstract _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel | undefined>;\n\n\tprotected abstract _getNoResultFoundMessage(info: IWordAtPosition | null): string;\n\n\tprotected abstract _getAlternativeCommand(editor: IActiveCodeEditor): string | undefined;\n\n\tprotected abstract _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues;\n\n\tprivate async _onResult(editorService: ICodeEditorService, symbolNavService: ISymbolNavigationService, editor: IActiveCodeEditor, model: ReferencesModel, range?: Range): Promise<void> {\n\n\t\tconst gotoLocation = this._getGoToPreference(editor);\n\t\tif (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n\t\t\tthis._openInPeek(editor, model, range);\n\n\t\t} else {\n\t\t\tconst next = model.firstReference()!;\n\t\t\tconst peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n\t\t\tconst targetEditor = await this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n\t\t\tif (peek && targetEditor) {\n\t\t\t\tthis._openInPeek(targetEditor, model, range);\n\t\t\t} else {\n\t\t\t\tmodel.dispose();\n\t\t\t}\n\n\t\t\t// keep remaining locations around when using\n\t\t\t// 'goto'-mode\n\t\t\tif (gotoLocation === 'goto') {\n\t\t\t\tsymbolNavService.put(next);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async _openReference(editor: ICodeEditor, editorService: ICodeEditorService, reference: Location | LocationLink, sideBySide: boolean, highlight: boolean): Promise<ICodeEditor | undefined> {\n\t\t// range is the target-selection-range when we have one\n\t\t// and the fallback is the 'full' range\n\t\tlet range: IRange | undefined = undefined;\n\t\tif (isLocationLink(reference)) {\n\t\t\trange = reference.targetSelectionRange;\n\t\t}\n\t\tif (!range) {\n\t\t\trange = reference.range;\n\t\t}\n\t\tif (!range) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst targetEditor = await editorService.openCodeEditor({\n\t\t\tresource: reference.uri,\n\t\t\toptions: {\n\t\t\t\tselection: Range.collapseToStart(range),\n\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.NearTopIfOutsideViewport,\n\t\t\t\tselectionSource: TextEditorSelectionSource.JUMP\n\t\t\t}\n\t\t}, editor, sideBySide);\n\n\t\tif (!targetEditor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (highlight) {\n\t\t\tconst modelNow = targetEditor.getModel();\n\t\t\tconst decorations = targetEditor.createDecorationsCollection([{ range, options: { description: 'symbol-navigate-action-highlight', className: 'symbolHighlight' } }]);\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (targetEditor.getModel() === modelNow) {\n\t\t\t\t\tdecorations.clear();\n\t\t\t\t}\n\t\t\t}, 350);\n\t\t}\n\n\t\treturn targetEditor;\n\t}\n\n\tprivate _openInPeek(target: ICodeEditor, model: ReferencesModel, range?: Range) {\n\t\tconst controller = ReferencesController.get(target);\n\t\tif (controller && target.hasModel()) {\n\t\t\tcontroller.toggleWidget(range ?? target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n\t\t} else {\n\t\t\tmodel.dispose();\n\t\t}\n\t}\n}\n\n//#region --- DEFINITION\n\nexport class DefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, token), nls.localize('def.title', 'Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('generic.noResults', \"No definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDefinitions;\n\t}\n}\n\nregisterAction2(class GoToDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDefinitionAction.id,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToDecl.label', \"Go to Definition\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasDefinitionProvider,\n\t\t\tkeybinding: [{\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}],\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.1\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 2,\n\t\t\t}]\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n\t}\n});\n\nregisterAction2(class OpenDefinitionToSideAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.revealDefinitionAside';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: true,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: OpenDefinitionToSideAction.id,\n\t\t\ttitle: nls.localize2('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()),\n\t\t\tkeybinding: [{\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.F12),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyCode.F12),\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}]\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n\t}\n});\n\nregisterAction2(class PeekDefinitionAction extends DefinitionAction {\n\n\tstatic readonly id = 'editor.action.peekDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekDefinitionAction.id,\n\t\t\ttitle: nls.localize2('actions.previewDecl.label', \"Peek Definition\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F12,\n\t\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F10 },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 2\n\t\t\t}\n\t\t});\n\t\tCommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n\t}\n});\n\n//#endregion\n\n//#region --- DECLARATION\n\nclass DeclarationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, token), nls.localize('decl.title', 'Declarations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeDeclarationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleDeclarations;\n\t}\n}\n\nregisterAction2(class GoToDeclarationAction extends DeclarationAction {\n\n\tstatic readonly id = 'editor.action.revealDeclaration';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToDeclarationAction.id,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToDeclaration.label', \"Go to Declaration\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\"),\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.3\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t}],\n\t\t});\n\t}\n\n\tprotected override _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n\t\t\t: nls.localize('decl.generic.noResults', \"No declaration found\");\n\t}\n});\n\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.peekDeclaration',\n\t\t\ttitle: nls.localize2('actions.peekDecl.label', \"Peek Declaration\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasDeclarationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 3\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- TYPE DEFINITION\n\nclass TypeDefinitionAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, token), nls.localize('typedef.title', 'Type Definitions'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeTypeDefinitionCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleTypeDefinitions;\n\t}\n}\n\nregisterAction2(class GoToTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.goToTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToTypeDefinitionAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasTypeDefinitionProvider,\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: 0,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.4\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 3,\n\t\t\t}]\n\t\t});\n\t}\n});\n\nregisterAction2(class PeekTypeDefinitionAction extends TypeDefinitionAction {\n\n\tpublic static readonly ID = 'editor.action.peekTypeDefinition';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekTypeDefinitionAction.ID,\n\t\t\ttitle: nls.localize2('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasTypeDefinitionProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 4\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- IMPLEMENTATION\n\nclass ImplementationAction extends SymbolNavigationAction {\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, token), nls.localize('impl.title', 'Implementations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && info.word\n\t\t\t? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n\t\t\t: nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeImplementationCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleImplementations;\n\t}\n}\n\nregisterAction2(class GoToImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.goToImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: GoToImplementationAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('actions.goToImplementation.label', \"Go to Implementations\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\"),\n\t\t\t},\n\t\t\tprecondition: EditorContextKeys.hasImplementationProvider,\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 4,\n\t\t\t}]\n\t\t});\n\t}\n});\n\nregisterAction2(class PeekImplementationAction extends ImplementationAction {\n\n\tpublic static readonly ID = 'editor.action.peekImplementation';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: PeekImplementationAction.ID,\n\t\t\ttitle: nls.localize2('actions.peekImplementation.label', \"Peek Implementations\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasImplementationProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 5\n\t\t\t}\n\t\t});\n\t}\n});\n\n//#endregion\n\n//#region --- REFERENCES\n\nabstract class ReferencesAction extends SymbolNavigationAction {\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info\n\t\t\t? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n\t\t\t: nls.localize('references.noGeneric', \"No references found\");\n\t}\n\n\tprotected _getAlternativeCommand(editor: IActiveCodeEditor): string {\n\t\treturn editor.getOption(EditorOption.gotoLocation).alternativeReferenceCommand;\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n}\n\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: false,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.goToReferences',\n\t\t\ttitle: {\n\t\t\t\t...nls.localize2('goToReferences.label', \"Go to References\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\"),\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.editorTextFocus,\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.F12,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.EditorContext,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1.45\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarGoMenu,\n\t\t\t\tprecondition: null,\n\t\t\t\tgroup: '4_symbol_nav',\n\t\t\t\torder: 5,\n\t\t\t}]\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, false, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\topenToSide: false,\n\t\t\topenInPeek: true,\n\t\t\tmuteMessage: false\n\t\t}, {\n\t\t\tid: 'editor.action.referenceSearch.trigger',\n\t\t\ttitle: nls.localize2('references.action.label', \"Peek References\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.hasReferenceProvider,\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorContextPeek,\n\t\t\t\tgroup: 'peek',\n\t\t\t\torder: 6\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, model: ITextModel, position: corePosition.Position, token: CancellationToken): Promise<ReferencesModel> {\n\t\treturn new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, token), nls.localize('ref.title', 'References'));\n\t}\n});\n\n//#endregion\n\n\n//#region --- GENERIC goto symbols command\n\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n\n\tconstructor(\n\t\tconfig: SymbolNavigationActionConfig,\n\t\tprivate readonly _references: Location[],\n\t\tprivate readonly _gotoMultipleBehaviour: GoToLocationValues | undefined,\n\t) {\n\t\tsuper(config, {\n\t\t\tid: 'editor.action.goToLocation',\n\t\t\ttitle: nls.localize2('label.generic', \"Go to Any Symbol\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tPeekContext.notInPeekEditor,\n\t\t\t\tEditorContextKeys.isInEmbeddedEditor.toNegated()\n\t\t\t),\n\t\t});\n\t}\n\n\tprotected async _getLocationModel(languageFeaturesService: ILanguageFeaturesService, _model: ITextModel, _position: corePosition.Position, _token: CancellationToken): Promise<ReferencesModel | undefined> {\n\t\treturn new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n\t}\n\n\tprotected _getNoResultFoundMessage(info: IWordAtPosition | null): string {\n\t\treturn info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n\t}\n\n\tprotected _getGoToPreference(editor: IActiveCodeEditor): GoToLocationValues {\n\t\treturn this._gotoMultipleBehaviour ?? editor.getOption(EditorOption.gotoLocation).multipleReferences;\n\t}\n\n\tprotected _getAlternativeCommand(): undefined {\n\t\treturn undefined;\n\t}\n}\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.goToLocations',\n\tmetadata: {\n\t\tdescription: 'Go to locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n\t\t\t{ name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any, noResultsMessage?: string, openInPeek?: boolean) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\t\tassertType(Array.isArray(references));\n\t\tassertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n\t\tassertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n\n\t\tconst editorService = accessor.get(ICodeEditorService);\n\t\tconst editor = await editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n\n\t\tif (isCodeEditor(editor)) {\n\t\t\teditor.setPosition(position);\n\t\t\teditor.revealPositionInCenterIfOutsideViewport(position, ScrollType.Smooth);\n\n\t\t\treturn editor.invokeWithinContext(accessor => {\n\t\t\t\tconst command = new class extends GenericGoToLocationAction {\n\t\t\t\t\tprotected override _getNoResultFoundMessage(info: IWordAtPosition | null) {\n\t\t\t\t\t\treturn noResultsMessage || super._getNoResultFoundMessage(info);\n\t\t\t\t\t}\n\t\t\t\t}({\n\t\t\t\t\tmuteMessage: !Boolean(noResultsMessage),\n\t\t\t\t\topenInPeek: Boolean(openInPeek),\n\t\t\t\t\topenToSide: false\n\t\t\t\t}, references, multiple as GoToLocationValues);\n\n\t\t\t\taccessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n\t\t\t});\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.peekLocations',\n\tmetadata: {\n\t\tdescription: 'Peek locations from a position in a file',\n\t\targs: [\n\t\t\t{ name: 'uri', description: 'The text document in which to start', constraint: URI },\n\t\t\t{ name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n\t\t\t{ name: 'locations', description: 'An array of locations.', constraint: Array },\n\t\t\t{ name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n\t\t]\n\t},\n\thandler: async (accessor: ServicesAccessor, resource: any, position: any, references: any, multiple?: any) => {\n\t\taccessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n\t}\n});\n\n//#endregion\n\n\n//#region --- REFERENCE search special commands\n\nCommandsRegistry.registerCommand({\n\tid: 'editor.action.findReferences',\n\thandler: (accessor: ServicesAccessor, resource: any, position: any) => {\n\t\tassertType(URI.isUri(resource));\n\t\tassertType(corePosition.Position.isIPosition(position));\n\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\treturn codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n\t\t\tif (!isCodeEditor(control) || !control.hasModel()) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst controller = ReferencesController.get(control);\n\t\t\tif (!controller) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n\t\t\tconst range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n\t\t\treturn Promise.resolve(controller.toggleWidget(range, references, false));\n\t\t});\n\t}\n});\n\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n\n//#endregion\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2809, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { CancelablePromise, createCancelablePromise } from '../../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport './goToDefinitionAtPosition.css';\nimport { CodeEditorStateFlag, EditorState } from '../../../editorState/browser/editorState.js';\nimport { ICodeEditor, MouseTargetType } from '../../../../browser/editorBrowser.js';\nimport { EditorContributionInstantiation, registerEditorContribution } from '../../../../browser/editorExtensions.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { IRange, Range } from '../../../../common/core/range.js';\nimport { IEditorContribution, IEditorDecorationsCollection } from '../../../../common/editorCommon.js';\nimport { IModelDeltaDecoration, ITextModel } from '../../../../common/model.js';\nimport { LocationLink } from '../../../../common/languages.js';\nimport { ILanguageService } from '../../../../common/languages/language.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { ClickLinkGesture, ClickLinkKeyboardEvent, ClickLinkMouseEvent } from './clickLinkGesture.js';\nimport { PeekContext } from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { DefinitionAction } from '../goToCommands.js';\nimport { getDefinitionsAtPosition } from '../goToSymbol.js';\nimport { IWordAtPosition } from '../../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { ModelDecorationInjectedTextOptions } from '../../../../common/model/textModel.js';\n\nexport class GotoDefinitionAtPositionEditorContribution implements IEditorContribution {\n\n\tpublic static readonly ID = 'editor.contrib.gotodefinitionatposition';\n\tstatic readonly MAX_SOURCE_PREVIEW_LINES = 8;\n\n\tprivate readonly editor: ICodeEditor;\n\tprivate readonly toUnhook = new DisposableStore();\n\tprivate readonly toUnhookForKeyboard = new DisposableStore();\n\tprivate readonly linkDecorations: IEditorDecorationsCollection;\n\tprivate currentWordAtPosition: IWordAtPosition | null = null;\n\tprivate previousPromise: CancelablePromise<LocationLink[] | null> | null = null;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@ITextModelService private readonly textModelResolverService: ITextModelService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t) {\n\t\tthis.editor = editor;\n\t\tthis.linkDecorations = this.editor.createDecorationsCollection();\n\n\t\tconst linkGesture = new ClickLinkGesture(editor);\n\t\tthis.toUnhook.add(linkGesture);\n\n\t\tthis.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent]) => {\n\t\t\tthis.startFindDefinitionFromMouse(mouseEvent, keyboardEvent ?? undefined);\n\t\t}));\n\n\t\tthis.toUnhook.add(linkGesture.onExecute((mouseEvent: ClickLinkMouseEvent) => {\n\t\t\tif (this.isEnabled(mouseEvent)) {\n\t\t\t\tthis.gotoDefinition(mouseEvent.target.position!, mouseEvent.hasSideBySideModifier)\n\t\t\t\t\t.catch((error: Error) => {\n\t\t\t\t\t\tonUnexpectedError(error);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.removeLinkDecorations();\n\t\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis.toUnhook.add(linkGesture.onCancel(() => {\n\t\t\tthis.removeLinkDecorations();\n\t\t\tthis.currentWordAtPosition = null;\n\t\t}));\n\t}\n\n\tstatic get(editor: ICodeEditor): GotoDefinitionAtPositionEditorContribution | null {\n\t\treturn editor.getContribution<GotoDefinitionAtPositionEditorContribution>(GotoDefinitionAtPositionEditorContribution.ID);\n\t}\n\n\tasync startFindDefinitionFromCursor(position: Position) {\n\t\t// For issue: https://github.com/microsoft/vscode/issues/46257\n\t\t// equivalent to mouse move with meta/ctrl key\n\n\t\t// First find the definition and add decorations\n\t\t// to the editor to be shown with the content hover widget\n\t\tawait this.startFindDefinition(position);\n\t\t// Add listeners for editor cursor move and key down events\n\t\t// Dismiss the \"extended\" editor decorations when the user hides\n\t\t// the hover widget. There is no event for the widget itself so these\n\t\t// serve as a best effort. After removing the link decorations, the hover\n\t\t// widget is clean and will only show declarations per next request.\n\t\tthis.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(() => {\n\t\t\tthis.currentWordAtPosition = null;\n\t\t\tthis.removeLinkDecorations();\n\t\t\tthis.toUnhookForKeyboard.clear();\n\t\t}));\n\t\tthis.toUnhookForKeyboard.add(this.editor.onKeyDown((e: IKeyboardEvent) => {\n\t\t\tif (e) {\n\t\t\t\tthis.currentWordAtPosition = null;\n\t\t\t\tthis.removeLinkDecorations();\n\t\t\t\tthis.toUnhookForKeyboard.clear();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate startFindDefinitionFromMouse(mouseEvent: ClickLinkMouseEvent, withKey?: ClickLinkKeyboardEvent): void {\n\n\t\t// check if we are active and on a content widget\n\t\tif (mouseEvent.target.type === MouseTargetType.CONTENT_WIDGET && this.linkDecorations.length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {\n\t\t\tthis.currentWordAtPosition = null;\n\t\t\tthis.removeLinkDecorations();\n\t\t\treturn;\n\t\t}\n\n\t\tconst position = mouseEvent.target.position!;\n\n\t\tthis.startFindDefinition(position);\n\t}\n\n\tprivate async startFindDefinition(position: Position): Promise<void> {\n\n\t\t// Dispose listeners for updating decorations when using keyboard to show definition hover\n\t\tthis.toUnhookForKeyboard.clear();\n\n\t\t// Find word at mouse position\n\t\tconst word = position ? this.editor.getModel()?.getWordAtPosition(position) : null;\n\t\tif (!word) {\n\t\t\tthis.currentWordAtPosition = null;\n\t\t\tthis.removeLinkDecorations();\n\t\t\treturn;\n\t\t}\n\n\t\t// Return early if word at position is still the same\n\t\tif (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentWordAtPosition = word;\n\n\t\t// Find definition and decorate word if found\n\t\tconst state = new EditorState(this.editor, CodeEditorStateFlag.Position | CodeEditorStateFlag.Value | CodeEditorStateFlag.Selection | CodeEditorStateFlag.Scroll);\n\n\t\tif (this.previousPromise) {\n\t\t\tthis.previousPromise.cancel();\n\t\t\tthis.previousPromise = null;\n\t\t}\n\n\t\tthis.previousPromise = createCancelablePromise(token => this.findDefinition(position, token));\n\n\t\tlet results: LocationLink[] | null;\n\t\ttry {\n\t\t\tresults = await this.previousPromise;\n\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!results || !results.length || !state.validate(this.editor)) {\n\t\t\tthis.removeLinkDecorations();\n\t\t\treturn;\n\t\t}\n\n\t\tconst linkRange = results[0].originSelectionRange\n\t\t\t? Range.lift(results[0].originSelectionRange)\n\t\t\t: new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n\n\t\t// Multiple results\n\t\tif (results.length > 1) {\n\n\t\t\tlet combinedRange = linkRange;\n\t\t\tfor (const { originSelectionRange } of results) {\n\t\t\t\tif (originSelectionRange) {\n\t\t\t\t\tcombinedRange = Range.plusRange(combinedRange, originSelectionRange);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.addDecoration(\n\t\t\t\tcombinedRange,\n\t\t\t\tnew MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length))\n\t\t\t);\n\t\t} else {\n\t\t\t// Single result\n\t\t\tconst result = results[0];\n\n\t\t\tif (!result.uri) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn this.textModelResolverService.createModelReference(result.uri).then(ref => {\n\n\t\t\t\tif (!ref.object || !ref.object.textEditorModel) {\n\t\t\t\t\tref.dispose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst { object: { textEditorModel } } = ref;\n\t\t\t\tconst { startLineNumber } = result.range;\n\n\t\t\t\tif (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {\n\t\t\t\t\t// invalid range\n\t\t\t\t\tref.dispose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst previewValue = this.getPreviewValue(textEditorModel, startLineNumber, result);\n\t\t\t\tconst languageId = this.languageService.guessLanguageIdByFilepathOrFirstLine(textEditorModel.uri);\n\t\t\t\tthis.addDecoration(\n\t\t\t\t\tlinkRange,\n\t\t\t\t\tpreviewValue ? new MarkdownString().appendCodeblock(languageId ? languageId : '', previewValue) : undefined\n\t\t\t\t);\n\t\t\t\tref.dispose();\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate getPreviewValue(textEditorModel: ITextModel, startLineNumber: number, result: LocationLink) {\n\t\tlet rangeToUse = result.range;\n\t\tconst numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;\n\t\tif (numberOfLinesInRange >= GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES) {\n\t\t\trangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);\n\t\t}\n\t\trangeToUse = textEditorModel.validateRange(rangeToUse);\n\t\tconst previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);\n\t\treturn previewValue;\n\t}\n\n\tprivate stripIndentationFromPreviewRange(textEditorModel: ITextModel, startLineNumber: number, previewRange: IRange) {\n\t\tconst startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n\t\tlet minIndent = startIndent;\n\n\t\tfor (let endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++) {\n\t\t\tconst endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n\t\t\tminIndent = Math.min(minIndent, endIndent);\n\t\t}\n\n\t\tconst previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(`^\\\\s{${minIndent - 1}}`, 'gm'), '').trim();\n\t\treturn previewValue;\n\t}\n\n\tprivate getPreviewRangeBasedOnIndentation(textEditorModel: ITextModel, startLineNumber: number) {\n\t\tconst startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n\t\tconst maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution.MAX_SOURCE_PREVIEW_LINES);\n\t\tlet endLineNumber = startLineNumber + 1;\n\n\t\tfor (; endLineNumber < maxLineNumber; endLineNumber++) {\n\t\t\tconst endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n\n\t\t\tif (startIndent === endIndent) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn new Range(startLineNumber, 1, endLineNumber + 1, 1);\n\t}\n\n\tprivate addDecoration(range: Range, hoverMessage: MarkdownString | undefined): void {\n\n\t\tconst newDecorations: IModelDeltaDecoration = {\n\t\t\trange: range,\n\t\t\toptions: {\n\t\t\t\tdescription: 'goto-definition-link',\n\t\t\t\tinlineClassName: 'goto-definition-link',\n\t\t\t\thoverMessage\n\t\t\t}\n\t\t};\n\n\t\tthis.linkDecorations.set([newDecorations]);\n\t}\n\n\tprivate removeLinkDecorations(): void {\n\t\tthis.linkDecorations.clear();\n\t}\n\n\tprivate isEnabled(mouseEvent: ClickLinkMouseEvent, withKey?: ClickLinkKeyboardEvent): boolean {\n\t\treturn this.editor.hasModel()\n\t\t\t&& mouseEvent.isLeftClick\n\t\t\t&& mouseEvent.isNoneOrSingleMouseDown\n\t\t\t&& mouseEvent.target.type === MouseTargetType.CONTENT_TEXT\n\t\t\t&& !(mouseEvent.target.detail.injectedText?.options instanceof ModelDecorationInjectedTextOptions)\n\t\t\t&& (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false))\n\t\t\t&& this.languageFeaturesService.definitionProvider.has(this.editor.getModel());\n\t}\n\n\tprivate findDefinition(position: Position, token: CancellationToken): Promise<LocationLink[] | null> {\n\t\tconst model = this.editor.getModel();\n\t\tif (!model) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\treturn getDefinitionsAtPosition(this.languageFeaturesService.definitionProvider, model, position, false, token);\n\t}\n\n\tprivate gotoDefinition(position: Position, openToSide: boolean): Promise<any> {\n\t\tthis.editor.setPosition(position);\n\t\treturn this.editor.invokeWithinContext((accessor) => {\n\t\t\tconst canPeek = !openToSide && this.editor.getOption(EditorOption.definitionLinkOpensInPeek) && !this.isInPeekEditor(accessor);\n\t\t\tconst action = new DefinitionAction({ openToSide, openInPeek: canPeek, muteMessage: true }, { title: { value: '', original: '' }, id: '', precondition: undefined });\n\t\t\treturn action.run(accessor);\n\t\t});\n\t}\n\n\tprivate isInPeekEditor(accessor: ServicesAccessor): boolean | undefined {\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\t\treturn PeekContext.inPeekEditor.getValue(contextKeyService);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.toUnhook.dispose();\n\t\tthis.toUnhookForKeyboard.dispose();\n\t}\n}\n\nregisterEditorContribution(GotoDefinitionAtPositionEditorContribution.ID, GotoDefinitionAtPositionEditorContribution, EditorContributionInstantiation.BeforeFirstInteraction);\n"],"names":[],"mappings":"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","debugId":null}}]
}