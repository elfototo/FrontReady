{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/liza/Desktop/FrontReady/src/app/components/codeEditor.tsx"],"sourcesContent":["\"use client\";\nimport Editor, { DiffEditor, useMonaco, loader } from \"@monaco-editor/react\";\nimport { useEffect, useState } from \"react\";\nimport { TbWashDrycleanOff } from \"react-icons/tb\";\n\ntype Language = \"html\" | \"css\" | \"javascript\" | \"tsx\";\n\ntype Exercise = {\n  id: number;\n  theme: string;\n  title: string;\n  dificult: string;\n  time: string;\n  note: string;\n  requirements: string;\n  html: string;\n  javascript: string;\n  css: string;\n  tsx: string;\n  [key: string]: unknown;\n};\n\nexport default function CodeEditor({\n  exercise,\n  jsValue,\n  tsxValue,\n  htmlValue,\n  cssValue,\n}: {\n  exercise: Exercise | undefined;\n  jsValue: string | undefined;\n  tsxValue: string | undefined;\n  htmlValue: string | undefined;\n  cssValue: string | undefined;\n}) {\n  const [activeLang, setActiveLang] = useState<Language>(\"javascript\");\n\n  const [userCode, setUserCode] = useState<Record<Language, string>>({\n    javascript: \"\",\n    html: \"\",\n    css: \"\",\n    tsx: \"\",\n  });\n\n  useEffect(() => {\n    if (exercise) {\n      const initial: Record<Language, string> = {\n        html: \"\",\n        css: \"\",\n        javascript: \"\",\n        tsx: \"\",\n      };\n\n      if (exercise.javascript) {\n        initial[\"javascript\"] = exercise.javascript;\n      }\n      if (exercise.html) {\n        initial[\"html\"] = exercise.html;\n      }\n      if (exercise.css) {\n        initial[\"css\"] = exercise.css;\n      }\n      if (exercise.tsx) {\n        initial[\"tsx\"] = exercise.tsx;\n      }\n\n      const saved = localStorage.getItem(`exercise-${exercise.id}`);\n      if (saved) {\n        setUserCode(JSON.parse(saved));\n      } else {\n        setUserCode(initial);\n      }\n    }\n  }, [exercise]);\n\n  useEffect(() => {\n    if (Object.values(userCode).some((val) => val)) {\n      localStorage.setItem(\n        `exercise-${exercise?.id}`,\n        JSON.stringify(userCode)\n      );\n    }\n  }, [userCode, exercise]);\n\n  const [fileName, setFileName] = useState(\"script.js\");\n\n  const files: Record<\n    string,\n    { name: string; language: string; value: string | undefined }\n  > = {\n    \"script.js\": {\n      name: \"script.js\",\n      language: \"javascript\",\n      value: jsValue,\n    },\n    \"script.tsx\": {\n      name: \"script.tsx\",\n      language: \"typescript\",\n      value: tsxValue,\n    },\n    \"style.css\": {\n      name: \"style.css\",\n      language: \"css\",\n      value: cssValue,\n    },\n    \"index.html\": {\n      name: \"index.html\",\n      language: \"html\",\n      value: htmlValue,\n    },\n  };\n\n  const file = files[fileName];\n\n  function getInitialCode(exercise: Exercise): Record<Language, string> {\n    return {\n      html: exercise.html ?? \"\",\n      css: exercise.css ?? \"\",\n      javascript: exercise.javascript ?? \"\",\n      tsx: exercise.tsx ?? \"\",\n    };\n  }\n\n  const handlerClean = (e: React.MouseEvent<HTMLButtonElement>) => {\n    if (!exercise) return;\n\n    const initial = getInitialCode(exercise);\n\n    // 1. Убираем сохранённое из localStorage\n    localStorage.removeItem(`exercise-${exercise.id}`);\n\n    // 2. Возвращаем код к исходному\n    setUserCode(initial);\n  };\n\n  return (\n    <>\n      <div className=\"flex justify-between\">\n        <div className=\"flex gap-1\">\n          <button\n            className=\"p-2 bg-gray-100 hover:bg-gray-200\"\n            disabled={fileName === \"script.js\"}\n            onClick={() => setFileName(\"script.js\")}\n          >\n            script.js\n          </button>\n          <button\n            className=\"p-2 bg-gray-100 hover:bg-gray-200\"\n            disabled={fileName === \"script.tsx\"}\n            onClick={() => setFileName(\"script.tsx\")}\n          >\n            script.tsx\n          </button>\n          <button\n            className=\"p-2 bg-gray-100 hover:bg-gray-200\"\n            disabled={fileName === \"style.css\"}\n            onClick={() => setFileName(\"style.css\")}\n          >\n            style.css\n          </button>\n          <button\n            className=\"p-2 bg-gray-100 hover:bg-gray-200\"\n            disabled={fileName === \"index.html\"}\n            onClick={() => setFileName(\"index.html\")}\n          >\n            index.html\n          </button>\n        </div>\n        <div>\n          <button\n            className=\"text-gray-500 cursor-pointer p-2 bg-gray-100 hover:bg-gray-200 rounded-full\"\n            onClick={handlerClean}\n          >\n            <TbWashDrycleanOff />\n          </button>\n        </div>\n      </div>\n\n      <Editor\n        height=\"80vh\"\n        theme=\"vs-dark\"\n        path={file.name}\n        defaultLanguage={file.language}\n        defaultValue={file.value}\n        value={userCode[activeLang]}\n        onChange={(val: string | undefined) =>\n          setUserCode((prev) => ({ ...prev, [activeLang]: val || \"\" }))\n        }\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/liza/Desktop/FrontReady/src/app/exercise/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { use, useState, useEffect } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport exersiseData from \"../../data/exercise.json\";\nimport Link from \"next/link\";\nimport { FaArrowRotateLeft } from \"react-icons/fa6\";\nimport { HiClock } from \"react-icons/hi\";\nimport { PiFireFill } from \"react-icons/pi\";\nimport { IoIosArrowForward } from \"react-icons/io\";\nimport { TbCodeCircleFilled } from \"react-icons/tb\";\nimport CodeEditor from \"../../components/codeEditor\";\n\ntype Exercise = {\n  id: number;\n  theme: string;\n  title: string;\n  dificult: string;\n  time: string;\n  note: string;\n  requirements: string;\n  html: string;\n  javascript: string;\n  css: string;\n  tsx: string;\n  [key: string]: unknown;\n};\n\nexport default function ExercisePage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = use(params);\n  const exercises: Exercise[] = exersiseData;\n  const exercise = exercises.find((ex) => ex.id === Number(id));\n  console.log(\"exercise id\", exercise);\n  console.log(\"exercises\", exercises);\n\n  return (\n    <div className=\"font-sans grid grid-rows-[20px_1fr_20px] items-center p-8 pb-20 gap-16 sm:p-20\">\n      <div className=\"flex justify-between\">\n        <h1 className=\"text-4xl\">{exercise?.title}</h1>\n        <Link href={\"/\"}>\n          <div className=\"flex items-center gap-2\">\n            <FaArrowRotateLeft size={12} /> назад\n          </div>\n        </Link>\n      </div>\n\n      <div className=\"flex gap-5\">\n        {/* Условия */}\n        <div className=\"w-1/3\">\n          <div className=\"flex gap-5 text-gray-400\">\n            <div className=\"flex items-center gap-1\">\n              <TbCodeCircleFilled />\n              {exercise?.theme}\n            </div>\n            <div className=\"flex items-center gap-1\">\n              <PiFireFill />\n              {exercise?.dificult}\n            </div>\n            <div className=\"flex items-center gap-1 \">\n              <HiClock />\n              {exercise?.time}\n            </div>\n          </div>\n\n          <div className=\"bg-blue-100 p-5 my-5 rounded-xl\">\n            {exercise?.requirements}\n          </div>\n        </div>\n\n        {/* Code Editor */}\n        <div className=\"w-full\">\n          <CodeEditor\n            exercise={exercise}\n            jsValue={exercise?.javascript}\n            tsxValue={exercise?.tsx}\n            htmlValue={exercise?.html}\n            cssValue={exercise?.css}\n          />\n        </div>\n\n        {/* Браузер */}\n        <div></div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAXA;;;;;;;;;;AA4Be,SAAS,aAAa,EACnC,MAAM,EAGP;IACC,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,4MAAG,EAAC;IACnB,MAAM,YAAwB,iHAAY;IAC1C,MAAM,WAAW,UAAU,IAAI,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK,OAAO;IACzD,QAAQ,GAAG,CAAC,eAAe;IAC3B,QAAQ,GAAG,CAAC,aAAa;IAEzB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAY,UAAU;;;;;;kCACpC,8OAAC,uKAAI;wBAAC,MAAM;kCACV,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oKAAiB;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;;;;;;;0BAKrC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,oKAAkB;;;;;4CAClB,UAAU;;;;;;;kDAEb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,4JAAU;;;;;4CACV,UAAU;;;;;;;kDAEb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,yJAAO;;;;;4CACP,UAAU;;;;;;;;;;;;;0CAIf,8OAAC;gCAAI,WAAU;0CACZ,UAAU;;;;;;;;;;;;kCAKf,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,kJAAU;4BACT,UAAU;4BACV,SAAS,UAAU;4BACnB,UAAU,UAAU;4BACpB,WAAW,UAAU;4BACrB,UAAU,UAAU;;;;;;;;;;;kCAKxB,8OAAC;;;;;;;;;;;;;;;;;AAIT","debugId":null}}]
}