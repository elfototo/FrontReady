{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { DocumentColorProvider, IColor, IColorInformation, IColorPresentation } from '../../../common/languages.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\n\nexport class DefaultDocumentColorProvider implements DocumentColorProvider {\n\n\tconstructor(\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t) { }\n\n\tasync provideDocumentColors(model: ITextModel, _token: CancellationToken): Promise<IColorInformation[] | null> {\n\t\treturn this._editorWorkerService.computeDefaultDocumentColors(model.uri);\n\t}\n\n\tprovideColorPresentations(_model: ITextModel, colorInfo: IColorInformation, _token: CancellationToken): IColorPresentation[] {\n\t\tconst range = colorInfo.range;\n\t\tconst colorFromInfo: IColor = colorInfo.color;\n\t\tconst alpha = colorFromInfo.alpha;\n\t\tconst color = new Color(new RGBA(Math.round(255 * colorFromInfo.red), Math.round(255 * colorFromInfo.green), Math.round(255 * colorFromInfo.blue), alpha));\n\n\t\tconst rgb = alpha ? Color.Format.CSS.formatRGBA(color) : Color.Format.CSS.formatRGB(color);\n\t\tconst hsl = alpha ? Color.Format.CSS.formatHSLA(color) : Color.Format.CSS.formatHSL(color);\n\t\tconst hex = alpha ? Color.Format.CSS.formatHexA(color) : Color.Format.CSS.formatHex(color);\n\n\t\tconst colorPresentations: IColorPresentation[] = [];\n\t\tcolorPresentations.push({ label: rgb, textEdit: { range: range, text: rgb } });\n\t\tcolorPresentations.push({ label: hsl, textEdit: { range: range, text: hsl } });\n\t\tcolorPresentations.push({ label: hex, textEdit: { range: range, text: hex } });\n\t\treturn colorPresentations;\n\t}\n}\n\nexport class DefaultDocumentColorProviderFeature extends Disposable {\n\tconstructor(\n\t\t@ILanguageFeaturesService _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEditorWorkerService editorWorkerService: IEditorWorkerService,\n\t) {\n\t\tsuper();\n\t\tthis._register(_languageFeaturesService.colorProvider.register('*', new DefaultDocumentColorProvider(editorWorkerService)));\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { DocumentColorProvider, IColor, IColorInformation, IColorPresentation } from '../../../common/languages.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\n\nexport class DefaultDocumentColorProvider implements DocumentColorProvider {\n\n\tconstructor(\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t) { }\n\n\tasync provideDocumentColors(model: ITextModel, _token: CancellationToken): Promise<IColorInformation[] | null> {\n\t\treturn this._editorWorkerService.computeDefaultDocumentColors(model.uri);\n\t}\n\n\tprovideColorPresentations(_model: ITextModel, colorInfo: IColorInformation, _token: CancellationToken): IColorPresentation[] {\n\t\tconst range = colorInfo.range;\n\t\tconst colorFromInfo: IColor = colorInfo.color;\n\t\tconst alpha = colorFromInfo.alpha;\n\t\tconst color = new Color(new RGBA(Math.round(255 * colorFromInfo.red), Math.round(255 * colorFromInfo.green), Math.round(255 * colorFromInfo.blue), alpha));\n\n\t\tconst rgb = alpha ? Color.Format.CSS.formatRGBA(color) : Color.Format.CSS.formatRGB(color);\n\t\tconst hsl = alpha ? Color.Format.CSS.formatHSLA(color) : Color.Format.CSS.formatHSL(color);\n\t\tconst hex = alpha ? Color.Format.CSS.formatHexA(color) : Color.Format.CSS.formatHex(color);\n\n\t\tconst colorPresentations: IColorPresentation[] = [];\n\t\tcolorPresentations.push({ label: rgb, textEdit: { range: range, text: rgb } });\n\t\tcolorPresentations.push({ label: hsl, textEdit: { range: range, text: hsl } });\n\t\tcolorPresentations.push({ label: hex, textEdit: { range: range, text: hex } });\n\t\treturn colorPresentations;\n\t}\n}\n\nexport class DefaultDocumentColorProviderFeature extends Disposable {\n\tconstructor(\n\t\t@ILanguageFeaturesService _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEditorWorkerService editorWorkerService: IEditorWorkerService,\n\t) {\n\t\tsuper();\n\t\tthis._register(_languageFeaturesService.colorProvider.register('*', new DefaultDocumentColorProvider(editorWorkerService)));\n\t}\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/color.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/color.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/color.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IRange } from '../../../common/core/range.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { DocumentColorProvider, IColorInformation, IColorPresentation } from '../../../common/languages.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { DefaultDocumentColorProvider } from './defaultDocumentColorProvider.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ServicesAccessor } from '../../../browser/editorExtensions.js';\n\nexport async function getColors(colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>, model: ITextModel, token: CancellationToken, defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never' = 'auto'): Promise<IColorData[]> {\n\treturn _findColorData<IColorData>(new ColorDataCollector(), colorProviderRegistry, model, token, defaultColorDecoratorsEnablement);\n}\n\nexport function getColorPresentations(model: ITextModel, colorInfo: IColorInformation, provider: DocumentColorProvider, token: CancellationToken): Promise<IColorPresentation[] | null | undefined> {\n\treturn Promise.resolve(provider.provideColorPresentations(model, colorInfo, token));\n}\n\nexport interface IColorData {\n\tcolorInfo: IColorInformation;\n\tprovider: DocumentColorProvider;\n}\n\nexport interface IExtColorData { range: IRange; color: [number, number, number, number] }\n\ninterface DataCollector<T> {\n\tcompute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, result: T[]): Promise<boolean>;\n}\n\nclass ColorDataCollector implements DataCollector<IColorData> {\n\tconstructor() { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, colors: IColorData[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideDocumentColors(model, token);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tfor (const colorInfo of documentColors) {\n\t\t\t\tcolors.push({ colorInfo, provider });\n\t\t\t}\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n}\n\nexport class ExtColorDataCollector implements DataCollector<IExtColorData> {\n\tconstructor() { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, colors: IExtColorData[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideDocumentColors(model, token);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tfor (const colorInfo of documentColors) {\n\t\t\t\tcolors.push({ range: colorInfo.range, color: [colorInfo.color.red, colorInfo.color.green, colorInfo.color.blue, colorInfo.color.alpha] });\n\t\t\t}\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n\n}\n\nexport class ColorPresentationsCollector implements DataCollector<IColorPresentation> {\n\tconstructor(private colorInfo: IColorInformation) { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, _token: CancellationToken, colors: IColorPresentation[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideColorPresentations(model, this.colorInfo, CancellationToken.None);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tcolors.push(...documentColors);\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n}\n\nexport async function _findColorData<T extends IColorPresentation | IExtColorData | IColorData>(collector: DataCollector<T>, colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>, model: ITextModel, token: CancellationToken, defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never'): Promise<T[]> {\n\tlet validDocumentColorProviderFound = false;\n\tlet defaultProvider: DefaultDocumentColorProvider | undefined;\n\tconst colorData: T[] = [];\n\tconst documentColorProviders = colorProviderRegistry.ordered(model);\n\tfor (let i = documentColorProviders.length - 1; i >= 0; i--) {\n\t\tconst provider = documentColorProviders[i];\n\t\tif (defaultColorDecoratorsEnablement !== 'always' && provider instanceof DefaultDocumentColorProvider) {\n\t\t\tdefaultProvider = provider;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tif (await collector.compute(provider, model, token, colorData)) {\n\t\t\t\t\tvalidDocumentColorProviderFound = true;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tonUnexpectedExternalError(e);\n\t\t\t}\n\t\t}\n\t}\n\tif (validDocumentColorProviderFound) {\n\t\treturn colorData;\n\t}\n\tif (defaultProvider && defaultColorDecoratorsEnablement !== 'never') {\n\t\tawait collector.compute(defaultProvider, model, token, colorData);\n\t\treturn colorData;\n\t}\n\treturn [];\n}\n\nexport function _setupColorCommand(accessor: ServicesAccessor, resource: URI): { model: ITextModel; colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>; defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never' } {\n\tconst { colorProvider: colorProviderRegistry } = accessor.get(ILanguageFeaturesService);\n\tconst model = accessor.get(IModelService).getModel(resource);\n\tif (!model) {\n\t\tthrow illegalArgument();\n\t}\n\tconst defaultColorDecoratorsEnablement = accessor.get(IConfigurationService).getValue<'auto' | 'always' | 'never'>('editor.defaultColorDecorators', { resource });\n\treturn { model, colorProviderRegistry, defaultColorDecoratorsEnablement };\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IRange } from '../../../common/core/range.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { DocumentColorProvider, IColorInformation, IColorPresentation } from '../../../common/languages.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { DefaultDocumentColorProvider } from './defaultDocumentColorProvider.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ServicesAccessor } from '../../../browser/editorExtensions.js';\n\nexport async function getColors(colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>, model: ITextModel, token: CancellationToken, defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never' = 'auto'): Promise<IColorData[]> {\n\treturn _findColorData<IColorData>(new ColorDataCollector(), colorProviderRegistry, model, token, defaultColorDecoratorsEnablement);\n}\n\nexport function getColorPresentations(model: ITextModel, colorInfo: IColorInformation, provider: DocumentColorProvider, token: CancellationToken): Promise<IColorPresentation[] | null | undefined> {\n\treturn Promise.resolve(provider.provideColorPresentations(model, colorInfo, token));\n}\n\nexport interface IColorData {\n\tcolorInfo: IColorInformation;\n\tprovider: DocumentColorProvider;\n}\n\nexport interface IExtColorData { range: IRange; color: [number, number, number, number] }\n\ninterface DataCollector<T> {\n\tcompute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, result: T[]): Promise<boolean>;\n}\n\nclass ColorDataCollector implements DataCollector<IColorData> {\n\tconstructor() { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, colors: IColorData[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideDocumentColors(model, token);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tfor (const colorInfo of documentColors) {\n\t\t\t\tcolors.push({ colorInfo, provider });\n\t\t\t}\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n}\n\nexport class ExtColorDataCollector implements DataCollector<IExtColorData> {\n\tconstructor() { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, token: CancellationToken, colors: IExtColorData[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideDocumentColors(model, token);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tfor (const colorInfo of documentColors) {\n\t\t\t\tcolors.push({ range: colorInfo.range, color: [colorInfo.color.red, colorInfo.color.green, colorInfo.color.blue, colorInfo.color.alpha] });\n\t\t\t}\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n\n}\n\nexport class ColorPresentationsCollector implements DataCollector<IColorPresentation> {\n\tconstructor(private colorInfo: IColorInformation) { }\n\tasync compute(provider: DocumentColorProvider, model: ITextModel, _token: CancellationToken, colors: IColorPresentation[]): Promise<boolean> {\n\t\tconst documentColors = await provider.provideColorPresentations(model, this.colorInfo, CancellationToken.None);\n\t\tif (Array.isArray(documentColors)) {\n\t\t\tcolors.push(...documentColors);\n\t\t}\n\t\treturn Array.isArray(documentColors);\n\t}\n}\n\nexport async function _findColorData<T extends IColorPresentation | IExtColorData | IColorData>(collector: DataCollector<T>, colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>, model: ITextModel, token: CancellationToken, defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never'): Promise<T[]> {\n\tlet validDocumentColorProviderFound = false;\n\tlet defaultProvider: DefaultDocumentColorProvider | undefined;\n\tconst colorData: T[] = [];\n\tconst documentColorProviders = colorProviderRegistry.ordered(model);\n\tfor (let i = documentColorProviders.length - 1; i >= 0; i--) {\n\t\tconst provider = documentColorProviders[i];\n\t\tif (defaultColorDecoratorsEnablement !== 'always' && provider instanceof DefaultDocumentColorProvider) {\n\t\t\tdefaultProvider = provider;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tif (await collector.compute(provider, model, token, colorData)) {\n\t\t\t\t\tvalidDocumentColorProviderFound = true;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tonUnexpectedExternalError(e);\n\t\t\t}\n\t\t}\n\t}\n\tif (validDocumentColorProviderFound) {\n\t\treturn colorData;\n\t}\n\tif (defaultProvider && defaultColorDecoratorsEnablement !== 'never') {\n\t\tawait collector.compute(defaultProvider, model, token, colorData);\n\t\treturn colorData;\n\t}\n\treturn [];\n}\n\nexport function _setupColorCommand(accessor: ServicesAccessor, resource: URI): { model: ITextModel; colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>; defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never' } {\n\tconst { colorProvider: colorProviderRegistry } = accessor.get(ILanguageFeaturesService);\n\tconst model = accessor.get(IModelService).getModel(resource);\n\tif (!model) {\n\t\tthrow illegalArgument();\n\t}\n\tconst defaultColorDecoratorsEnablement = accessor.get(IConfigurationService).getValue<'auto' | 'always' | 'never'>('editor.defaultColorDecorators', { resource });\n\treturn { model, colorProviderRegistry, defaultColorDecoratorsEnablement };\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorDetector.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorDetector.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/colorDetector.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancelablePromise, createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IEditorContribution, IEditorDecorationsCollection } from '../../../common/editorCommon.js';\nimport { IModelDecoration, IModelDeltaDecoration } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IFeatureDebounceInformation, ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors, IColorData } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\n\nexport const ColorDecorationInjectedTextMarker = Object.create({});\n\n\nexport class ColorDetector extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.contrib.colorDetector';\n\n\tstatic readonly RECOMPUTE_TIME = 1000; // ms\n\n\tprivate readonly _localToDispose = this._register(new DisposableStore());\n\tprivate _computePromise: CancelablePromise<IColorData[]> | null;\n\tprivate _timeoutTimer: TimeoutTimer | null;\n\tprivate _debounceInformation: IFeatureDebounceInformation;\n\n\tprivate _decorationsIds: string[] = [];\n\tprivate _colorDatas = new Map<string, IColorData>();\n\n\tprivate readonly _colorDecoratorIds: IEditorDecorationsCollection;\n\n\tprivate _isColorDecoratorsEnabled: boolean;\n\tprivate _defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never';\n\n\tprivate readonly _ruleFactory: DynamicCssRules;\n\n\tprivate readonly _decoratorLimitReporter = this._register(new DecoratorLimitReporter());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageFeatureDebounceService languageFeatureDebounceService: ILanguageFeatureDebounceService,\n\t) {\n\t\tsuper();\n\t\tthis._colorDecoratorIds = this._editor.createDecorationsCollection();\n\t\tthis._ruleFactory = this._register(new DynamicCssRules(this._editor));\n\t\tthis._debounceInformation = languageFeatureDebounceService.for(_languageFeaturesService.colorProvider, 'Document Colors', { min: ColorDetector.RECOMPUTE_TIME });\n\t\tthis._register(_editor.onDidChangeModel(() => {\n\t\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\t\tthis.updateColors();\n\t\t}));\n\t\tthis._register(_editor.onDidChangeModelLanguage(() => this.updateColors()));\n\t\tthis._register(_languageFeaturesService.colorProvider.onDidChange(() => this.updateColors()));\n\t\tthis._register(_editor.onDidChangeConfiguration((e) => {\n\t\t\tconst prevIsEnabled = this._isColorDecoratorsEnabled;\n\t\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\t\tthis._defaultColorDecoratorsEnablement = this._editor.getOption(EditorOption.defaultColorDecorators);\n\t\t\tconst updatedColorDecoratorsSetting = prevIsEnabled !== this._isColorDecoratorsEnabled || e.hasChanged(EditorOption.colorDecoratorsLimit);\n\t\t\tconst updatedDefaultColorDecoratorsSetting = e.hasChanged(EditorOption.defaultColorDecorators);\n\t\t\tif (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n\t\t\t\tif (this._isColorDecoratorsEnabled) {\n\t\t\t\t\tthis.updateColors();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.removeAllDecorations();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._timeoutTimer = null;\n\t\tthis._computePromise = null;\n\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\tthis._defaultColorDecoratorsEnablement = this._editor.getOption(EditorOption.defaultColorDecorators);\n\t\tthis.updateColors();\n\t}\n\n\tisEnabled(): boolean {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn false;\n\t\t}\n\t\tconst languageId = model.getLanguageId();\n\t\t// handle deprecated settings. [languageId].colorDecorators.enable\n\t\tconst deprecatedConfig = this._configurationService.getValue(languageId);\n\t\tif (deprecatedConfig && typeof deprecatedConfig === 'object') {\n\t\t\tconst colorDecorators = (deprecatedConfig as any)['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n\t\t\tif (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n\t\t\t\treturn colorDecorators['enable'];\n\t\t\t}\n\t\t}\n\n\t\treturn this._editor.getOption(EditorOption.colorDecorators);\n\t}\n\n\tstatic get(editor: ICodeEditor): ColorDetector | null {\n\t\treturn editor.getContribution<ColorDetector>(this.ID);\n\t}\n\n\toverride dispose(): void {\n\t\tthis.stop();\n\t\tthis.removeAllDecorations();\n\t\tsuper.dispose();\n\t}\n\n\tprivate updateColors(): void {\n\t\tthis.stop();\n\n\t\tif (!this._isColorDecoratorsEnabled) {\n\t\t\treturn;\n\t\t}\n\t\tconst model = this._editor.getModel();\n\n\t\tif (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n\t\t\tif (!this._timeoutTimer) {\n\t\t\t\tthis._timeoutTimer = new TimeoutTimer();\n\t\t\t\tthis._timeoutTimer.cancelAndSet(() => {\n\t\t\t\t\tthis._timeoutTimer = null;\n\t\t\t\t\tthis.beginCompute();\n\t\t\t\t}, this._debounceInformation.get(model));\n\t\t\t}\n\t\t}));\n\t\tthis.beginCompute();\n\t}\n\n\tprivate async beginCompute(): Promise<void> {\n\t\tthis._computePromise = createCancelablePromise(async token => {\n\t\t\tconst model = this._editor.getModel();\n\t\t\tif (!model) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst sw = new StopWatch(false);\n\t\t\tconst colors = await getColors(this._languageFeaturesService.colorProvider, model, token, this._defaultColorDecoratorsEnablement);\n\t\t\tthis._debounceInformation.update(model, sw.elapsed());\n\t\t\treturn colors;\n\t\t});\n\t\ttry {\n\t\t\tconst colors = await this._computePromise;\n\t\t\tthis.updateDecorations(colors);\n\t\t\tthis.updateColorDecorators(colors);\n\t\t\tthis._computePromise = null;\n\t\t} catch (e) {\n\t\t\tonUnexpectedError(e);\n\t\t}\n\t}\n\n\tprivate stop(): void {\n\t\tif (this._timeoutTimer) {\n\t\t\tthis._timeoutTimer.cancel();\n\t\t\tthis._timeoutTimer = null;\n\t\t}\n\t\tif (this._computePromise) {\n\t\t\tthis._computePromise.cancel();\n\t\t\tthis._computePromise = null;\n\t\t}\n\t\tthis._localToDispose.clear();\n\t}\n\n\tprivate updateDecorations(colorDatas: IColorData[]): void {\n\t\tconst decorations = colorDatas.map(c => ({\n\t\t\trange: {\n\t\t\t\tstartLineNumber: c.colorInfo.range.startLineNumber,\n\t\t\t\tstartColumn: c.colorInfo.range.startColumn,\n\t\t\t\tendLineNumber: c.colorInfo.range.endLineNumber,\n\t\t\t\tendColumn: c.colorInfo.range.endColumn\n\t\t\t},\n\t\t\toptions: ModelDecorationOptions.EMPTY\n\t\t}));\n\n\t\tthis._editor.changeDecorations((changeAccessor) => {\n\t\t\tthis._decorationsIds = changeAccessor.deltaDecorations(this._decorationsIds, decorations);\n\n\t\t\tthis._colorDatas = new Map<string, IColorData>();\n\t\t\tthis._decorationsIds.forEach((id, i) => this._colorDatas.set(id, colorDatas[i]));\n\t\t});\n\t}\n\n\tprivate readonly _colorDecorationClassRefs = this._register(new DisposableStore());\n\n\tprivate updateColorDecorators(colorData: IColorData[]): void {\n\t\tthis._colorDecorationClassRefs.clear();\n\n\t\tconst decorations: IModelDeltaDecoration[] = [];\n\n\t\tconst limit = this._editor.getOption(EditorOption.colorDecoratorsLimit);\n\n\t\tfor (let i = 0; i < colorData.length && decorations.length < limit; i++) {\n\t\t\tconst { red, green, blue, alpha } = colorData[i].colorInfo.color;\n\t\t\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\t\t\tconst color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n\n\t\t\tconst ref = this._colorDecorationClassRefs.add(\n\t\t\t\tthis._ruleFactory.createClassNameRef({\n\t\t\t\t\tbackgroundColor: color\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tdecorations.push({\n\t\t\t\trange: {\n\t\t\t\t\tstartLineNumber: colorData[i].colorInfo.range.startLineNumber,\n\t\t\t\t\tstartColumn: colorData[i].colorInfo.range.startColumn,\n\t\t\t\t\tendLineNumber: colorData[i].colorInfo.range.endLineNumber,\n\t\t\t\t\tendColumn: colorData[i].colorInfo.range.endColumn\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tdescription: 'colorDetector',\n\t\t\t\t\tbefore: {\n\t\t\t\t\t\tcontent: noBreakWhitespace,\n\t\t\t\t\t\tinlineClassName: `${ref.className} colorpicker-color-decoration`,\n\t\t\t\t\t\tinlineClassNameAffectsLetterSpacing: true,\n\t\t\t\t\t\tattachedData: ColorDecorationInjectedTextMarker\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tconst limited = limit < colorData.length ? limit : false;\n\t\tthis._decoratorLimitReporter.update(colorData.length, limited);\n\n\t\tthis._colorDecoratorIds.set(decorations);\n\t}\n\n\tprivate removeAllDecorations(): void {\n\t\tthis._editor.removeDecorations(this._decorationsIds);\n\t\tthis._decorationsIds = [];\n\t\tthis._colorDecoratorIds.clear();\n\t\tthis._colorDecorationClassRefs.clear();\n\t}\n\n\tgetColorData(position: Position): IColorData | null {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst decorations = model\n\t\t\t.getDecorationsInRange(Range.fromPositions(position, position))\n\t\t\t.filter(d => this._colorDatas.has(d.id));\n\n\t\tif (decorations.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._colorDatas.get(decorations[0].id)!;\n\t}\n\n\tisColorDecoration(decoration: IModelDecoration): boolean {\n\t\treturn this._colorDecoratorIds.has(decoration);\n\t}\n}\n\nexport class DecoratorLimitReporter extends Disposable {\n\tprivate _onDidChange = this._register(new Emitter<void>());\n\n\tprivate _computed: number = 0;\n\tprivate _limited: number | false = false;\n\tpublic update(computed: number, limited: number | false) {\n\t\tif (computed !== this._computed || limited !== this._limited) {\n\t\t\tthis._computed = computed;\n\t\t\tthis._limited = limited;\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancelablePromise, createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IEditorContribution, IEditorDecorationsCollection } from '../../../common/editorCommon.js';\nimport { IModelDecoration, IModelDeltaDecoration } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IFeatureDebounceInformation, ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors, IColorData } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\n\nexport const ColorDecorationInjectedTextMarker = Object.create({});\n\n\nexport class ColorDetector extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.contrib.colorDetector';\n\n\tstatic readonly RECOMPUTE_TIME = 1000; // ms\n\n\tprivate readonly _localToDispose = this._register(new DisposableStore());\n\tprivate _computePromise: CancelablePromise<IColorData[]> | null;\n\tprivate _timeoutTimer: TimeoutTimer | null;\n\tprivate _debounceInformation: IFeatureDebounceInformation;\n\n\tprivate _decorationsIds: string[] = [];\n\tprivate _colorDatas = new Map<string, IColorData>();\n\n\tprivate readonly _colorDecoratorIds: IEditorDecorationsCollection;\n\n\tprivate _isColorDecoratorsEnabled: boolean;\n\tprivate _defaultColorDecoratorsEnablement: 'auto' | 'always' | 'never';\n\n\tprivate readonly _ruleFactory: DynamicCssRules;\n\n\tprivate readonly _decoratorLimitReporter = this._register(new DecoratorLimitReporter());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageFeatureDebounceService languageFeatureDebounceService: ILanguageFeatureDebounceService,\n\t) {\n\t\tsuper();\n\t\tthis._colorDecoratorIds = this._editor.createDecorationsCollection();\n\t\tthis._ruleFactory = this._register(new DynamicCssRules(this._editor));\n\t\tthis._debounceInformation = languageFeatureDebounceService.for(_languageFeaturesService.colorProvider, 'Document Colors', { min: ColorDetector.RECOMPUTE_TIME });\n\t\tthis._register(_editor.onDidChangeModel(() => {\n\t\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\t\tthis.updateColors();\n\t\t}));\n\t\tthis._register(_editor.onDidChangeModelLanguage(() => this.updateColors()));\n\t\tthis._register(_languageFeaturesService.colorProvider.onDidChange(() => this.updateColors()));\n\t\tthis._register(_editor.onDidChangeConfiguration((e) => {\n\t\t\tconst prevIsEnabled = this._isColorDecoratorsEnabled;\n\t\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\t\tthis._defaultColorDecoratorsEnablement = this._editor.getOption(EditorOption.defaultColorDecorators);\n\t\t\tconst updatedColorDecoratorsSetting = prevIsEnabled !== this._isColorDecoratorsEnabled || e.hasChanged(EditorOption.colorDecoratorsLimit);\n\t\t\tconst updatedDefaultColorDecoratorsSetting = e.hasChanged(EditorOption.defaultColorDecorators);\n\t\t\tif (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n\t\t\t\tif (this._isColorDecoratorsEnabled) {\n\t\t\t\t\tthis.updateColors();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.removeAllDecorations();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._timeoutTimer = null;\n\t\tthis._computePromise = null;\n\t\tthis._isColorDecoratorsEnabled = this.isEnabled();\n\t\tthis._defaultColorDecoratorsEnablement = this._editor.getOption(EditorOption.defaultColorDecorators);\n\t\tthis.updateColors();\n\t}\n\n\tisEnabled(): boolean {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn false;\n\t\t}\n\t\tconst languageId = model.getLanguageId();\n\t\t// handle deprecated settings. [languageId].colorDecorators.enable\n\t\tconst deprecatedConfig = this._configurationService.getValue(languageId);\n\t\tif (deprecatedConfig && typeof deprecatedConfig === 'object') {\n\t\t\tconst colorDecorators = (deprecatedConfig as any)['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n\t\t\tif (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n\t\t\t\treturn colorDecorators['enable'];\n\t\t\t}\n\t\t}\n\n\t\treturn this._editor.getOption(EditorOption.colorDecorators);\n\t}\n\n\tstatic get(editor: ICodeEditor): ColorDetector | null {\n\t\treturn editor.getContribution<ColorDetector>(this.ID);\n\t}\n\n\toverride dispose(): void {\n\t\tthis.stop();\n\t\tthis.removeAllDecorations();\n\t\tsuper.dispose();\n\t}\n\n\tprivate updateColors(): void {\n\t\tthis.stop();\n\n\t\tif (!this._isColorDecoratorsEnabled) {\n\t\t\treturn;\n\t\t}\n\t\tconst model = this._editor.getModel();\n\n\t\tif (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n\t\t\tif (!this._timeoutTimer) {\n\t\t\t\tthis._timeoutTimer = new TimeoutTimer();\n\t\t\t\tthis._timeoutTimer.cancelAndSet(() => {\n\t\t\t\t\tthis._timeoutTimer = null;\n\t\t\t\t\tthis.beginCompute();\n\t\t\t\t}, this._debounceInformation.get(model));\n\t\t\t}\n\t\t}));\n\t\tthis.beginCompute();\n\t}\n\n\tprivate async beginCompute(): Promise<void> {\n\t\tthis._computePromise = createCancelablePromise(async token => {\n\t\t\tconst model = this._editor.getModel();\n\t\t\tif (!model) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst sw = new StopWatch(false);\n\t\t\tconst colors = await getColors(this._languageFeaturesService.colorProvider, model, token, this._defaultColorDecoratorsEnablement);\n\t\t\tthis._debounceInformation.update(model, sw.elapsed());\n\t\t\treturn colors;\n\t\t});\n\t\ttry {\n\t\t\tconst colors = await this._computePromise;\n\t\t\tthis.updateDecorations(colors);\n\t\t\tthis.updateColorDecorators(colors);\n\t\t\tthis._computePromise = null;\n\t\t} catch (e) {\n\t\t\tonUnexpectedError(e);\n\t\t}\n\t}\n\n\tprivate stop(): void {\n\t\tif (this._timeoutTimer) {\n\t\t\tthis._timeoutTimer.cancel();\n\t\t\tthis._timeoutTimer = null;\n\t\t}\n\t\tif (this._computePromise) {\n\t\t\tthis._computePromise.cancel();\n\t\t\tthis._computePromise = null;\n\t\t}\n\t\tthis._localToDispose.clear();\n\t}\n\n\tprivate updateDecorations(colorDatas: IColorData[]): void {\n\t\tconst decorations = colorDatas.map(c => ({\n\t\t\trange: {\n\t\t\t\tstartLineNumber: c.colorInfo.range.startLineNumber,\n\t\t\t\tstartColumn: c.colorInfo.range.startColumn,\n\t\t\t\tendLineNumber: c.colorInfo.range.endLineNumber,\n\t\t\t\tendColumn: c.colorInfo.range.endColumn\n\t\t\t},\n\t\t\toptions: ModelDecorationOptions.EMPTY\n\t\t}));\n\n\t\tthis._editor.changeDecorations((changeAccessor) => {\n\t\t\tthis._decorationsIds = changeAccessor.deltaDecorations(this._decorationsIds, decorations);\n\n\t\t\tthis._colorDatas = new Map<string, IColorData>();\n\t\t\tthis._decorationsIds.forEach((id, i) => this._colorDatas.set(id, colorDatas[i]));\n\t\t});\n\t}\n\n\tprivate readonly _colorDecorationClassRefs = this._register(new DisposableStore());\n\n\tprivate updateColorDecorators(colorData: IColorData[]): void {\n\t\tthis._colorDecorationClassRefs.clear();\n\n\t\tconst decorations: IModelDeltaDecoration[] = [];\n\n\t\tconst limit = this._editor.getOption(EditorOption.colorDecoratorsLimit);\n\n\t\tfor (let i = 0; i < colorData.length && decorations.length < limit; i++) {\n\t\t\tconst { red, green, blue, alpha } = colorData[i].colorInfo.color;\n\t\t\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\t\t\tconst color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n\n\t\t\tconst ref = this._colorDecorationClassRefs.add(\n\t\t\t\tthis._ruleFactory.createClassNameRef({\n\t\t\t\t\tbackgroundColor: color\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tdecorations.push({\n\t\t\t\trange: {\n\t\t\t\t\tstartLineNumber: colorData[i].colorInfo.range.startLineNumber,\n\t\t\t\t\tstartColumn: colorData[i].colorInfo.range.startColumn,\n\t\t\t\t\tendLineNumber: colorData[i].colorInfo.range.endLineNumber,\n\t\t\t\t\tendColumn: colorData[i].colorInfo.range.endColumn\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tdescription: 'colorDetector',\n\t\t\t\t\tbefore: {\n\t\t\t\t\t\tcontent: noBreakWhitespace,\n\t\t\t\t\t\tinlineClassName: `${ref.className} colorpicker-color-decoration`,\n\t\t\t\t\t\tinlineClassNameAffectsLetterSpacing: true,\n\t\t\t\t\t\tattachedData: ColorDecorationInjectedTextMarker\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tconst limited = limit < colorData.length ? limit : false;\n\t\tthis._decoratorLimitReporter.update(colorData.length, limited);\n\n\t\tthis._colorDecoratorIds.set(decorations);\n\t}\n\n\tprivate removeAllDecorations(): void {\n\t\tthis._editor.removeDecorations(this._decorationsIds);\n\t\tthis._decorationsIds = [];\n\t\tthis._colorDecoratorIds.clear();\n\t\tthis._colorDecorationClassRefs.clear();\n\t}\n\n\tgetColorData(position: Position): IColorData | null {\n\t\tconst model = this._editor.getModel();\n\t\tif (!model) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst decorations = model\n\t\t\t.getDecorationsInRange(Range.fromPositions(position, position))\n\t\t\t.filter(d => this._colorDatas.has(d.id));\n\n\t\tif (decorations.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this._colorDatas.get(decorations[0].id)!;\n\t}\n\n\tisColorDecoration(decoration: IModelDecoration): boolean {\n\t\treturn this._colorDecoratorIds.has(decoration);\n\t}\n}\n\nexport class DecoratorLimitReporter extends Disposable {\n\tprivate _onDidChange = this._register(new Emitter<void>());\n\n\tprivate _computed: number = 0;\n\tprivate _limited: number | false = false;\n\tpublic update(computed: number, limited: number | false) {\n\t\tif (computed !== this._computed || limited !== this._limited) {\n\t\t\tthis._computed = computed;\n\t\t\tthis._limited = limited;\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerSaturationBox.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerSaturationBox.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerSaturationBox.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { GlobalPointerMoveMonitor } from '../../../../../base/browser/globalPointerMoveMonitor.js';\nimport { Color, HSVA } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\n\nconst $ = dom.$;\n\nexport class SaturationBox extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly selection: HTMLElement;\n\tprivate readonly _canvas: HTMLCanvasElement;\n\tprivate width!: number;\n\tprivate height!: number;\n\n\tprivate monitor: GlobalPointerMoveMonitor | null;\n\tprivate readonly _onDidChange = new Emitter<{ s: number; v: number }>();\n\treadonly onDidChange: Event<{ s: number; v: number }> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.saturation-wrap');\n\t\tdom.append(container, this._domNode);\n\n\t\t// Create canvas, draw selected color\n\t\tthis._canvas = document.createElement('canvas');\n\t\tthis._canvas.className = 'saturation-box';\n\t\tdom.append(this._domNode, this._canvas);\n\n\t\t// Add selection circle\n\t\tthis.selection = $('.saturation-selection');\n\t\tdom.append(this._domNode, this.selection);\n\n\t\tthis.layout();\n\n\t\tthis._register(dom.addDisposableListener(this._domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(this.model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.monitor = null;\n\t}\n\n\tpublic get domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this._domNode);\n\n\t\tif (e.target !== this.selection) {\n\t\t\tthis.onDidChangePosition(e.offsetX, e.offsetY);\n\t\t}\n\n\t\tthis.monitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangePosition(event.pageX - origin.left, event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tif (this.monitor) {\n\t\t\t\tthis.monitor.stopMonitoring(true);\n\t\t\t\tthis.monitor = null;\n\t\t\t}\n\t\t}, true);\n\t}\n\n\tprivate onDidChangePosition(left: number, top: number): void {\n\t\tconst s = Math.max(0, Math.min(1, left / this.width));\n\t\tconst v = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.paintSelection(s, v);\n\t\tthis._onDidChange.fire({ s, v });\n\t}\n\n\tlayout(): void {\n\t\tthis.width = this._domNode.offsetWidth;\n\t\tthis.height = this._domNode.offsetHeight;\n\t\tthis._canvas.width = this.width * this.pixelRatio;\n\t\tthis._canvas.height = this.height * this.pixelRatio;\n\t\tthis.paint();\n\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n\n\tprivate paint(): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n\t\tconst ctx = this._canvas.getContext('2d')!;\n\n\t\tconst whiteGradient = ctx.createLinearGradient(0, 0, this._canvas.width, 0);\n\t\twhiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n\t\twhiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n\t\twhiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n\n\t\tconst blackGradient = ctx.createLinearGradient(0, 0, 0, this._canvas.height);\n\t\tblackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n\t\tblackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n\n\t\tctx.rect(0, 0, this._canvas.width, this._canvas.height);\n\t\tctx.fillStyle = Color.Format.CSS.format(saturatedColor)!;\n\t\tctx.fill();\n\t\tctx.fillStyle = whiteGradient;\n\t\tctx.fill();\n\t\tctx.fillStyle = blackGradient;\n\t\tctx.fill();\n\t}\n\n\tprivate paintSelection(s: number, v: number): void {\n\t\tthis.selection.style.left = `${s * this.width}px`;\n\t\tthis.selection.style.top = `${this.height - v * this.height}px`;\n\t}\n\n\tprivate onDidChangeColor(color: Color): void {\n\t\tif (this.monitor && this.monitor.isMonitoring()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.paint();\n\t\tconst hsva = color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { GlobalPointerMoveMonitor } from '../../../../../base/browser/globalPointerMoveMonitor.js';\nimport { Color, HSVA } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\n\nconst $ = dom.$;\n\nexport class SaturationBox extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly selection: HTMLElement;\n\tprivate readonly _canvas: HTMLCanvasElement;\n\tprivate width!: number;\n\tprivate height!: number;\n\n\tprivate monitor: GlobalPointerMoveMonitor | null;\n\tprivate readonly _onDidChange = new Emitter<{ s: number; v: number }>();\n\treadonly onDidChange: Event<{ s: number; v: number }> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.saturation-wrap');\n\t\tdom.append(container, this._domNode);\n\n\t\t// Create canvas, draw selected color\n\t\tthis._canvas = document.createElement('canvas');\n\t\tthis._canvas.className = 'saturation-box';\n\t\tdom.append(this._domNode, this._canvas);\n\n\t\t// Add selection circle\n\t\tthis.selection = $('.saturation-selection');\n\t\tdom.append(this._domNode, this.selection);\n\n\t\tthis.layout();\n\n\t\tthis._register(dom.addDisposableListener(this._domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(this.model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.monitor = null;\n\t}\n\n\tpublic get domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this._domNode);\n\n\t\tif (e.target !== this.selection) {\n\t\t\tthis.onDidChangePosition(e.offsetX, e.offsetY);\n\t\t}\n\n\t\tthis.monitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangePosition(event.pageX - origin.left, event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tif (this.monitor) {\n\t\t\t\tthis.monitor.stopMonitoring(true);\n\t\t\t\tthis.monitor = null;\n\t\t\t}\n\t\t}, true);\n\t}\n\n\tprivate onDidChangePosition(left: number, top: number): void {\n\t\tconst s = Math.max(0, Math.min(1, left / this.width));\n\t\tconst v = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.paintSelection(s, v);\n\t\tthis._onDidChange.fire({ s, v });\n\t}\n\n\tlayout(): void {\n\t\tthis.width = this._domNode.offsetWidth;\n\t\tthis.height = this._domNode.offsetHeight;\n\t\tthis._canvas.width = this.width * this.pixelRatio;\n\t\tthis._canvas.height = this.height * this.pixelRatio;\n\t\tthis.paint();\n\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n\n\tprivate paint(): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst saturatedColor = new Color(new HSVA(hsva.h, 1, 1, 1));\n\t\tconst ctx = this._canvas.getContext('2d')!;\n\n\t\tconst whiteGradient = ctx.createLinearGradient(0, 0, this._canvas.width, 0);\n\t\twhiteGradient.addColorStop(0, 'rgba(255, 255, 255, 1)');\n\t\twhiteGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.5)');\n\t\twhiteGradient.addColorStop(1, 'rgba(255, 255, 255, 0)');\n\n\t\tconst blackGradient = ctx.createLinearGradient(0, 0, 0, this._canvas.height);\n\t\tblackGradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n\t\tblackGradient.addColorStop(1, 'rgba(0, 0, 0, 1)');\n\n\t\tctx.rect(0, 0, this._canvas.width, this._canvas.height);\n\t\tctx.fillStyle = Color.Format.CSS.format(saturatedColor)!;\n\t\tctx.fill();\n\t\tctx.fillStyle = whiteGradient;\n\t\tctx.fill();\n\t\tctx.fillStyle = blackGradient;\n\t\tctx.fill();\n\t}\n\n\tprivate paintSelection(s: number, v: number): void {\n\t\tthis.selection.style.left = `${s * this.width}px`;\n\t\tthis.selection.style.top = `${this.height - v * this.height}px`;\n\t}\n\n\tprivate onDidChangeColor(color: Color): void {\n\t\tif (this.monitor && this.monitor.isMonitoring()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.paint();\n\t\tconst hsva = color.hsva;\n\t\tthis.paintSelection(hsva.s, hsva.v);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerInsertButton.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerInsertButton.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerInsertButton.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\n\nexport class InsertButton extends Disposable {\n\n\tprivate _button: HTMLElement;\n\tprivate readonly _onClicked = this._register(new Emitter<void>());\n\tpublic readonly onClicked = this._onClicked.event;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tthis._button = dom.append(container, document.createElement('button'));\n\t\tthis._button.classList.add('insert-button');\n\t\tthis._button.textContent = 'Insert';\n\t\tthis._register(dom.addDisposableListener(this._button, dom.EventType.CLICK, () => {\n\t\t\tthis._onClicked.fire();\n\t\t}));\n\t}\n\n\tpublic get button(): HTMLElement {\n\t\treturn this._button;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\n\nexport class InsertButton extends Disposable {\n\n\tprivate _button: HTMLElement;\n\tprivate readonly _onClicked = this._register(new Emitter<void>());\n\tpublic readonly onClicked = this._onClicked.event;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tthis._button = dom.append(container, document.createElement('button'));\n\t\tthis._button.classList.add('insert-button');\n\t\tthis._button.textContent = 'Insert';\n\t\tthis._register(dom.addDisposableListener(this._button, dom.EventType.CLICK, () => {\n\t\t\tthis._onClicked.fire();\n\t\t}));\n\t}\n\n\tpublic get button(): HTMLElement {\n\t\treturn this._button;\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAEhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAC1D,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAC9D,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;;;;;AAE/D,MAAO,YAAa,SAAQ,0LAAU;IAM3C,YAAY,SAAsB,CAAA;QACjC,KAAK,EAAE,CAAC;QAJQ,IAAA,CAAA,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,mLAAO,EAAQ,CAAC,CAAC;QAClD,IAAA,CAAA,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QAIjD,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,6KAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,4LAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,gLAAS,CAAC,KAAK,EAAE,GAAG,EAAE;YAChF,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAW,MAAM,GAAA;QAChB,OAAO,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;CACD","debugId":null}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerStrip.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerStrip.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerStrip.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { GlobalPointerMoveMonitor } from '../../../../../base/browser/globalPointerMoveMonitor.js';\nimport { Color, RGBA } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { ColorPickerWidgetType } from '../colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport abstract class Strip extends Disposable {\n\n\tprotected domNode: HTMLElement;\n\tprotected overlay: HTMLElement;\n\tprotected slider: HTMLElement;\n\tprivate height!: number;\n\n\tprivate readonly _onDidChange = new Emitter<number>();\n\treadonly onDidChange: Event<number> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, protected model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper();\n\t\tif (type === ColorPickerWidgetType.Standalone) {\n\t\t\tthis.domNode = dom.append(container, $('.standalone-strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.standalone-overlay'));\n\t\t} else {\n\t\t\tthis.domNode = dom.append(container, $('.strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.overlay'));\n\t\t}\n\t\tthis.slider = dom.append(this.domNode, $('.slider'));\n\t\tthis.slider.style.top = `0px`;\n\n\t\tthis._register(dom.addDisposableListener(this.domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.layout();\n\t}\n\n\tlayout(): void {\n\t\tthis.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n\n\t\tconst value = this.getValue(this.model.color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprotected onDidChangeColor(color: Color) {\n\t\tconst value = this.getValue(color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tconst monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this.domNode);\n\t\tthis.domNode.classList.add('grabbing');\n\n\t\tif (e.target !== this.slider) {\n\t\t\tthis.onDidChangeTop(e.offsetY);\n\t\t}\n\n\t\tmonitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangeTop(event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tmonitor.stopMonitoring(true);\n\t\t\tthis.domNode.classList.remove('grabbing');\n\t\t}, true);\n\t}\n\n\tprivate onDidChangeTop(top: number): void {\n\t\tconst value = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.updateSliderPosition(value);\n\t\tthis._onDidChange.fire(value);\n\t}\n\n\tprivate updateSliderPosition(value: number): void {\n\t\tthis.slider.style.top = `${(1 - value) * this.height}px`;\n\t}\n\n\tprotected abstract getValue(color: Color): number;\n}\n\nexport class OpacityStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper(container, model, type);\n\t\tthis.domNode.classList.add('opacity-strip');\n\n\t\tthis.onDidChangeColor(this.model.color);\n\t}\n\n\tprotected override onDidChangeColor(color: Color): void {\n\t\tsuper.onDidChangeColor(color);\n\t\tconst { r, g, b } = color.rgba;\n\t\tconst opaque = new Color(new RGBA(r, g, b, 1));\n\t\tconst transparent = new Color(new RGBA(r, g, b, 0));\n\n\t\tthis.overlay.style.background = `linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`;\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn color.hsva.a;\n\t}\n}\n\nexport class HueStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper(container, model, type);\n\t\tthis.domNode.classList.add('hue-strip');\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn 1 - (color.hsva.h / 360);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { GlobalPointerMoveMonitor } from '../../../../../base/browser/globalPointerMoveMonitor.js';\nimport { Color, RGBA } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { ColorPickerWidgetType } from '../colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport abstract class Strip extends Disposable {\n\n\tprotected domNode: HTMLElement;\n\tprotected overlay: HTMLElement;\n\tprotected slider: HTMLElement;\n\tprivate height!: number;\n\n\tprivate readonly _onDidChange = new Emitter<number>();\n\treadonly onDidChange: Event<number> = this._onDidChange.event;\n\n\tprivate readonly _onColorFlushed = new Emitter<void>();\n\treadonly onColorFlushed: Event<void> = this._onColorFlushed.event;\n\n\tconstructor(container: HTMLElement, protected model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper();\n\t\tif (type === ColorPickerWidgetType.Standalone) {\n\t\t\tthis.domNode = dom.append(container, $('.standalone-strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.standalone-overlay'));\n\t\t} else {\n\t\t\tthis.domNode = dom.append(container, $('.strip'));\n\t\t\tthis.overlay = dom.append(this.domNode, $('.overlay'));\n\t\t}\n\t\tthis.slider = dom.append(this.domNode, $('.slider'));\n\t\tthis.slider.style.top = `0px`;\n\n\t\tthis._register(dom.addDisposableListener(this.domNode, dom.EventType.POINTER_DOWN, e => this.onPointerDown(e)));\n\t\tthis._register(model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis.layout();\n\t}\n\n\tlayout(): void {\n\t\tthis.height = this.domNode.offsetHeight - this.slider.offsetHeight;\n\n\t\tconst value = this.getValue(this.model.color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprotected onDidChangeColor(color: Color) {\n\t\tconst value = this.getValue(color);\n\t\tthis.updateSliderPosition(value);\n\t}\n\n\tprivate onPointerDown(e: PointerEvent): void {\n\t\tif (!e.target || !(e.target instanceof Element)) {\n\t\t\treturn;\n\t\t}\n\t\tconst monitor = this._register(new GlobalPointerMoveMonitor());\n\t\tconst origin = dom.getDomNodePagePosition(this.domNode);\n\t\tthis.domNode.classList.add('grabbing');\n\n\t\tif (e.target !== this.slider) {\n\t\t\tthis.onDidChangeTop(e.offsetY);\n\t\t}\n\n\t\tmonitor.startMonitoring(e.target, e.pointerId, e.buttons, event => this.onDidChangeTop(event.pageY - origin.top), () => null);\n\n\t\tconst pointerUpListener = dom.addDisposableListener(e.target.ownerDocument, dom.EventType.POINTER_UP, () => {\n\t\t\tthis._onColorFlushed.fire();\n\t\t\tpointerUpListener.dispose();\n\t\t\tmonitor.stopMonitoring(true);\n\t\t\tthis.domNode.classList.remove('grabbing');\n\t\t}, true);\n\t}\n\n\tprivate onDidChangeTop(top: number): void {\n\t\tconst value = Math.max(0, Math.min(1, 1 - (top / this.height)));\n\n\t\tthis.updateSliderPosition(value);\n\t\tthis._onDidChange.fire(value);\n\t}\n\n\tprivate updateSliderPosition(value: number): void {\n\t\tthis.slider.style.top = `${(1 - value) * this.height}px`;\n\t}\n\n\tprotected abstract getValue(color: Color): number;\n}\n\nexport class OpacityStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper(container, model, type);\n\t\tthis.domNode.classList.add('opacity-strip');\n\n\t\tthis.onDidChangeColor(this.model.color);\n\t}\n\n\tprotected override onDidChangeColor(color: Color): void {\n\t\tsuper.onDidChangeColor(color);\n\t\tconst { r, g, b } = color.rgba;\n\t\tconst opaque = new Color(new RGBA(r, g, b, 1));\n\t\tconst transparent = new Color(new RGBA(r, g, b, 0));\n\n\t\tthis.overlay.style.background = `linear-gradient(to bottom, ${opaque} 0%, ${transparent} 100%)`;\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn color.hsva.a;\n\t}\n}\n\nexport class HueStrip extends Strip {\n\n\tconstructor(container: HTMLElement, model: ColorPickerModel, type: ColorPickerWidgetType) {\n\t\tsuper(container, model, type);\n\t\tthis.domNode.classList.add('hue-strip');\n\t}\n\n\tprotected getValue(color: Color): number {\n\t\treturn 1 - (color.hsva.h / 360);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerBody.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerBody.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerBody.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Color, HSVA } from '../../../../../base/common/color.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { SaturationBox } from './colorPickerSaturationBox.js';\nimport { InsertButton } from './colorPickerInsertButton.js';\nimport { HueStrip, OpacityStrip, Strip } from './colorPickerStrip.js';\nimport { ColorPickerWidgetType } from '../colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport class ColorPickerBody extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _saturationBox: SaturationBox;\n\tprivate readonly _hueStrip: Strip;\n\tprivate readonly _opacityStrip: Strip;\n\tprivate readonly _insertButton: InsertButton | null = null;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number, type: ColorPickerWidgetType) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.colorpicker-body');\n\t\tdom.append(container, this._domNode);\n\n\t\tthis._saturationBox = new SaturationBox(this._domNode, this.model, this.pixelRatio);\n\t\tthis._register(this._saturationBox);\n\t\tthis._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange, this));\n\t\tthis._register(this._saturationBox.onColorFlushed(this.flushColor, this));\n\n\t\tthis._opacityStrip = new OpacityStrip(this._domNode, this.model, type);\n\t\tthis._register(this._opacityStrip);\n\t\tthis._register(this._opacityStrip.onDidChange(this.onDidOpacityChange, this));\n\t\tthis._register(this._opacityStrip.onColorFlushed(this.flushColor, this));\n\n\t\tthis._hueStrip = new HueStrip(this._domNode, this.model, type);\n\t\tthis._register(this._hueStrip);\n\t\tthis._register(this._hueStrip.onDidChange(this.onDidHueChange, this));\n\t\tthis._register(this._hueStrip.onColorFlushed(this.flushColor, this));\n\n\t\tif (type === ColorPickerWidgetType.Standalone) {\n\t\t\tthis._insertButton = this._register(new InsertButton(this._domNode));\n\t\t\tthis._domNode.classList.add('standalone-colorpicker');\n\t\t}\n\t}\n\n\tprivate flushColor(): void {\n\t\tthis.model.flushColor();\n\t}\n\n\tprivate onDidSaturationValueChange({ s, v }: { s: number; v: number }): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n\t}\n\n\tprivate onDidOpacityChange(a: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n\t}\n\n\tprivate onDidHueChange(value: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst h = (1 - value) * 360;\n\n\t\tthis.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n\t}\n\n\tget domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tget saturationBox() {\n\t\treturn this._saturationBox;\n\t}\n\n\tget enterButton() {\n\t\treturn this._insertButton;\n\t}\n\n\tlayout(): void {\n\t\tthis._saturationBox.layout();\n\t\tthis._opacityStrip.layout();\n\t\tthis._hueStrip.layout();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Color, HSVA } from '../../../../../base/common/color.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { SaturationBox } from './colorPickerSaturationBox.js';\nimport { InsertButton } from './colorPickerInsertButton.js';\nimport { HueStrip, OpacityStrip, Strip } from './colorPickerStrip.js';\nimport { ColorPickerWidgetType } from '../colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport class ColorPickerBody extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _saturationBox: SaturationBox;\n\tprivate readonly _hueStrip: Strip;\n\tprivate readonly _opacityStrip: Strip;\n\tprivate readonly _insertButton: InsertButton | null = null;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, private pixelRatio: number, type: ColorPickerWidgetType) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.colorpicker-body');\n\t\tdom.append(container, this._domNode);\n\n\t\tthis._saturationBox = new SaturationBox(this._domNode, this.model, this.pixelRatio);\n\t\tthis._register(this._saturationBox);\n\t\tthis._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange, this));\n\t\tthis._register(this._saturationBox.onColorFlushed(this.flushColor, this));\n\n\t\tthis._opacityStrip = new OpacityStrip(this._domNode, this.model, type);\n\t\tthis._register(this._opacityStrip);\n\t\tthis._register(this._opacityStrip.onDidChange(this.onDidOpacityChange, this));\n\t\tthis._register(this._opacityStrip.onColorFlushed(this.flushColor, this));\n\n\t\tthis._hueStrip = new HueStrip(this._domNode, this.model, type);\n\t\tthis._register(this._hueStrip);\n\t\tthis._register(this._hueStrip.onDidChange(this.onDidHueChange, this));\n\t\tthis._register(this._hueStrip.onColorFlushed(this.flushColor, this));\n\n\t\tif (type === ColorPickerWidgetType.Standalone) {\n\t\t\tthis._insertButton = this._register(new InsertButton(this._domNode));\n\t\t\tthis._domNode.classList.add('standalone-colorpicker');\n\t\t}\n\t}\n\n\tprivate flushColor(): void {\n\t\tthis.model.flushColor();\n\t}\n\n\tprivate onDidSaturationValueChange({ s, v }: { s: number; v: number }): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, s, v, hsva.a));\n\t}\n\n\tprivate onDidOpacityChange(a: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tthis.model.color = new Color(new HSVA(hsva.h, hsva.s, hsva.v, a));\n\t}\n\n\tprivate onDidHueChange(value: number): void {\n\t\tconst hsva = this.model.color.hsva;\n\t\tconst h = (1 - value) * 360;\n\n\t\tthis.model.color = new Color(new HSVA(h === 360 ? 0 : h, hsva.s, hsva.v, hsva.a));\n\t}\n\n\tget domNode() {\n\t\treturn this._domNode;\n\t}\n\n\tget saturationBox() {\n\t\treturn this._saturationBox;\n\t}\n\n\tget enterButton() {\n\t\treturn this._insertButton;\n\t}\n\n\tlayout(): void {\n\t\tthis._saturationBox.layout();\n\t\tthis._opacityStrip.layout();\n\t\tthis._hueStrip.layout();\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 837, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerCloseButton.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerCloseButton.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { registerIcon } from '../../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\n\nconst $ = dom.$;\n\nexport class CloseButton extends Disposable {\n\n\tprivate _button: HTMLElement;\n\tprivate readonly _onClicked = this._register(new Emitter<void>());\n\tpublic readonly onClicked = this._onClicked.event;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tthis._button = document.createElement('div');\n\t\tthis._button.classList.add('close-button');\n\t\tdom.append(container, this._button);\n\n\t\tconst innerDiv = document.createElement('div');\n\t\tinnerDiv.classList.add('close-button-inner-div');\n\t\tdom.append(this._button, innerDiv);\n\n\t\tconst closeButton = dom.append(innerDiv, $('.button' + ThemeIcon.asCSSSelector(registerIcon('color-picker-close', Codicon.close, localize('closeIcon', 'Icon to close the color picker')))));\n\t\tcloseButton.classList.add('close-icon');\n\t\tthis._register(dom.addDisposableListener(this._button, dom.EventType.CLICK, () => {\n\t\t\tthis._onClicked.fire();\n\t\t}));\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAEhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAC1D,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AACrE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAC9D,OAAO,EAAE,YAAY,EAAE,MAAM,sDAAsD,CAAC;AACpF,OAAO,EAAE,SAAS,EAAE,MAAM,yCAAyC,CAAC;AACpE,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAC;;;;;;;;;AAEjE,MAAM,CAAC,GAAG,GAAG,CAAC,wKAAC,CAAC;AAEV,MAAO,WAAY,SAAQ,0LAAU;IAM1C,YAAY,SAAsB,CAAA;QACjC,KAAK,EAAE,CAAC;QAJQ,IAAA,CAAA,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,mLAAO,EAAQ,CAAC,CAAC;QAClD,IAAA,CAAA,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QAIjD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC3C,GAAG,CAAC,6KAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpC,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACjD,GAAG,CAAC,6KAAM,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAEnC,MAAM,WAAW,GAAG,GAAG,CAAC,6KAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,GAAG,yLAAS,CAAC,aAAa,KAAC,4MAAY,EAAC,oBAAoB,EAAE,sLAAO,CAAC,KAAK,MAAE,gLAAQ,EAAC,GAAW,EAAE,gCAAgC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7L,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,4LAAqB,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,gLAAS,CAAC,KAAK,EAAE,GAAG,EAAE;YAChF,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;CACD","debugId":null}},
    {"offset": {"line": 882, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerHeader.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParts/vs/editor/contrib/colorPicker/browser/colorPickerParts/colorPickerHeader.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport '../colorPicker.css';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { localize } from '../../../../../nls.js';\nimport { editorHoverBackground } from '../../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { CloseButton } from './colorPickerCloseButton.js';\nimport { ColorPickerWidgetType } from '../colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport class ColorPickerHeader extends Disposable {\n\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _pickedColorNode: HTMLElement;\n\tprivate readonly _pickedColorPresentation: HTMLElement;\n\tprivate readonly _originalColorNode: HTMLElement;\n\tprivate readonly _closeButton: CloseButton | null = null;\n\tprivate backgroundColor: Color;\n\n\tconstructor(container: HTMLElement, private readonly model: ColorPickerModel, themeService: IThemeService, private type: ColorPickerWidgetType) {\n\t\tsuper();\n\n\t\tthis._domNode = $('.colorpicker-header');\n\t\tdom.append(container, this._domNode);\n\n\t\tthis._pickedColorNode = dom.append(this._domNode, $('.picked-color'));\n\t\tdom.append(this._pickedColorNode, $('span.codicon.codicon-color-mode'));\n\t\tthis._pickedColorPresentation = dom.append(this._pickedColorNode, document.createElement('span'));\n\t\tthis._pickedColorPresentation.classList.add('picked-color-presentation');\n\n\t\tconst tooltip = localize('clickToToggleColorOptions', \"Click to toggle color options (rgb/hsl/hex)\");\n\t\tthis._pickedColorNode.setAttribute('title', tooltip);\n\n\t\tthis._originalColorNode = dom.append(this._domNode, $('.original-color'));\n\t\tthis._originalColorNode.style.backgroundColor = Color.Format.CSS.format(this.model.originalColor) || '';\n\n\t\tthis.backgroundColor = themeService.getColorTheme().getColor(editorHoverBackground) || Color.white;\n\t\tthis._register(themeService.onDidColorThemeChange(theme => {\n\t\t\tthis.backgroundColor = theme.getColor(editorHoverBackground) || Color.white;\n\t\t}));\n\n\t\tthis._register(dom.addDisposableListener(this._pickedColorNode, dom.EventType.CLICK, () => this.model.selectNextColorPresentation()));\n\t\tthis._register(dom.addDisposableListener(this._originalColorNode, dom.EventType.CLICK, () => {\n\t\t\tthis.model.color = this.model.originalColor;\n\t\t\tthis.model.flushColor();\n\t\t}));\n\t\tthis._register(model.onDidChangeColor(this.onDidChangeColor, this));\n\t\tthis._register(model.onDidChangePresentation(this.onDidChangePresentation, this));\n\t\tthis._pickedColorNode.style.backgroundColor = Color.Format.CSS.format(model.color) || '';\n\t\tthis._pickedColorNode.classList.toggle('light', model.color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : model.color.isLighter());\n\n\t\tthis.onDidChangeColor(this.model.color);\n\n\t\t// When the color picker widget is a standalone color picker widget, then add a close button\n\t\tif (this.type === ColorPickerWidgetType.Standalone) {\n\t\t\tthis._domNode.classList.add('standalone-colorpicker');\n\t\t\tthis._closeButton = this._register(new CloseButton(this._domNode));\n\t\t}\n\t}\n\n\tpublic get closeButton(): CloseButton | null {\n\t\treturn this._closeButton;\n\t}\n\n\tpublic get pickedColorNode(): HTMLElement {\n\t\treturn this._pickedColorNode;\n\t}\n\n\tpublic get originalColorNode(): HTMLElement {\n\t\treturn this._originalColorNode;\n\t}\n\n\tprivate onDidChangeColor(color: Color): void {\n\t\tthis._pickedColorNode.style.backgroundColor = Color.Format.CSS.format(color) || '';\n\t\tthis._pickedColorNode.classList.toggle('light', color.rgba.a < 0.5 ? this.backgroundColor.isLighter() : color.isLighter());\n\t\tthis.onDidChangePresentation();\n\t}\n\n\tprivate onDidChangePresentation(): void {\n\t\tthis._pickedColorPresentation.textContent = this.model.presentation ? this.model.presentation.label : '';\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAGhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAC1D,OAAO,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AAC5D,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AAErE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;;AACjD,OAAO,EAAE,qBAAqB,EAAE,MAAM,uDAAuD,CAAC;AAE9F,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;;;;;;;;AAG1D,MAAM,CAAC,GAAG,GAAG,CAAC,wKAAC,CAAC;AAEV,MAAO,iBAAkB,SAAQ,0LAAU;IAShD,YAAY,SAAsB,EAAmB,KAAuB,EAAE,YAA2B,EAAU,IAA2B,CAAA;QAC7I,KAAK,EAAE,CAAC;QAD4C,IAAA,CAAA,KAAK,GAAL,KAAK,CAAkB;QAAuC,IAAA,CAAA,IAAI,GAAJ,IAAI,CAAuB;QAH7H,IAAA,CAAA,YAAY,GAAuB,IAAI,CAAC;QAMxD,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC;QACzC,GAAG,CAAC,6KAAM,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAErC,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,6KAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QACtE,GAAG,CAAC,6KAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,wBAAwB,GAAG,GAAG,CAAC,6KAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;QAClG,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QAEzE,MAAM,OAAO,OAAG,gLAAQ,EAAC,GAA2B,EAAE,6CAA6C,CAAC,CAAC;QACrG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAErD,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,6KAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,eAAe,GAAG,iLAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAExG,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC,+NAAqB,CAAC,IAAI,iLAAK,CAAC,KAAK,CAAC;QACnG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,qBAAqB,EAAC,KAAK,CAAC,EAAE;YACzD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,QAAQ,CAAC,+NAAqB,CAAC,IAAI,iLAAK,CAAC,KAAK,CAAC;QAC7E,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,4LAAqB,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,CAAC,gLAAS,CAAC,KAAK,EAAE,GAAG,CAAG,CAAD,GAAK,CAAC,KAAK,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;QACtI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,4LAAqB,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,CAAC,gLAAS,CAAC,KAAK,EAAE,GAAG,EAAE;YAC3F,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;YAC5C,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,uBAAuB,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,eAAe,GAAG,iLAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACzF,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;QAEvI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAExC,4FAA4F;QAC5F,IAAI,IAAI,CAAC,IAAI,KAAA,aAAA,oCAAA,EAAqC,GAAE,CAAC;YACpD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACtD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,yPAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QACpE,CAAC;IACF,CAAC;IAED,IAAW,WAAW,GAAA;QACrB,OAAO,IAAI,CAAC,YAAY,CAAC;IAC1B,CAAC;IAED,IAAW,eAAe,GAAA;QACzB,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC9B,CAAC;IAED,IAAW,iBAAiB,GAAA;QAC3B,OAAO,IAAI,CAAC,kBAAkB,CAAC;IAChC,CAAC;IAEO,gBAAgB,CAAC,KAAY,EAAA;QACpC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,eAAe,GAAG,iLAAK,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACnF,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;QAC3H,IAAI,CAAC,uBAAuB,EAAE,CAAC;IAChC,CAAC;IAEO,uBAAuB,GAAA;QAC9B,IAAI,CAAC,wBAAwB,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1G,CAAC;CACD","debugId":null}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerWidget.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerWidget.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/colorPickerWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './colorPicker.css';\nimport { PixelRatio } from '../../../../base/browser/pixelRatio.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { IEditorHoverColorPickerWidget } from '../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ColorPickerBody } from './colorPickerParts/colorPickerBody.js';\nimport { ColorPickerHeader } from './colorPickerParts/colorPickerHeader.js';\nimport { ColorPickerWidgetType } from './colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport class ColorPickerWidget extends Widget implements IEditorHoverColorPickerWidget {\n\tprivate readonly _domNode: HTMLElement;\n\n\tbody: ColorPickerBody;\n\theader: ColorPickerHeader;\n\n\tconstructor(container: Node, readonly model: ColorPickerModel, private pixelRatio: number, themeService: IThemeService, type: ColorPickerWidgetType) {\n\t\tsuper();\n\n\t\tthis._register(PixelRatio.getInstance(dom.getWindow(container)).onDidChange(() => this.layout()));\n\n\t\tthis._domNode = $('.colorpicker-widget');\n\t\tcontainer.appendChild(this._domNode);\n\n\t\tthis.header = this._register(new ColorPickerHeader(this._domNode, this.model, themeService, type));\n\t\tthis.body = this._register(new ColorPickerBody(this._domNode, this.model, this.pixelRatio, type));\n\t}\n\n\tlayout(): void {\n\t\tthis.body.layout();\n\t}\n\n\tget domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './colorPicker.css';\nimport { PixelRatio } from '../../../../base/browser/pixelRatio.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { IEditorHoverColorPickerWidget } from '../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ColorPickerBody } from './colorPickerParts/colorPickerBody.js';\nimport { ColorPickerHeader } from './colorPickerParts/colorPickerHeader.js';\nimport { ColorPickerWidgetType } from './colorPickerParticipantUtils.js';\n\nconst $ = dom.$;\n\nexport class ColorPickerWidget extends Widget implements IEditorHoverColorPickerWidget {\n\tprivate readonly _domNode: HTMLElement;\n\n\tbody: ColorPickerBody;\n\theader: ColorPickerHeader;\n\n\tconstructor(container: Node, readonly model: ColorPickerModel, private pixelRatio: number, themeService: IThemeService, type: ColorPickerWidgetType) {\n\t\tsuper();\n\n\t\tthis._register(PixelRatio.getInstance(dom.getWindow(container)).onDidChange(() => this.layout()));\n\n\t\tthis._domNode = $('.colorpicker-widget');\n\t\tcontainer.appendChild(this._domNode);\n\n\t\tthis.header = this._register(new ColorPickerHeader(this._domNode, this.model, themeService, type));\n\t\tthis.body = this._register(new ColorPickerBody(this._domNode, this.model, this.pixelRatio, type));\n\t}\n\n\tlayout(): void {\n\t\tthis.body.layout();\n\t}\n\n\tget domNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAGhG,OAAO,EAAE,UAAU,EAAE,MAAM,wCAAwC,CAAC;AACpE,OAAO,KAAK,GAAG,MAAM,iCAAiC,CAAC;AACvD,OAAO,EAAE,MAAM,EAAE,MAAM,uCAAuC,CAAC;AAI/D,OAAO,EAAE,eAAe,EAAE,MAAM,uCAAuC,CAAC;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;;;;;;;AAG5E,MAAM,CAAC,GAAG,GAAG,CAAC,wKAAC,CAAC;AAEV,MAAO,iBAAkB,SAAQ,0LAAM;IAM5C,YAAY,SAAe,EAAW,KAAuB,EAAU,UAAkB,EAAE,YAA2B,EAAE,IAA2B,CAAA;QAClJ,KAAK,EAAE,CAAC;QAD6B,IAAA,CAAA,KAAK,GAAL,KAAK,CAAkB;QAAU,IAAA,CAAA,UAAU,GAAV,UAAU,CAAQ;QAGxF,IAAI,CAAC,SAAS,CAAC,4LAAU,CAAC,WAAW,CAAC,GAAG,CAAC,gLAAS,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAG,CAAD,GAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAElG,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC;QACzC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAErC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,0PAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,sPAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;IACnG,CAAC;IAED,MAAM,GAAA;QACL,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACpB,CAAC;IAED,IAAI,OAAO,GAAA;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;CACD","debugId":null}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerModel.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerModel.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/colorPickerModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IColorPresentation } from '../../../common/languages.js';\n\nexport class ColorPickerModel {\n\n\treadonly originalColor: Color;\n\tprivate _color: Color;\n\n\tget color(): Color {\n\t\treturn this._color;\n\t}\n\n\tset color(color: Color) {\n\t\tif (this._color.equals(color)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._color = color;\n\t\tthis._onDidChangeColor.fire(color);\n\t}\n\n\tget presentation(): IColorPresentation { return this.colorPresentations[this.presentationIndex]; }\n\n\tprivate _colorPresentations: IColorPresentation[];\n\n\tget colorPresentations(): IColorPresentation[] {\n\t\treturn this._colorPresentations;\n\t}\n\n\tset colorPresentations(colorPresentations: IColorPresentation[]) {\n\t\tthis._colorPresentations = colorPresentations;\n\t\tif (this.presentationIndex > colorPresentations.length - 1) {\n\t\t\tthis.presentationIndex = 0;\n\t\t}\n\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t}\n\n\tprivate readonly _onColorFlushed = new Emitter<Color>();\n\treadonly onColorFlushed: Event<Color> = this._onColorFlushed.event;\n\n\tprivate readonly _onDidChangeColor = new Emitter<Color>();\n\treadonly onDidChangeColor: Event<Color> = this._onDidChangeColor.event;\n\n\tprivate readonly _onDidChangePresentation = new Emitter<IColorPresentation>();\n\treadonly onDidChangePresentation: Event<IColorPresentation> = this._onDidChangePresentation.event;\n\n\tconstructor(color: Color, availableColorPresentations: IColorPresentation[], private presentationIndex: number) {\n\t\tthis.originalColor = color;\n\t\tthis._color = color;\n\t\tthis._colorPresentations = availableColorPresentations;\n\t}\n\n\tselectNextColorPresentation(): void {\n\t\tthis.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;\n\t\tthis.flushColor();\n\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t}\n\n\tguessColorPresentation(color: Color, originalText: string): void {\n\t\tlet presentationIndex = -1;\n\t\tfor (let i = 0; i < this.colorPresentations.length; i++) {\n\t\t\tif (originalText.toLowerCase() === this.colorPresentations[i].label) {\n\t\t\t\tpresentationIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (presentationIndex === -1) {\n\t\t\t// check which color presentation text has same prefix as original text's prefix\n\t\t\tconst originalTextPrefix = originalText.split('(')[0].toLowerCase();\n\t\t\tfor (let i = 0; i < this.colorPresentations.length; i++) {\n\t\t\t\tif (this.colorPresentations[i].label.toLowerCase().startsWith(originalTextPrefix)) {\n\t\t\t\t\tpresentationIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (presentationIndex !== -1 && presentationIndex !== this.presentationIndex) {\n\t\t\tthis.presentationIndex = presentationIndex;\n\t\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t\t}\n\t}\n\n\tflushColor(): void {\n\t\tthis._onColorFlushed.fire(this._color);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IColorPresentation } from '../../../common/languages.js';\n\nexport class ColorPickerModel {\n\n\treadonly originalColor: Color;\n\tprivate _color: Color;\n\n\tget color(): Color {\n\t\treturn this._color;\n\t}\n\n\tset color(color: Color) {\n\t\tif (this._color.equals(color)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._color = color;\n\t\tthis._onDidChangeColor.fire(color);\n\t}\n\n\tget presentation(): IColorPresentation { return this.colorPresentations[this.presentationIndex]; }\n\n\tprivate _colorPresentations: IColorPresentation[];\n\n\tget colorPresentations(): IColorPresentation[] {\n\t\treturn this._colorPresentations;\n\t}\n\n\tset colorPresentations(colorPresentations: IColorPresentation[]) {\n\t\tthis._colorPresentations = colorPresentations;\n\t\tif (this.presentationIndex > colorPresentations.length - 1) {\n\t\t\tthis.presentationIndex = 0;\n\t\t}\n\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t}\n\n\tprivate readonly _onColorFlushed = new Emitter<Color>();\n\treadonly onColorFlushed: Event<Color> = this._onColorFlushed.event;\n\n\tprivate readonly _onDidChangeColor = new Emitter<Color>();\n\treadonly onDidChangeColor: Event<Color> = this._onDidChangeColor.event;\n\n\tprivate readonly _onDidChangePresentation = new Emitter<IColorPresentation>();\n\treadonly onDidChangePresentation: Event<IColorPresentation> = this._onDidChangePresentation.event;\n\n\tconstructor(color: Color, availableColorPresentations: IColorPresentation[], private presentationIndex: number) {\n\t\tthis.originalColor = color;\n\t\tthis._color = color;\n\t\tthis._colorPresentations = availableColorPresentations;\n\t}\n\n\tselectNextColorPresentation(): void {\n\t\tthis.presentationIndex = (this.presentationIndex + 1) % this.colorPresentations.length;\n\t\tthis.flushColor();\n\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t}\n\n\tguessColorPresentation(color: Color, originalText: string): void {\n\t\tlet presentationIndex = -1;\n\t\tfor (let i = 0; i < this.colorPresentations.length; i++) {\n\t\t\tif (originalText.toLowerCase() === this.colorPresentations[i].label) {\n\t\t\t\tpresentationIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (presentationIndex === -1) {\n\t\t\t// check which color presentation text has same prefix as original text's prefix\n\t\t\tconst originalTextPrefix = originalText.split('(')[0].toLowerCase();\n\t\t\tfor (let i = 0; i < this.colorPresentations.length; i++) {\n\t\t\t\tif (this.colorPresentations[i].label.toLowerCase().startsWith(originalTextPrefix)) {\n\t\t\t\t\tpresentationIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (presentationIndex !== -1 && presentationIndex !== this.presentationIndex) {\n\t\t\tthis.presentationIndex = presentationIndex;\n\t\t\tthis._onDidChangePresentation.fire(this.presentation);\n\t\t}\n\t}\n\n\tflushColor(): void {\n\t\tthis._onColorFlushed.fire(this._color);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1084, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerParticipantUtils.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerParticipantUtils.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/colorPickerParticipantUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IActiveCodeEditor } from '../../../browser/editorBrowser.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { DocumentColorProvider, IColorInformation } from '../../../common/languages.js';\nimport { ITextModel, TrackedRangeStickiness } from '../../../common/model.js';\nimport { getColorPresentations } from './color.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { Range } from '../../../common/core/range.js';\n\nexport const enum ColorPickerWidgetType {\n\tHover = 'hover',\n\tStandalone = 'standalone'\n}\n\nexport interface BaseColor {\n\treadonly range: Range;\n\treadonly model: ColorPickerModel;\n\treadonly provider: DocumentColorProvider;\n}\n\nexport async function createColorHover(editorModel: ITextModel, colorInfo: IColorInformation, provider: DocumentColorProvider): Promise<BaseColor> {\n\tconst originalText = editorModel.getValueInRange(colorInfo.range);\n\tconst { red, green, blue, alpha } = colorInfo.color;\n\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\tconst color = new Color(rgba);\n\n\tconst colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n\tconst model = new ColorPickerModel(color, [], 0);\n\tmodel.colorPresentations = colorPresentations || [];\n\tmodel.guessColorPresentation(color, originalText);\n\n\treturn {\n\t\trange: Range.lift(colorInfo.range),\n\t\tmodel,\n\t\tprovider\n\t};\n}\n\nexport function updateEditorModel(editor: IActiveCodeEditor, range: Range, model: ColorPickerModel): Range {\n\tconst textEdits: ISingleEditOperation[] = [];\n\tconst edit = model.presentation.textEdit ?? { range, text: model.presentation.label, forceMoveMarkers: false };\n\ttextEdits.push(edit);\n\n\tif (model.presentation.additionalTextEdits) {\n\t\ttextEdits.push(...model.presentation.additionalTextEdits);\n\t}\n\tconst replaceRange = Range.lift(edit.range);\n\tconst trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\teditor.executeEdits('colorpicker', textEdits);\n\teditor.pushUndoStop();\n\treturn editor.getModel()._getTrackedRange(trackedRange) ?? replaceRange;\n}\n\nexport async function updateColorPresentations(editorModel: ITextModel, colorPickerModel: ColorPickerModel, color: Color, range: Range, colorHover: BaseColor): Promise<void> {\n\tconst colorPresentations = await getColorPresentations(editorModel, {\n\t\trange: range,\n\t\tcolor: {\n\t\t\tred: color.rgba.r / 255,\n\t\t\tgreen: color.rgba.g / 255,\n\t\t\tblue: color.rgba.b / 255,\n\t\t\talpha: color.rgba.a\n\t\t}\n\t}, colorHover.provider, CancellationToken.None);\n\tcolorPickerModel.colorPresentations = colorPresentations || [];\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IActiveCodeEditor } from '../../../browser/editorBrowser.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { DocumentColorProvider, IColorInformation } from '../../../common/languages.js';\nimport { ITextModel, TrackedRangeStickiness } from '../../../common/model.js';\nimport { getColorPresentations } from './color.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { Range } from '../../../common/core/range.js';\n\nexport const enum ColorPickerWidgetType {\n\tHover = 'hover',\n\tStandalone = 'standalone'\n}\n\nexport interface BaseColor {\n\treadonly range: Range;\n\treadonly model: ColorPickerModel;\n\treadonly provider: DocumentColorProvider;\n}\n\nexport async function createColorHover(editorModel: ITextModel, colorInfo: IColorInformation, provider: DocumentColorProvider): Promise<BaseColor> {\n\tconst originalText = editorModel.getValueInRange(colorInfo.range);\n\tconst { red, green, blue, alpha } = colorInfo.color;\n\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\tconst color = new Color(rgba);\n\n\tconst colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n\tconst model = new ColorPickerModel(color, [], 0);\n\tmodel.colorPresentations = colorPresentations || [];\n\tmodel.guessColorPresentation(color, originalText);\n\n\treturn {\n\t\trange: Range.lift(colorInfo.range),\n\t\tmodel,\n\t\tprovider\n\t};\n}\n\nexport function updateEditorModel(editor: IActiveCodeEditor, range: Range, model: ColorPickerModel): Range {\n\tconst textEdits: ISingleEditOperation[] = [];\n\tconst edit = model.presentation.textEdit ?? { range, text: model.presentation.label, forceMoveMarkers: false };\n\ttextEdits.push(edit);\n\n\tif (model.presentation.additionalTextEdits) {\n\t\ttextEdits.push(...model.presentation.additionalTextEdits);\n\t}\n\tconst replaceRange = Range.lift(edit.range);\n\tconst trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\teditor.executeEdits('colorpicker', textEdits);\n\teditor.pushUndoStop();\n\treturn editor.getModel()._getTrackedRange(trackedRange) ?? replaceRange;\n}\n\nexport async function updateColorPresentations(editorModel: ITextModel, colorPickerModel: ColorPickerModel, color: Color, range: Range, colorHover: BaseColor): Promise<void> {\n\tconst colorPresentations = await getColorPresentations(editorModel, {\n\t\trange: range,\n\t\tcolor: {\n\t\t\tred: color.rgba.r / 255,\n\t\t\tgreen: color.rgba.g / 255,\n\t\t\tblue: color.rgba.b / 255,\n\t\t\talpha: color.rgba.a\n\t\t}\n\t}, colorHover.provider, CancellationToken.None);\n\tcolorPickerModel.colorPresentations = colorPresentations || [];\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1153, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerParticipant.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerParticipant.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerParticipant.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AsyncIterableProducer } from '../../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { IModelDecoration } from '../../../../common/model.js';\nimport { DocumentColorProvider } from '../../../../common/languages.js';\nimport { ColorDetector } from '../colorDetector.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { ColorPickerWidget } from '../colorPickerWidget.js';\nimport { HoverAnchor, HoverAnchorType, IEditorHoverParticipant, IEditorHoverRenderContext, IHoverPart, IRenderedHoverPart, IRenderedHoverParts, RenderedHoverParts } from '../../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { BaseColor, ColorPickerWidgetType, createColorHover, updateColorPresentations, updateEditorModel } from '../colorPickerParticipantUtils.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Dimension } from '../../../../../base/browser/dom.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { HoverStartSource } from '../../../hover/browser/hoverOperation.js';\n\nexport class ColorHover implements IHoverPart, BaseColor {\n\n\t/**\n\t * Force the hover to always be rendered at this specific range,\n\t * even in the case of multiple hover parts.\n\t */\n\tpublic readonly forceShowAtRange: boolean = true;\n\n\tconstructor(\n\t\tpublic readonly owner: IEditorHoverParticipant<ColorHover>,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly model: ColorPickerModel,\n\t\tpublic readonly provider: DocumentColorProvider\n\t) { }\n\n\tpublic isValidForHoverAnchor(anchor: HoverAnchor): boolean {\n\t\treturn (\n\t\t\tanchor.type === HoverAnchorType.Range\n\t\t\t&& this.range.startColumn <= anchor.range.startColumn\n\t\t\t&& this.range.endColumn >= anchor.range.endColumn\n\t\t);\n\t}\n\n\tpublic static fromBaseColor(owner: IEditorHoverParticipant<ColorHover>, color: BaseColor): ColorHover {\n\t\treturn new ColorHover(owner, color.range, color.model, color.provider);\n\t}\n}\n\nexport class HoverColorPickerParticipant implements IEditorHoverParticipant<ColorHover> {\n\n\tpublic readonly hoverOrdinal: number = 2;\n\n\tprivate _colorPicker: ColorPickerWidget | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\tpublic computeSync(_anchor: HoverAnchor, _lineDecorations: IModelDecoration[], source: HoverStartSource): ColorHover[] {\n\t\treturn [];\n\t}\n\n\tpublic computeAsync(anchor: HoverAnchor, lineDecorations: IModelDecoration[], source: HoverStartSource, token: CancellationToken): AsyncIterableProducer<ColorHover> {\n\t\treturn AsyncIterableProducer.fromPromise(this._computeAsync(anchor, lineDecorations, source));\n\t}\n\n\tprivate async _computeAsync(_anchor: HoverAnchor, lineDecorations: IModelDecoration[], source: HoverStartSource): Promise<ColorHover[]> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn [];\n\t\t}\n\t\tif (!this._isValidRequest(source)) {\n\t\t\treturn [];\n\t\t}\n\t\tconst colorDetector = ColorDetector.get(this._editor);\n\t\tif (!colorDetector) {\n\t\t\treturn [];\n\t\t}\n\t\tfor (const d of lineDecorations) {\n\t\t\tif (!colorDetector.isColorDecoration(d)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst colorData = colorDetector.getColorData(d.range.getStartPosition());\n\t\t\tif (colorData) {\n\t\t\t\tconst colorHover = ColorHover.fromBaseColor(this, await createColorHover(this._editor.getModel(), colorData.colorInfo, colorData.provider));\n\t\t\t\treturn [colorHover];\n\t\t\t}\n\n\t\t}\n\t\treturn [];\n\t}\n\n\tprivate _isValidRequest(source: HoverStartSource): boolean {\n\t\tconst decoratorActivatedOn = this._editor.getOption(EditorOption.colorDecoratorsActivatedOn);\n\t\tswitch (source) {\n\t\t\tcase HoverStartSource.Mouse:\n\t\t\t\treturn decoratorActivatedOn === 'hover' || decoratorActivatedOn === 'clickAndHover';\n\t\t\tcase HoverStartSource.Click:\n\t\t\t\treturn decoratorActivatedOn === 'click' || decoratorActivatedOn === 'clickAndHover';\n\t\t\tcase HoverStartSource.Keyboard:\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic renderHoverParts(context: IEditorHoverRenderContext, hoverParts: ColorHover[]): IRenderedHoverParts<ColorHover> {\n\t\tconst editor = this._editor;\n\t\tif (hoverParts.length === 0 || !editor.hasModel()) {\n\t\t\treturn new RenderedHoverParts([]);\n\t\t}\n\t\tconst minimumHeight = editor.getOption(EditorOption.lineHeight) + 8;\n\t\tcontext.setMinimumDimensions(new Dimension(302, minimumHeight));\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst colorHover = hoverParts[0];\n\t\tconst editorModel = editor.getModel();\n\t\tconst model = colorHover.model;\n\t\tthis._colorPicker = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(EditorOption.pixelRatio), this._themeService, ColorPickerWidgetType.Hover));\n\n\t\tlet editorUpdatedByColorPicker = false;\n\t\tlet range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n\n\t\tdisposables.add(model.onColorFlushed(async (color: Color) => {\n\t\t\tawait updateColorPresentations(editorModel, model, color, range, colorHover);\n\t\t\teditorUpdatedByColorPicker = true;\n\t\t\trange = updateEditorModel(editor, range, model);\n\t\t}));\n\t\tdisposables.add(model.onDidChangeColor((color: Color) => {\n\t\t\tupdateColorPresentations(editorModel, model, color, range, colorHover);\n\t\t}));\n\t\tdisposables.add(editor.onDidChangeModelContent((e) => {\n\t\t\tif (editorUpdatedByColorPicker) {\n\t\t\t\teditorUpdatedByColorPicker = false;\n\t\t\t} else {\n\t\t\t\tcontext.hide();\n\t\t\t\teditor.focus();\n\t\t\t}\n\t\t}));\n\t\tconst renderedHoverPart: IRenderedHoverPart<ColorHover> = {\n\t\t\thoverPart: ColorHover.fromBaseColor(this, colorHover),\n\t\t\thoverElement: this._colorPicker.domNode,\n\t\t\tdispose() { disposables.dispose(); }\n\t\t};\n\t\treturn new RenderedHoverParts([renderedHoverPart]);\n\t}\n\n\tpublic handleResize(): void {\n\t\tthis._colorPicker?.layout();\n\t}\n\n\tpublic handleContentsChanged(): void {\n\t\tthis._colorPicker?.layout();\n\t}\n\n\tpublic handleHide(): void {\n\t\tthis._colorPicker?.dispose();\n\t\tthis._colorPicker = undefined;\n\t}\n\n\tpublic isColorPickerVisible(): boolean {\n\t\treturn !!this._colorPicker;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AsyncIterableProducer } from '../../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { IModelDecoration } from '../../../../common/model.js';\nimport { DocumentColorProvider } from '../../../../common/languages.js';\nimport { ColorDetector } from '../colorDetector.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { ColorPickerWidget } from '../colorPickerWidget.js';\nimport { HoverAnchor, HoverAnchorType, IEditorHoverParticipant, IEditorHoverRenderContext, IHoverPart, IRenderedHoverPart, IRenderedHoverParts, RenderedHoverParts } from '../../../hover/browser/hoverTypes.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { BaseColor, ColorPickerWidgetType, createColorHover, updateColorPresentations, updateEditorModel } from '../colorPickerParticipantUtils.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Dimension } from '../../../../../base/browser/dom.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { HoverStartSource } from '../../../hover/browser/hoverOperation.js';\n\nexport class ColorHover implements IHoverPart, BaseColor {\n\n\t/**\n\t * Force the hover to always be rendered at this specific range,\n\t * even in the case of multiple hover parts.\n\t */\n\tpublic readonly forceShowAtRange: boolean = true;\n\n\tconstructor(\n\t\tpublic readonly owner: IEditorHoverParticipant<ColorHover>,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly model: ColorPickerModel,\n\t\tpublic readonly provider: DocumentColorProvider\n\t) { }\n\n\tpublic isValidForHoverAnchor(anchor: HoverAnchor): boolean {\n\t\treturn (\n\t\t\tanchor.type === HoverAnchorType.Range\n\t\t\t&& this.range.startColumn <= anchor.range.startColumn\n\t\t\t&& this.range.endColumn >= anchor.range.endColumn\n\t\t);\n\t}\n\n\tpublic static fromBaseColor(owner: IEditorHoverParticipant<ColorHover>, color: BaseColor): ColorHover {\n\t\treturn new ColorHover(owner, color.range, color.model, color.provider);\n\t}\n}\n\nexport class HoverColorPickerParticipant implements IEditorHoverParticipant<ColorHover> {\n\n\tpublic readonly hoverOrdinal: number = 2;\n\n\tprivate _colorPicker: ColorPickerWidget | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\tpublic computeSync(_anchor: HoverAnchor, _lineDecorations: IModelDecoration[], source: HoverStartSource): ColorHover[] {\n\t\treturn [];\n\t}\n\n\tpublic computeAsync(anchor: HoverAnchor, lineDecorations: IModelDecoration[], source: HoverStartSource, token: CancellationToken): AsyncIterableProducer<ColorHover> {\n\t\treturn AsyncIterableProducer.fromPromise(this._computeAsync(anchor, lineDecorations, source));\n\t}\n\n\tprivate async _computeAsync(_anchor: HoverAnchor, lineDecorations: IModelDecoration[], source: HoverStartSource): Promise<ColorHover[]> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn [];\n\t\t}\n\t\tif (!this._isValidRequest(source)) {\n\t\t\treturn [];\n\t\t}\n\t\tconst colorDetector = ColorDetector.get(this._editor);\n\t\tif (!colorDetector) {\n\t\t\treturn [];\n\t\t}\n\t\tfor (const d of lineDecorations) {\n\t\t\tif (!colorDetector.isColorDecoration(d)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst colorData = colorDetector.getColorData(d.range.getStartPosition());\n\t\t\tif (colorData) {\n\t\t\t\tconst colorHover = ColorHover.fromBaseColor(this, await createColorHover(this._editor.getModel(), colorData.colorInfo, colorData.provider));\n\t\t\t\treturn [colorHover];\n\t\t\t}\n\n\t\t}\n\t\treturn [];\n\t}\n\n\tprivate _isValidRequest(source: HoverStartSource): boolean {\n\t\tconst decoratorActivatedOn = this._editor.getOption(EditorOption.colorDecoratorsActivatedOn);\n\t\tswitch (source) {\n\t\t\tcase HoverStartSource.Mouse:\n\t\t\t\treturn decoratorActivatedOn === 'hover' || decoratorActivatedOn === 'clickAndHover';\n\t\t\tcase HoverStartSource.Click:\n\t\t\t\treturn decoratorActivatedOn === 'click' || decoratorActivatedOn === 'clickAndHover';\n\t\t\tcase HoverStartSource.Keyboard:\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic renderHoverParts(context: IEditorHoverRenderContext, hoverParts: ColorHover[]): IRenderedHoverParts<ColorHover> {\n\t\tconst editor = this._editor;\n\t\tif (hoverParts.length === 0 || !editor.hasModel()) {\n\t\t\treturn new RenderedHoverParts([]);\n\t\t}\n\t\tconst minimumHeight = editor.getOption(EditorOption.lineHeight) + 8;\n\t\tcontext.setMinimumDimensions(new Dimension(302, minimumHeight));\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst colorHover = hoverParts[0];\n\t\tconst editorModel = editor.getModel();\n\t\tconst model = colorHover.model;\n\t\tthis._colorPicker = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(EditorOption.pixelRatio), this._themeService, ColorPickerWidgetType.Hover));\n\n\t\tlet editorUpdatedByColorPicker = false;\n\t\tlet range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n\n\t\tdisposables.add(model.onColorFlushed(async (color: Color) => {\n\t\t\tawait updateColorPresentations(editorModel, model, color, range, colorHover);\n\t\t\teditorUpdatedByColorPicker = true;\n\t\t\trange = updateEditorModel(editor, range, model);\n\t\t}));\n\t\tdisposables.add(model.onDidChangeColor((color: Color) => {\n\t\t\tupdateColorPresentations(editorModel, model, color, range, colorHover);\n\t\t}));\n\t\tdisposables.add(editor.onDidChangeModelContent((e) => {\n\t\t\tif (editorUpdatedByColorPicker) {\n\t\t\t\teditorUpdatedByColorPicker = false;\n\t\t\t} else {\n\t\t\t\tcontext.hide();\n\t\t\t\teditor.focus();\n\t\t\t}\n\t\t}));\n\t\tconst renderedHoverPart: IRenderedHoverPart<ColorHover> = {\n\t\t\thoverPart: ColorHover.fromBaseColor(this, colorHover),\n\t\t\thoverElement: this._colorPicker.domNode,\n\t\t\tdispose() { disposables.dispose(); }\n\t\t};\n\t\treturn new RenderedHoverParts([renderedHoverPart]);\n\t}\n\n\tpublic handleResize(): void {\n\t\tthis._colorPicker?.layout();\n\t}\n\n\tpublic handleContentsChanged(): void {\n\t\tthis._colorPicker?.layout();\n\t}\n\n\tpublic handleHide(): void {\n\t\tthis._colorPicker?.dispose();\n\t\tthis._colorPicker = undefined;\n\t}\n\n\tpublic isColorPickerVisible(): boolean {\n\t\treturn !!this._colorPicker;\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1321, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPicker.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPicker.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPicker.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IPartialEditorMouseEvent, MouseTargetType } from '../../../../browser/editorBrowser.js';\nimport { ColorDecorationInjectedTextMarker } from '../colorDetector.js';\n\n\nexport function isOnColorDecorator(mouseEvent: IPartialEditorMouseEvent): boolean {\n\tconst target = mouseEvent.target;\n\treturn !!target\n\t\t&& target.type === MouseTargetType.CONTENT_TEXT\n\t\t&& target.detail.injectedText?.options.attachedData === ColorDecorationInjectedTextMarker;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IPartialEditorMouseEvent, MouseTargetType } from '../../../../browser/editorBrowser.js';\nimport { ColorDecorationInjectedTextMarker } from '../colorDetector.js';\n\n\nexport function isOnColorDecorator(mouseEvent: IPartialEditorMouseEvent): boolean {\n\tconst target = mouseEvent.target;\n\treturn !!target\n\t\t&& target.type === MouseTargetType.CONTENT_TEXT\n\t\t&& target.detail.injectedText?.options.attachedData === ColorDecorationInjectedTextMarker;\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAGhG,OAAO,EAAE,iCAAiC,EAAE,MAAM,qBAAqB,CAAC;;AAGlE,SAAU,kBAAkB,CAAC,UAAoC;IACtE,MAAM,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;IACjC,OAAO,CAAC,CAAC,MAAM,IACX,MAAM,CAAC,IAAI,KAAA,EAAA,gCAAA,EAAiC,KAC5C,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,OAAO,CAAC,YAAY,KAAK,kPAAiC,CAAC;AAC5F,CAAC","debugId":null}},
    {"offset": {"line": 1338, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerContribution.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerContribution.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/hoverColorPicker/vs/editor/contrib/colorPicker/browser/hoverColorPicker/hoverColorPickerContribution.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor, IEditorMouseEvent } from '../../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { IEditorContribution } from '../../../../common/editorCommon.js';\nimport { ContentHoverController } from '../../../hover/browser/contentHoverController.js';\nimport { HoverStartMode, HoverStartSource } from '../../../hover/browser/hoverOperation.js';\nimport { isOnColorDecorator } from './hoverColorPicker.js';\n\nexport class HoverColorPickerContribution extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.contrib.colorContribution'; // ms\n\n\tconstructor(private readonly _editor: ICodeEditor,\n\t) {\n\t\tsuper();\n\t\tthis._register(_editor.onMouseDown((e) => this.onMouseDown(e)));\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\tprivate onMouseDown(mouseEvent: IEditorMouseEvent) {\n\n\t\tconst colorDecoratorsActivatedOn = this._editor.getOption(EditorOption.colorDecoratorsActivatedOn);\n\t\tif (colorDecoratorsActivatedOn !== 'click' && colorDecoratorsActivatedOn !== 'clickAndHover') {\n\t\t\treturn;\n\t\t}\n\t\tif (!isOnColorDecorator(mouseEvent)) {\n\t\t\treturn;\n\t\t}\n\t\tconst hoverController = this._editor.getContribution<ContentHoverController>(ContentHoverController.ID);\n\t\tif (!hoverController) {\n\t\t\treturn;\n\t\t}\n\t\tif (hoverController.isColorPickerVisible) {\n\t\t\treturn;\n\t\t}\n\t\tconst targetRange = mouseEvent.target.range;\n\t\tif (!targetRange) {\n\t\t\treturn;\n\t\t}\n\t\tconst range = new Range(targetRange.startLineNumber, targetRange.startColumn + 1, targetRange.endLineNumber, targetRange.endColumn + 1);\n\t\thoverController.showContentHover(range, HoverStartMode.Immediate, HoverStartSource.Click, false);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor, IEditorMouseEvent } from '../../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { IEditorContribution } from '../../../../common/editorCommon.js';\nimport { ContentHoverController } from '../../../hover/browser/contentHoverController.js';\nimport { HoverStartMode, HoverStartSource } from '../../../hover/browser/hoverOperation.js';\nimport { isOnColorDecorator } from './hoverColorPicker.js';\n\nexport class HoverColorPickerContribution extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.contrib.colorContribution'; // ms\n\n\tconstructor(private readonly _editor: ICodeEditor,\n\t) {\n\t\tsuper();\n\t\tthis._register(_editor.onMouseDown((e) => this.onMouseDown(e)));\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\tprivate onMouseDown(mouseEvent: IEditorMouseEvent) {\n\n\t\tconst colorDecoratorsActivatedOn = this._editor.getOption(EditorOption.colorDecoratorsActivatedOn);\n\t\tif (colorDecoratorsActivatedOn !== 'click' && colorDecoratorsActivatedOn !== 'clickAndHover') {\n\t\t\treturn;\n\t\t}\n\t\tif (!isOnColorDecorator(mouseEvent)) {\n\t\t\treturn;\n\t\t}\n\t\tconst hoverController = this._editor.getContribution<ContentHoverController>(ContentHoverController.ID);\n\t\tif (!hoverController) {\n\t\t\treturn;\n\t\t}\n\t\tif (hoverController.isColorPickerVisible) {\n\t\t\treturn;\n\t\t}\n\t\tconst targetRange = mouseEvent.target.range;\n\t\tif (!targetRange) {\n\t\t\treturn;\n\t\t}\n\t\tconst range = new Range(targetRange.startLineNumber, targetRange.startColumn + 1, targetRange.endLineNumber, targetRange.endColumn + 1);\n\t\thoverController.showContentHover(range, HoverStartMode.Immediate, HoverStartSource.Click, false);\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AAGrE,OAAO,EAAE,KAAK,EAAE,MAAM,kCAAkC,CAAC;AAEzD,OAAO,EAAE,sBAAsB,EAAE,MAAM,kDAAkD,CAAC;AAE1F,OAAO,EAAE,kBAAkB,EAAE,MAAM,uBAAuB,CAAC;;;;;AAErD,MAAO,4BAA6B,SAAQ,0LAAU;;QAEpC,IAAA,CAAA,EAAE,GAAW,kCAAkC,CAAC;IAAA,CAAA,CAAC,KAAK;IAE7E,YAA6B,OAAoB,CAAA;QAEhD,KAAK,EAAE,CAAC;QAFoB,IAAA,CAAA,OAAO,GAAP,OAAO,CAAa;QAGhD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,GAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IAEQ,OAAO,GAAA;QACf,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEO,WAAW,CAAC,UAA6B,EAAA;QAEhD,MAAM,0BAA0B,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,2CAAA,GAAyC,CAAC;QACnG,IAAI,0BAA0B,KAAK,OAAO,IAAI,0BAA0B,KAAK,eAAe,EAAE,CAAC;YAC9F,OAAO;QACR,CAAC;QACD,IAAI,KAAC,0PAAkB,EAAC,UAAU,CAAC,EAAE,CAAC;YACrC,OAAO;QACR,CAAC;QACD,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAyB,0OAAsB,CAAC,EAAE,CAAC,CAAC;QACxG,IAAI,CAAC,eAAe,EAAE,CAAC;YACtB,OAAO;QACR,CAAC;QACD,IAAI,eAAe,CAAC,oBAAoB,EAAE,CAAC;YAC1C,OAAO;QACR,CAAC;QACD,MAAM,WAAW,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC;QAC5C,IAAI,CAAC,WAAW,EAAE,CAAC;YAClB,OAAO;QACR,CAAC;QACD,MAAM,KAAK,GAAG,IAAI,2LAAK,CAAC,WAAW,CAAC,eAAe,EAAE,WAAW,CAAC,WAAW,GAAG,CAAC,EAAE,WAAW,CAAC,aAAa,EAAE,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACxI,eAAe,CAAC,gBAAgB,CAAC,KAAK,EAAA,EAAA,4BAAA,KAAA,EAAA,0BAAA,KAAoD,KAAK,CAAC,CAAC;IAClG,CAAC","debugId":null}},
    {"offset": {"line": 1392, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerParticipant.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerParticipant.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerParticipant.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { IActiveCodeEditor, ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport { DocumentColorProvider, IColorInformation } from '../../../../common/languages.js';\nimport { IEditorHoverRenderContext } from '../../../hover/browser/hoverTypes.js';\nimport { getColors } from '../color.js';\nimport { ColorDetector } from '../colorDetector.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { BaseColor, ColorPickerWidgetType, createColorHover, updateColorPresentations, updateEditorModel } from '../colorPickerParticipantUtils.js';\nimport { ColorPickerWidget } from '../colorPickerWidget.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Dimension } from '../../../../../base/browser/dom.js';\n\nexport class StandaloneColorPickerHover implements BaseColor {\n\tconstructor(\n\t\tpublic readonly owner: StandaloneColorPickerParticipant,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly model: ColorPickerModel,\n\t\tpublic readonly provider: DocumentColorProvider\n\t) { }\n\n\tpublic static fromBaseColor(owner: StandaloneColorPickerParticipant, color: BaseColor) {\n\t\treturn new StandaloneColorPickerHover(owner, color.range, color.model, color.provider);\n\t}\n}\n\nexport class StandaloneColorPickerRenderedParts extends Disposable {\n\n\tpublic color: Color;\n\n\tpublic colorPicker: ColorPickerWidget;\n\n\tconstructor(editor: IActiveCodeEditor, context: IEditorHoverRenderContext, colorHover: StandaloneColorPickerHover, themeService: IThemeService) {\n\t\tsuper();\n\t\tconst editorModel = editor.getModel();\n\t\tconst colorPickerModel = colorHover.model;\n\n\t\tthis.color = colorHover.model.color;\n\t\tthis.colorPicker = this._register(new ColorPickerWidget(\n\t\t\tcontext.fragment,\n\t\t\tcolorPickerModel,\n\t\t\teditor.getOption(EditorOption.pixelRatio),\n\t\t\tthemeService,\n\t\t\tColorPickerWidgetType.Standalone\n\t\t));\n\n\t\tthis._register(colorPickerModel.onColorFlushed((color: Color) => {\n\t\t\tthis.color = color;\n\t\t}));\n\t\tthis._register(colorPickerModel.onDidChangeColor((color: Color) => {\n\t\t\tupdateColorPresentations(editorModel, colorPickerModel, color, colorHover.range, colorHover);\n\t\t}));\n\t\tlet editorUpdatedByColorPicker = false;\n\t\tthis._register(editor.onDidChangeModelContent((e) => {\n\t\t\tif (editorUpdatedByColorPicker) {\n\t\t\t\teditorUpdatedByColorPicker = false;\n\t\t\t} else {\n\t\t\t\tcontext.hide();\n\t\t\t\teditor.focus();\n\t\t\t}\n\t\t}));\n\t\tupdateColorPresentations(editorModel, colorPickerModel, this.color, colorHover.range, colorHover);\n\t}\n}\n\nexport class StandaloneColorPickerParticipant {\n\tprivate _renderedParts: StandaloneColorPickerRenderedParts | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\tpublic async createColorHover(defaultColorInfo: IColorInformation, defaultColorProvider: DocumentColorProvider, colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>): Promise<{ colorHover: StandaloneColorPickerHover; foundInEditor: boolean } | null> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colorDetector = ColorDetector.get(this._editor);\n\t\tif (!colorDetector) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colors = await getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n\t\tlet foundColorInfo: IColorInformation | null = null;\n\t\tlet foundColorProvider: DocumentColorProvider | null = null;\n\t\tfor (const colorData of colors) {\n\t\t\tconst colorInfo = colorData.colorInfo;\n\t\t\tif (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n\t\t\t\tfoundColorInfo = colorInfo;\n\t\t\t\tfoundColorProvider = colorData.provider;\n\t\t\t}\n\t\t}\n\t\tconst colorInfo = foundColorInfo ?? defaultColorInfo;\n\t\tconst colorProvider = foundColorProvider ?? defaultColorProvider;\n\t\tconst foundInEditor = !!foundColorInfo;\n\t\tconst colorHover = StandaloneColorPickerHover.fromBaseColor(this, await createColorHover(this._editor.getModel(), colorInfo, colorProvider));\n\t\treturn { colorHover, foundInEditor };\n\t}\n\n\tpublic async updateEditorModel(colorHoverData: StandaloneColorPickerHover): Promise<void> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tconst colorPickerModel = colorHoverData.model;\n\t\tlet range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n\t\tif (this._color) {\n\t\t\tawait updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n\t\t\trange = updateEditorModel(this._editor, range, colorPickerModel);\n\t\t}\n\t}\n\n\tpublic renderHoverParts(context: IEditorHoverRenderContext, hoverParts: StandaloneColorPickerHover[]): StandaloneColorPickerRenderedParts | undefined {\n\t\tif (hoverParts.length === 0 || !this._editor.hasModel()) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._setMinimumDimensions(context);\n\t\tthis._renderedParts = new StandaloneColorPickerRenderedParts(this._editor, context, hoverParts[0], this._themeService);\n\t\treturn this._renderedParts;\n\t}\n\n\tprivate _setMinimumDimensions(context: IEditorHoverRenderContext): void {\n\t\tconst minimumHeight = this._editor.getOption(EditorOption.lineHeight) + 8;\n\t\tcontext.setMinimumDimensions(new Dimension(302, minimumHeight));\n\t}\n\n\tprivate get _color(): Color | undefined {\n\t\treturn this._renderedParts?.color;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { IActiveCodeEditor, ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport { DocumentColorProvider, IColorInformation } from '../../../../common/languages.js';\nimport { IEditorHoverRenderContext } from '../../../hover/browser/hoverTypes.js';\nimport { getColors } from '../color.js';\nimport { ColorDetector } from '../colorDetector.js';\nimport { ColorPickerModel } from '../colorPickerModel.js';\nimport { BaseColor, ColorPickerWidgetType, createColorHover, updateColorPresentations, updateEditorModel } from '../colorPickerParticipantUtils.js';\nimport { ColorPickerWidget } from '../colorPickerWidget.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { Dimension } from '../../../../../base/browser/dom.js';\n\nexport class StandaloneColorPickerHover implements BaseColor {\n\tconstructor(\n\t\tpublic readonly owner: StandaloneColorPickerParticipant,\n\t\tpublic readonly range: Range,\n\t\tpublic readonly model: ColorPickerModel,\n\t\tpublic readonly provider: DocumentColorProvider\n\t) { }\n\n\tpublic static fromBaseColor(owner: StandaloneColorPickerParticipant, color: BaseColor) {\n\t\treturn new StandaloneColorPickerHover(owner, color.range, color.model, color.provider);\n\t}\n}\n\nexport class StandaloneColorPickerRenderedParts extends Disposable {\n\n\tpublic color: Color;\n\n\tpublic colorPicker: ColorPickerWidget;\n\n\tconstructor(editor: IActiveCodeEditor, context: IEditorHoverRenderContext, colorHover: StandaloneColorPickerHover, themeService: IThemeService) {\n\t\tsuper();\n\t\tconst editorModel = editor.getModel();\n\t\tconst colorPickerModel = colorHover.model;\n\n\t\tthis.color = colorHover.model.color;\n\t\tthis.colorPicker = this._register(new ColorPickerWidget(\n\t\t\tcontext.fragment,\n\t\t\tcolorPickerModel,\n\t\t\teditor.getOption(EditorOption.pixelRatio),\n\t\t\tthemeService,\n\t\t\tColorPickerWidgetType.Standalone\n\t\t));\n\n\t\tthis._register(colorPickerModel.onColorFlushed((color: Color) => {\n\t\t\tthis.color = color;\n\t\t}));\n\t\tthis._register(colorPickerModel.onDidChangeColor((color: Color) => {\n\t\t\tupdateColorPresentations(editorModel, colorPickerModel, color, colorHover.range, colorHover);\n\t\t}));\n\t\tlet editorUpdatedByColorPicker = false;\n\t\tthis._register(editor.onDidChangeModelContent((e) => {\n\t\t\tif (editorUpdatedByColorPicker) {\n\t\t\t\teditorUpdatedByColorPicker = false;\n\t\t\t} else {\n\t\t\t\tcontext.hide();\n\t\t\t\teditor.focus();\n\t\t\t}\n\t\t}));\n\t\tupdateColorPresentations(editorModel, colorPickerModel, this.color, colorHover.range, colorHover);\n\t}\n}\n\nexport class StandaloneColorPickerParticipant {\n\tprivate _renderedParts: StandaloneColorPickerRenderedParts | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) { }\n\n\tpublic async createColorHover(defaultColorInfo: IColorInformation, defaultColorProvider: DocumentColorProvider, colorProviderRegistry: LanguageFeatureRegistry<DocumentColorProvider>): Promise<{ colorHover: StandaloneColorPickerHover; foundInEditor: boolean } | null> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colorDetector = ColorDetector.get(this._editor);\n\t\tif (!colorDetector) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colors = await getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n\t\tlet foundColorInfo: IColorInformation | null = null;\n\t\tlet foundColorProvider: DocumentColorProvider | null = null;\n\t\tfor (const colorData of colors) {\n\t\t\tconst colorInfo = colorData.colorInfo;\n\t\t\tif (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n\t\t\t\tfoundColorInfo = colorInfo;\n\t\t\t\tfoundColorProvider = colorData.provider;\n\t\t\t}\n\t\t}\n\t\tconst colorInfo = foundColorInfo ?? defaultColorInfo;\n\t\tconst colorProvider = foundColorProvider ?? defaultColorProvider;\n\t\tconst foundInEditor = !!foundColorInfo;\n\t\tconst colorHover = StandaloneColorPickerHover.fromBaseColor(this, await createColorHover(this._editor.getModel(), colorInfo, colorProvider));\n\t\treturn { colorHover, foundInEditor };\n\t}\n\n\tpublic async updateEditorModel(colorHoverData: StandaloneColorPickerHover): Promise<void> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tconst colorPickerModel = colorHoverData.model;\n\t\tlet range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n\t\tif (this._color) {\n\t\t\tawait updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n\t\t\trange = updateEditorModel(this._editor, range, colorPickerModel);\n\t\t}\n\t}\n\n\tpublic renderHoverParts(context: IEditorHoverRenderContext, hoverParts: StandaloneColorPickerHover[]): StandaloneColorPickerRenderedParts | undefined {\n\t\tif (hoverParts.length === 0 || !this._editor.hasModel()) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._setMinimumDimensions(context);\n\t\tthis._renderedParts = new StandaloneColorPickerRenderedParts(this._editor, context, hoverParts[0], this._themeService);\n\t\treturn this._renderedParts;\n\t}\n\n\tprivate _setMinimumDimensions(context: IEditorHoverRenderContext): void {\n\t\tconst minimumHeight = this._editor.getOption(EditorOption.lineHeight) + 8;\n\t\tcontext.setMinimumDimensions(new Dimension(302, minimumHeight));\n\t}\n\n\tprivate get _color(): Color | undefined {\n\t\treturn this._renderedParts?.color;\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1536, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerWidget.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerWidget.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport '../colorPicker.css';\nimport { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IEditorHoverRenderContext } from '../../../hover/browser/hoverTypes.js';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from '../../../../browser/editorBrowser.js';\nimport { PositionAffinity } from '../../../../common/model.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { EditorHoverStatusBar } from '../../../hover/browser/contentHoverStatusBar.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { IColorInformation } from '../../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { IContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IRange } from '../../../../common/core/range.js';\nimport { DefaultDocumentColorProvider } from '../defaultDocumentColorProvider.js';\nimport { IEditorWorkerService } from '../../../../common/services/editorWorker.js';\nimport { StandaloneColorPickerHover, StandaloneColorPickerParticipant, StandaloneColorPickerRenderedParts } from './standaloneColorPickerParticipant.js';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { InsertButton } from '../colorPickerParts/colorPickerInsertButton.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\n\nclass StandaloneColorPickerResult {\n\t// The color picker result consists of: an array of color results and a boolean indicating if the color was found in the editor\n\tconstructor(\n\t\tpublic readonly value: StandaloneColorPickerHover,\n\t\tpublic readonly foundInEditor: boolean\n\t) { }\n}\n\nconst PADDING = 8;\nconst CLOSE_BUTTON_WIDTH = 22;\n\nexport class StandaloneColorPickerWidget extends Disposable implements IContentWidget {\n\n\tstatic readonly ID = 'editor.contrib.standaloneColorPickerWidget';\n\treadonly allowEditorOverflow = true;\n\n\tprivate readonly _position: Position | undefined = undefined;\n\tprivate readonly _standaloneColorPickerParticipant: StandaloneColorPickerParticipant;\n\n\tprivate _body: HTMLElement = document.createElement('div');\n\tprivate _colorHover: StandaloneColorPickerHover | null = null;\n\tprivate _selectionSetInEditor: boolean = false;\n\n\tprivate readonly _onResult = this._register(new Emitter<StandaloneColorPickerResult>());\n\tpublic readonly onResult = this._onResult.event;\n\n\tprivate readonly _renderedHoverParts: MutableDisposable<StandaloneColorPickerRenderedParts> = this._register(new MutableDisposable());\n\tprivate readonly _renderedStatusBar: MutableDisposable<EditorHoverStatusBar> = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _standaloneColorPickerVisible: IContextKey<boolean>,\n\t\tprivate readonly _standaloneColorPickerFocused: IContextKey<boolean>,\n\t\t@IInstantiationService _instantiationService: IInstantiationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tthis._standaloneColorPickerVisible.set(true);\n\t\tthis._standaloneColorPickerParticipant = _instantiationService.createInstance(StandaloneColorPickerParticipant, this._editor);\n\t\tthis._position = this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;\n\t\tconst editorSelection = this._editor.getSelection();\n\t\tconst selection = editorSelection ?\n\t\t\t{\n\t\t\t\tstartLineNumber: editorSelection.startLineNumber,\n\t\t\t\tstartColumn: editorSelection.startColumn,\n\t\t\t\tendLineNumber: editorSelection.endLineNumber,\n\t\t\t\tendColumn: editorSelection.endColumn\n\t\t\t} : { startLineNumber: 0, endLineNumber: 0, endColumn: 0, startColumn: 0 };\n\t\tconst focusTracker = this._register(dom.trackFocus(this._body));\n\t\tthis._register(focusTracker.onDidBlur(_ => {\n\t\t\tthis.hide();\n\t\t}));\n\t\tthis._register(focusTracker.onDidFocus(_ => {\n\t\t\tthis.focus();\n\t\t}));\n\t\t// When the cursor position changes, hide the color picker\n\t\tthis._register(this._editor.onDidChangeCursorPosition(() => {\n\t\t\t// Do not hide the color picker when the cursor changes position due to the keybindings\n\t\t\tif (!this._selectionSetInEditor) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis._selectionSetInEditor = false;\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editor.onMouseMove((e) => {\n\t\t\tconst classList = e.target.element?.classList;\n\t\t\tif (classList && classList.contains('colorpicker-color-decoration')) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.onResult((result) => {\n\t\t\tthis._render(result.value, result.foundInEditor);\n\t\t}));\n\t\tthis._start(selection);\n\t\tthis._body.style.zIndex = '50';\n\t\tthis._editor.addContentWidget(this);\n\t}\n\n\tpublic updateEditor() {\n\t\tif (this._colorHover) {\n\t\t\tthis._standaloneColorPickerParticipant.updateEditorModel(this._colorHover);\n\t\t}\n\t}\n\n\tpublic getId(): string {\n\t\treturn StandaloneColorPickerWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._body;\n\t}\n\n\tpublic getPosition(): IContentWidgetPosition | null {\n\t\tif (!this._position) {\n\t\t\treturn null;\n\t\t}\n\t\tconst positionPreference = this._editor.getOption(EditorOption.hover).above;\n\t\treturn {\n\t\t\tposition: this._position,\n\t\t\tsecondaryPosition: this._position,\n\t\t\tpreference: positionPreference ? [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW] : [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE],\n\t\t\tpositionAffinity: PositionAffinity.None\n\t\t};\n\t}\n\n\tpublic hide(): void {\n\t\tthis.dispose();\n\t\tthis._standaloneColorPickerVisible.set(false);\n\t\tthis._standaloneColorPickerFocused.set(false);\n\t\tthis._editor.removeContentWidget(this);\n\t\tthis._editor.focus();\n\t}\n\n\tpublic focus(): void {\n\t\tthis._standaloneColorPickerFocused.set(true);\n\t\tthis._body.focus();\n\t}\n\n\tprivate async _start(selection: IRange) {\n\t\tconst computeAsyncResult = await this._computeAsync(selection);\n\t\tif (!computeAsyncResult) {\n\t\t\treturn;\n\t\t}\n\t\tthis._onResult.fire(new StandaloneColorPickerResult(computeAsyncResult.result, computeAsyncResult.foundInEditor));\n\t}\n\n\tprivate async _computeAsync(range: IRange): Promise<{ result: StandaloneColorPickerHover; foundInEditor: boolean } | null> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colorInfo: IColorInformation = {\n\t\t\trange: range,\n\t\t\tcolor: { red: 0, green: 0, blue: 0, alpha: 1 }\n\t\t};\n\t\tconst colorHoverResult: { colorHover: StandaloneColorPickerHover; foundInEditor: boolean } | null = await this._standaloneColorPickerParticipant.createColorHover(colorInfo, new DefaultDocumentColorProvider(this._editorWorkerService), this._languageFeaturesService.colorProvider);\n\t\tif (!colorHoverResult) {\n\t\t\treturn null;\n\t\t}\n\t\treturn { result: colorHoverResult.colorHover, foundInEditor: colorHoverResult.foundInEditor };\n\t}\n\n\tprivate _render(colorHover: StandaloneColorPickerHover, foundInEditor: boolean) {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tthis._renderedStatusBar.value = this._register(new EditorHoverStatusBar(this._keybindingService, this._hoverService));\n\n\t\tconst context: IEditorHoverRenderContext = {\n\t\t\tfragment,\n\t\t\tstatusBar: this._renderedStatusBar.value,\n\t\t\tonContentsChanged: () => { },\n\t\t\tsetMinimumDimensions: () => { },\n\t\t\thide: () => this.hide(),\n\t\t\tfocus: () => this.focus()\n\t\t};\n\n\t\tthis._colorHover = colorHover;\n\t\tthis._renderedHoverParts.value = this._standaloneColorPickerParticipant.renderHoverParts(context, [colorHover]);\n\t\tif (!this._renderedHoverParts.value) {\n\t\t\tthis._renderedStatusBar.clear();\n\t\t\tthis._renderedHoverParts.clear();\n\t\t\treturn;\n\t\t}\n\t\tconst colorPicker = this._renderedHoverParts.value.colorPicker;\n\t\tthis._body.classList.add('standalone-colorpicker-body');\n\t\tthis._body.style.maxHeight = Math.max(this._editor.getLayoutInfo().height / 4, 250) + 'px';\n\t\tthis._body.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + 'px';\n\t\tthis._body.tabIndex = 0;\n\t\tthis._body.appendChild(fragment);\n\t\tcolorPicker.layout();\n\n\t\tconst colorPickerBody = colorPicker.body;\n\t\tconst saturationBoxWidth = colorPickerBody.saturationBox.domNode.clientWidth;\n\t\tconst widthOfOriginalColorBox = colorPickerBody.domNode.clientWidth - saturationBoxWidth - CLOSE_BUTTON_WIDTH - PADDING;\n\t\tconst enterButton: InsertButton | null = colorPicker.body.enterButton;\n\t\tenterButton?.onClicked(() => {\n\t\t\tthis.updateEditor();\n\t\t\tthis.hide();\n\t\t});\n\t\tconst colorPickerHeader = colorPicker.header;\n\t\tconst pickedColorNode = colorPickerHeader.pickedColorNode;\n\t\tpickedColorNode.style.width = saturationBoxWidth + PADDING + 'px';\n\t\tconst originalColorNode = colorPickerHeader.originalColorNode;\n\t\toriginalColorNode.style.width = widthOfOriginalColorBox + 'px';\n\t\tconst closeButton = colorPicker.header.closeButton;\n\t\tcloseButton?.onClicked(() => {\n\t\t\tthis.hide();\n\t\t});\n\t\t// When found in the editor, highlight the selection in the editor\n\t\tif (foundInEditor) {\n\t\t\tif (enterButton) {\n\t\t\t\tenterButton.button.textContent = 'Replace';\n\t\t\t}\n\t\t\tthis._selectionSetInEditor = true;\n\t\t\tthis._editor.setSelection(colorHover.range);\n\t\t}\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport '../colorPicker.css';\nimport { Disposable, MutableDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IEditorHoverRenderContext } from '../../../hover/browser/hoverTypes.js';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from '../../../../browser/editorBrowser.js';\nimport { PositionAffinity } from '../../../../common/model.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { EditorHoverStatusBar } from '../../../hover/browser/contentHoverStatusBar.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { EditorOption } from '../../../../common/config/editorOptions.js';\nimport { IColorInformation } from '../../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { IContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IRange } from '../../../../common/core/range.js';\nimport { DefaultDocumentColorProvider } from '../defaultDocumentColorProvider.js';\nimport { IEditorWorkerService } from '../../../../common/services/editorWorker.js';\nimport { StandaloneColorPickerHover, StandaloneColorPickerParticipant, StandaloneColorPickerRenderedParts } from './standaloneColorPickerParticipant.js';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { InsertButton } from '../colorPickerParts/colorPickerInsertButton.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\n\nclass StandaloneColorPickerResult {\n\t// The color picker result consists of: an array of color results and a boolean indicating if the color was found in the editor\n\tconstructor(\n\t\tpublic readonly value: StandaloneColorPickerHover,\n\t\tpublic readonly foundInEditor: boolean\n\t) { }\n}\n\nconst PADDING = 8;\nconst CLOSE_BUTTON_WIDTH = 22;\n\nexport class StandaloneColorPickerWidget extends Disposable implements IContentWidget {\n\n\tstatic readonly ID = 'editor.contrib.standaloneColorPickerWidget';\n\treadonly allowEditorOverflow = true;\n\n\tprivate readonly _position: Position | undefined = undefined;\n\tprivate readonly _standaloneColorPickerParticipant: StandaloneColorPickerParticipant;\n\n\tprivate _body: HTMLElement = document.createElement('div');\n\tprivate _colorHover: StandaloneColorPickerHover | null = null;\n\tprivate _selectionSetInEditor: boolean = false;\n\n\tprivate readonly _onResult = this._register(new Emitter<StandaloneColorPickerResult>());\n\tpublic readonly onResult = this._onResult.event;\n\n\tprivate readonly _renderedHoverParts: MutableDisposable<StandaloneColorPickerRenderedParts> = this._register(new MutableDisposable());\n\tprivate readonly _renderedStatusBar: MutableDisposable<EditorHoverStatusBar> = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\tprivate readonly _standaloneColorPickerVisible: IContextKey<boolean>,\n\t\tprivate readonly _standaloneColorPickerFocused: IContextKey<boolean>,\n\t\t@IInstantiationService _instantiationService: IInstantiationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tthis._standaloneColorPickerVisible.set(true);\n\t\tthis._standaloneColorPickerParticipant = _instantiationService.createInstance(StandaloneColorPickerParticipant, this._editor);\n\t\tthis._position = this._editor._getViewModel()?.getPrimaryCursorState().modelState.position;\n\t\tconst editorSelection = this._editor.getSelection();\n\t\tconst selection = editorSelection ?\n\t\t\t{\n\t\t\t\tstartLineNumber: editorSelection.startLineNumber,\n\t\t\t\tstartColumn: editorSelection.startColumn,\n\t\t\t\tendLineNumber: editorSelection.endLineNumber,\n\t\t\t\tendColumn: editorSelection.endColumn\n\t\t\t} : { startLineNumber: 0, endLineNumber: 0, endColumn: 0, startColumn: 0 };\n\t\tconst focusTracker = this._register(dom.trackFocus(this._body));\n\t\tthis._register(focusTracker.onDidBlur(_ => {\n\t\t\tthis.hide();\n\t\t}));\n\t\tthis._register(focusTracker.onDidFocus(_ => {\n\t\t\tthis.focus();\n\t\t}));\n\t\t// When the cursor position changes, hide the color picker\n\t\tthis._register(this._editor.onDidChangeCursorPosition(() => {\n\t\t\t// Do not hide the color picker when the cursor changes position due to the keybindings\n\t\t\tif (!this._selectionSetInEditor) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis._selectionSetInEditor = false;\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editor.onMouseMove((e) => {\n\t\t\tconst classList = e.target.element?.classList;\n\t\t\tif (classList && classList.contains('colorpicker-color-decoration')) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.onResult((result) => {\n\t\t\tthis._render(result.value, result.foundInEditor);\n\t\t}));\n\t\tthis._start(selection);\n\t\tthis._body.style.zIndex = '50';\n\t\tthis._editor.addContentWidget(this);\n\t}\n\n\tpublic updateEditor() {\n\t\tif (this._colorHover) {\n\t\t\tthis._standaloneColorPickerParticipant.updateEditorModel(this._colorHover);\n\t\t}\n\t}\n\n\tpublic getId(): string {\n\t\treturn StandaloneColorPickerWidget.ID;\n\t}\n\n\tpublic getDomNode(): HTMLElement {\n\t\treturn this._body;\n\t}\n\n\tpublic getPosition(): IContentWidgetPosition | null {\n\t\tif (!this._position) {\n\t\t\treturn null;\n\t\t}\n\t\tconst positionPreference = this._editor.getOption(EditorOption.hover).above;\n\t\treturn {\n\t\t\tposition: this._position,\n\t\t\tsecondaryPosition: this._position,\n\t\t\tpreference: positionPreference ? [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW] : [ContentWidgetPositionPreference.BELOW, ContentWidgetPositionPreference.ABOVE],\n\t\t\tpositionAffinity: PositionAffinity.None\n\t\t};\n\t}\n\n\tpublic hide(): void {\n\t\tthis.dispose();\n\t\tthis._standaloneColorPickerVisible.set(false);\n\t\tthis._standaloneColorPickerFocused.set(false);\n\t\tthis._editor.removeContentWidget(this);\n\t\tthis._editor.focus();\n\t}\n\n\tpublic focus(): void {\n\t\tthis._standaloneColorPickerFocused.set(true);\n\t\tthis._body.focus();\n\t}\n\n\tprivate async _start(selection: IRange) {\n\t\tconst computeAsyncResult = await this._computeAsync(selection);\n\t\tif (!computeAsyncResult) {\n\t\t\treturn;\n\t\t}\n\t\tthis._onResult.fire(new StandaloneColorPickerResult(computeAsyncResult.result, computeAsyncResult.foundInEditor));\n\t}\n\n\tprivate async _computeAsync(range: IRange): Promise<{ result: StandaloneColorPickerHover; foundInEditor: boolean } | null> {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn null;\n\t\t}\n\t\tconst colorInfo: IColorInformation = {\n\t\t\trange: range,\n\t\t\tcolor: { red: 0, green: 0, blue: 0, alpha: 1 }\n\t\t};\n\t\tconst colorHoverResult: { colorHover: StandaloneColorPickerHover; foundInEditor: boolean } | null = await this._standaloneColorPickerParticipant.createColorHover(colorInfo, new DefaultDocumentColorProvider(this._editorWorkerService), this._languageFeaturesService.colorProvider);\n\t\tif (!colorHoverResult) {\n\t\t\treturn null;\n\t\t}\n\t\treturn { result: colorHoverResult.colorHover, foundInEditor: colorHoverResult.foundInEditor };\n\t}\n\n\tprivate _render(colorHover: StandaloneColorPickerHover, foundInEditor: boolean) {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tthis._renderedStatusBar.value = this._register(new EditorHoverStatusBar(this._keybindingService, this._hoverService));\n\n\t\tconst context: IEditorHoverRenderContext = {\n\t\t\tfragment,\n\t\t\tstatusBar: this._renderedStatusBar.value,\n\t\t\tonContentsChanged: () => { },\n\t\t\tsetMinimumDimensions: () => { },\n\t\t\thide: () => this.hide(),\n\t\t\tfocus: () => this.focus()\n\t\t};\n\n\t\tthis._colorHover = colorHover;\n\t\tthis._renderedHoverParts.value = this._standaloneColorPickerParticipant.renderHoverParts(context, [colorHover]);\n\t\tif (!this._renderedHoverParts.value) {\n\t\t\tthis._renderedStatusBar.clear();\n\t\t\tthis._renderedHoverParts.clear();\n\t\t\treturn;\n\t\t}\n\t\tconst colorPicker = this._renderedHoverParts.value.colorPicker;\n\t\tthis._body.classList.add('standalone-colorpicker-body');\n\t\tthis._body.style.maxHeight = Math.max(this._editor.getLayoutInfo().height / 4, 250) + 'px';\n\t\tthis._body.style.maxWidth = Math.max(this._editor.getLayoutInfo().width * 0.66, 500) + 'px';\n\t\tthis._body.tabIndex = 0;\n\t\tthis._body.appendChild(fragment);\n\t\tcolorPicker.layout();\n\n\t\tconst colorPickerBody = colorPicker.body;\n\t\tconst saturationBoxWidth = colorPickerBody.saturationBox.domNode.clientWidth;\n\t\tconst widthOfOriginalColorBox = colorPickerBody.domNode.clientWidth - saturationBoxWidth - CLOSE_BUTTON_WIDTH - PADDING;\n\t\tconst enterButton: InsertButton | null = colorPicker.body.enterButton;\n\t\tenterButton?.onClicked(() => {\n\t\t\tthis.updateEditor();\n\t\t\tthis.hide();\n\t\t});\n\t\tconst colorPickerHeader = colorPicker.header;\n\t\tconst pickedColorNode = colorPickerHeader.pickedColorNode;\n\t\tpickedColorNode.style.width = saturationBoxWidth + PADDING + 'px';\n\t\tconst originalColorNode = colorPickerHeader.originalColorNode;\n\t\toriginalColorNode.style.width = widthOfOriginalColorBox + 'px';\n\t\tconst closeButton = colorPicker.header.closeButton;\n\t\tcloseButton?.onClicked(() => {\n\t\t\tthis.hide();\n\t\t});\n\t\t// When found in the editor, highlight the selection in the editor\n\t\tif (foundInEditor) {\n\t\t\tif (enterButton) {\n\t\t\t\tenterButton.button.textContent = 'Replace';\n\t\t\t}\n\t\t\tthis._selectionSetInEditor = true;\n\t\t\tthis._editor.setSelection(colorHover.range);\n\t\t}\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1793, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerController.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerController.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerController.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IContextKey, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { IEditorContribution } from '../../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../../common/editorContextKeys.js';\nimport { StandaloneColorPickerWidget } from './standaloneColorPickerWidget.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\n\nexport class StandaloneColorPickerController extends Disposable implements IEditorContribution {\n\n\tpublic static ID = 'editor.contrib.standaloneColorPickerController';\n\tprivate _standaloneColorPickerWidget: StandaloneColorPickerWidget | null = null;\n\tprivate _standaloneColorPickerVisible: IContextKey<boolean>;\n\tprivate _standaloneColorPickerFocused: IContextKey<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService _contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis._standaloneColorPickerVisible = EditorContextKeys.standaloneColorPickerVisible.bindTo(_contextKeyService);\n\t\tthis._standaloneColorPickerFocused = EditorContextKeys.standaloneColorPickerFocused.bindTo(_contextKeyService);\n\t}\n\n\tpublic showOrFocus() {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this._standaloneColorPickerVisible.get()) {\n\t\t\tthis._standaloneColorPickerWidget = this._instantiationService.createInstance(\n\t\t\t\tStandaloneColorPickerWidget,\n\t\t\t\tthis._editor,\n\t\t\t\tthis._standaloneColorPickerVisible,\n\t\t\t\tthis._standaloneColorPickerFocused\n\t\t\t);\n\t\t} else if (!this._standaloneColorPickerFocused.get()) {\n\t\t\tthis._standaloneColorPickerWidget?.focus();\n\t\t}\n\t}\n\n\tpublic hide() {\n\t\tthis._standaloneColorPickerFocused.set(false);\n\t\tthis._standaloneColorPickerVisible.set(false);\n\t\tthis._standaloneColorPickerWidget?.hide();\n\t\tthis._editor.focus();\n\t}\n\n\tpublic insertColor() {\n\t\tthis._standaloneColorPickerWidget?.updateEditor();\n\t\tthis.hide();\n\t}\n\n\tpublic static get(editor: ICodeEditor) {\n\t\treturn editor.getContribution<StandaloneColorPickerController>(StandaloneColorPickerController.ID);\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IContextKey, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { IEditorContribution } from '../../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../../common/editorContextKeys.js';\nimport { StandaloneColorPickerWidget } from './standaloneColorPickerWidget.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\n\nexport class StandaloneColorPickerController extends Disposable implements IEditorContribution {\n\n\tpublic static ID = 'editor.contrib.standaloneColorPickerController';\n\tprivate _standaloneColorPickerWidget: StandaloneColorPickerWidget | null = null;\n\tprivate _standaloneColorPickerVisible: IContextKey<boolean>;\n\tprivate _standaloneColorPickerFocused: IContextKey<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService _contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis._standaloneColorPickerVisible = EditorContextKeys.standaloneColorPickerVisible.bindTo(_contextKeyService);\n\t\tthis._standaloneColorPickerFocused = EditorContextKeys.standaloneColorPickerFocused.bindTo(_contextKeyService);\n\t}\n\n\tpublic showOrFocus() {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this._standaloneColorPickerVisible.get()) {\n\t\t\tthis._standaloneColorPickerWidget = this._instantiationService.createInstance(\n\t\t\t\tStandaloneColorPickerWidget,\n\t\t\t\tthis._editor,\n\t\t\t\tthis._standaloneColorPickerVisible,\n\t\t\t\tthis._standaloneColorPickerFocused\n\t\t\t);\n\t\t} else if (!this._standaloneColorPickerFocused.get()) {\n\t\t\tthis._standaloneColorPickerWidget?.focus();\n\t\t}\n\t}\n\n\tpublic hide() {\n\t\tthis._standaloneColorPickerFocused.set(false);\n\t\tthis._standaloneColorPickerVisible.set(false);\n\t\tthis._standaloneColorPickerWidget?.hide();\n\t\tthis._editor.focus();\n\t}\n\n\tpublic insertColor() {\n\t\tthis._standaloneColorPickerWidget?.updateEditor();\n\t\tthis.hide();\n\t}\n\n\tpublic static get(editor: ICodeEditor) {\n\t\treturn editor.getContribution<StandaloneColorPickerController>(StandaloneColorPickerController.ID);\n\t}\n}\n\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAEhG,OAAO,EAAe,kBAAkB,EAAE,MAAM,yDAAyD,CAAC;AAC1G,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AAGtG,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,2BAA2B,EAAE,MAAM,kCAAkC,CAAC;AAC/E,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;;;;;;;;;;;;;;;;;;AAE9D,IAAM,+BAA+B,GAArC,MAAM,+BAAgC,SAAQ,0LAAU;;;;;QAEhD,IAAA,CAAA,EAAE,GAAG,gDAAH,AAAmD,CAAC;IAAA,CAAA;IAKpE,YACkB,OAAoB,EACjB,kBAAsC,EACnC,qBAA6D,CAAA;QAEpF,KAAK,EAAE,CAAC;QAJS,IAAA,CAAA,OAAO,GAAP,OAAO,CAAa;QAEG,IAAA,CAAA,qBAAqB,GAArB,qBAAqB,CAAuB;QAP7E,IAAA,CAAA,4BAA4B,GAAuC,IAAI,CAAC;QAU/E,IAAI,CAAC,6BAA6B,GAAG,2MAAiB,CAAC,4BAA4B,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC/G,IAAI,CAAC,6BAA6B,GAAG,2MAAiB,CAAC,4BAA4B,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IAChH,CAAC;IAEM,WAAW,GAAA;QACjB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC9B,OAAO;QACR,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,EAAE,EAAE,CAAC;YAC/C,IAAI,CAAC,4BAA4B,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAC5E,mRAA2B,EAC3B,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,6BAA6B,EAClC,IAAI,CAAC,6BAA6B,CAClC,CAAC;QACH,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,EAAE,EAAE,CAAC;YACtD,IAAI,CAAC,4BAA4B,EAAE,KAAK,EAAE,CAAC;QAC5C,CAAC;IACF,CAAC;IAEM,IAAI,GAAA;QACV,IAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,6BAA6B,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,4BAA4B,EAAE,IAAI,EAAE,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACtB,CAAC;IAEM,WAAW,GAAA;QACjB,IAAI,CAAC,4BAA4B,EAAE,YAAY,EAAE,CAAC;QAClD,IAAI,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;IAEM,MAAM,CAAC,GAAG,CAAC,MAAmB,EAAA;QACpC,OAAO,MAAM,CAAC,eAAe,CAAkC,iCAA+B,CAAC,EAAE,CAAC,CAAC;IACpG,CAAC;;AA/CW,+BAA+B,GAAA,oCAAA,WAAA;IASzC,QAAA,GAAA,qNAAkB,CAAA;IAClB,QAAA,GAAA,8NAAqB,CAAA;GAVX,+BAA+B,CAgD3C","debugId":null}},
    {"offset": {"line": 1871, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerActions.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/vs/editor/contrib/colorPicker/browser/standaloneColorPicker/standaloneColorPickerActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { EditorAction, EditorAction2, ServicesAccessor } from '../../../../browser/editorExtensions.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { EditorContextKeys } from '../../../../common/editorContextKeys.js';\nimport { MenuId } from '../../../../../platform/actions/common/actions.js';\nimport { StandaloneColorPickerController } from './standaloneColorPickerController.js';\n\nexport class ShowOrFocusStandaloneColorPicker extends EditorAction2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.showOrFocusStandaloneColorPicker',\n\t\t\ttitle: {\n\t\t\t\t...localize2('showOrFocusStandaloneColorPicker', \"Show or Focus Standalone Color Picker\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'mishowOrFocusStandaloneColorPicker', comment: ['&& denotes a mnemonic'] }, \"&&Show or Focus Standalone Color Picker\"),\n\t\t\t},\n\t\t\tprecondition: undefined,\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.CommandPalette },\n\t\t\t],\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('showOrFocusStandaloneColorPickerDescription', \"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.\"),\n\t\t\t}\n\t\t});\n\t}\n\trunEditorCommand(_accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tStandaloneColorPickerController.get(editor)?.showOrFocus();\n\t}\n}\n\nexport class HideStandaloneColorPicker extends EditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.hideColorPicker',\n\t\t\tlabel: localize2({\n\t\t\t\tkey: 'hideColorPicker',\n\t\t\t\tcomment: [\n\t\t\t\t\t'Action that hides the color picker'\n\t\t\t\t]\n\t\t\t}, \"Hide the Color Picker\"),\n\t\t\tprecondition: EditorContextKeys.standaloneColorPickerVisible.isEqualTo(true),\n\t\t\tkbOpts: {\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('hideColorPickerDescription', \"Hide the standalone color picker.\"),\n\t\t\t}\n\t\t});\n\t}\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tStandaloneColorPickerController.get(editor)?.hide();\n\t}\n}\n\nexport class InsertColorWithStandaloneColorPicker extends EditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.insertColorWithStandaloneColorPicker',\n\t\t\tlabel: localize2({\n\t\t\t\tkey: 'insertColorWithStandaloneColorPicker',\n\t\t\t\tcomment: [\n\t\t\t\t\t'Action that inserts color with standalone color picker'\n\t\t\t\t]\n\t\t\t}, \"Insert Color with Standalone Color Picker\"),\n\t\t\tprecondition: EditorContextKeys.standaloneColorPickerFocused.isEqualTo(true),\n\t\t\tkbOpts: {\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('insertColorWithStandaloneColorPickerDescription', \"Insert hex/rgb/hsl colors with the focused standalone color picker.\"),\n\t\t\t}\n\t\t});\n\t}\n\tpublic run(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tStandaloneColorPickerController.get(editor)?.insertColor();\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;AAGhG,OAAO,EAAE,YAAY,EAAE,aAAa,EAAoB,MAAM,yCAAyC,CAAC;AAExG,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAC;AAE5D,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,MAAM,EAAE,MAAM,mDAAmD,CAAC;AAC3E,OAAO,EAAE,+BAA+B,EAAE,MAAM,sCAAsC,CAAC;;;;;;AAEjF,MAAO,gCAAiC,SAAQ,uMAAa;IAClE,aAAA;QACC,KAAK,CAAC;YACL,EAAE,EAAE,gDAAgD;YACpD,KAAK,EAAE;gBACN,OAAG,iLAAS,EAAC,GAAkC,EAAE,uCAAuC,CAAC;gBACzF,aAAa,MAAE,gLAAQ,EAAC,EAAE,CAA+E,EAAE,EAA5E,oCAAoC,EAAE,CAA+E,CAAC,KAAzE,EAAE,CAAC,uBAAuB,CAAC;aACvG;YACD,YAAY,EAAE,SAAS;YACvB,IAAI,EAAE;gBACL;oBAAE,EAAE,EAAE,mMAAM,CAAC,cAAc;gBAAA,CAAE;aAC7B;YACD,QAAQ,EAAE;gBACT,WAAW,MAAE,iLAAS,EAAC,GAA6C,EAAE,gHAAgH,CAAC;aACvL;SACD,CAAC,CAAC;IACJ,CAAC;IACD,gBAAgB,CAAC,SAA2B,EAAE,MAAmB,EAAA;QAChE,2RAA+B,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,CAAC;IAC5D,CAAC;CACD;AAEK,MAAO,yBAA0B,SAAQ,sMAAY;IAC1D,aAAA;QACC,KAAK,CAAC;YACL,EAAE,EAAE,+BAA+B;YACnC,KAAK,MAAE,iLAAS,EAAC,KAAA;YAMjB,YAAY,EAAE,2MAAiB,CAAC,4BAA4B,CAAC,SAAS,CAAC,IAAI,CAAC;YAC5E,MAAM,EAAE;gBACP,OAAO,EAAA,EAAA,kBAAA,EAAgB;gBACvB,MAAM,EAAA,IAAA,kCAAA,EAAgC;aACtC;YACD,QAAQ,EAAE;gBACT,WAAW,MAAE,iLAAS,EAAC,GAA4B,EAAE,mCAAmC,CAAC;aACzF;SACD,CAAC,CAAC;IACJ,CAAC;IACM,GAAG,CAAC,SAA2B,EAAE,MAAmB,EAAA;QAC1D,2RAA+B,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC;IACrD,CAAC;CACD;AAEK,MAAO,oCAAqC,SAAQ,sMAAY;IACrE,aAAA;QACC,KAAK,CAAC;YACL,EAAE,EAAE,oDAAoD;YACxD,KAAK,MAAE,iLAAS,EAAC,KAAA;YAMjB,YAAY,EAAE,2MAAiB,CAAC,4BAA4B,CAAC,SAAS,CAAC,IAAI,CAAC;YAC5E,MAAM,EAAE;gBACP,OAAO,EAAA,EAAA,iBAAA,EAAe;gBACtB,MAAM,EAAA,IAAA,kCAAA,EAAgC;aACtC;YACD,QAAQ,EAAE;gBACT,WAAW,MAAE,iLAAS,EAAC,GAAiD,EAAE,qEAAqE,CAAC;aAChJ;SACD,CAAC,CAAC;IACJ,CAAC;IACM,GAAG,CAAC,SAA2B,EAAE,MAAmB,EAAA;QAC1D,2RAA+B,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,WAAW,EAAE,CAAC;IAC5D,CAAC;CACD","debugId":null}},
    {"offset": {"line": 1957, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorPickerContribution.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/colorPicker/browser/colorPickerContribution.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/vs/editor/contrib/colorPicker/browser/colorPickerContribution.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument } from '../../../../base/common/errors.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { EditorContributionInstantiation, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { IColorPresentation } from '../../../common/languages.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { _findColorData, _setupColorCommand, ColorPresentationsCollector, ExtColorDataCollector, IExtColorData } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { DefaultDocumentColorProviderFeature } from './defaultDocumentColorProvider.js';\nimport { HoverColorPickerContribution } from './hoverColorPicker/hoverColorPickerContribution.js';\nimport { HoverColorPickerParticipant } from './hoverColorPicker/hoverColorPickerParticipant.js';\nimport { HideStandaloneColorPicker, InsertColorWithStandaloneColorPicker, ShowOrFocusStandaloneColorPicker } from './standaloneColorPicker/standaloneColorPickerActions.js';\nimport { StandaloneColorPickerController } from './standaloneColorPicker/standaloneColorPickerController.js';\nimport { Range } from '../../../common/core/range.js';\n\nregisterEditorAction(HideStandaloneColorPicker);\nregisterEditorAction(InsertColorWithStandaloneColorPicker);\nregisterAction2(ShowOrFocusStandaloneColorPicker);\n\nregisterEditorContribution(HoverColorPickerContribution.ID, HoverColorPickerContribution, EditorContributionInstantiation.BeforeFirstInteraction);\nregisterEditorContribution(StandaloneColorPickerController.ID, StandaloneColorPickerController, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorContribution(ColorDetector.ID, ColorDetector, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorFeature(DefaultDocumentColorProviderFeature);\n\nHoverParticipantRegistry.register(HoverColorPickerParticipant);\n\nCommandsRegistry.registerCommand('_executeDocumentColorProvider', function (accessor, ...args) {\n\tconst [resource] = args;\n\tif (!(resource instanceof URI)) {\n\t\tthrow illegalArgument();\n\t}\n\tconst { model, colorProviderRegistry, defaultColorDecoratorsEnablement } = _setupColorCommand(accessor, resource);\n\treturn _findColorData<IExtColorData>(new ExtColorDataCollector(), colorProviderRegistry, model, CancellationToken.None, defaultColorDecoratorsEnablement);\n});\n\nCommandsRegistry.registerCommand('_executeColorPresentationProvider', function (accessor, ...args) {\n\tconst [color, context] = args;\n\tconst { uri, range } = context;\n\tif (!(uri instanceof URI) || !Array.isArray(color) || color.length !== 4 || !Range.isIRange(range)) {\n\t\tthrow illegalArgument();\n\t}\n\tconst { model, colorProviderRegistry, defaultColorDecoratorsEnablement } = _setupColorCommand(accessor, uri);\n\tconst [red, green, blue, alpha] = color;\n\treturn _findColorData<IColorPresentation>(new ColorPresentationsCollector({ range: range, color: { red, green, blue, alpha } }), colorProviderRegistry, model, CancellationToken.None, defaultColorDecoratorsEnablement);\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument } from '../../../../base/common/errors.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { EditorContributionInstantiation, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { IColorPresentation } from '../../../common/languages.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { _findColorData, _setupColorCommand, ColorPresentationsCollector, ExtColorDataCollector, IExtColorData } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { DefaultDocumentColorProviderFeature } from './defaultDocumentColorProvider.js';\nimport { HoverColorPickerContribution } from './hoverColorPicker/hoverColorPickerContribution.js';\nimport { HoverColorPickerParticipant } from './hoverColorPicker/hoverColorPickerParticipant.js';\nimport { HideStandaloneColorPicker, InsertColorWithStandaloneColorPicker, ShowOrFocusStandaloneColorPicker } from './standaloneColorPicker/standaloneColorPickerActions.js';\nimport { StandaloneColorPickerController } from './standaloneColorPicker/standaloneColorPickerController.js';\nimport { Range } from '../../../common/core/range.js';\n\nregisterEditorAction(HideStandaloneColorPicker);\nregisterEditorAction(InsertColorWithStandaloneColorPicker);\nregisterAction2(ShowOrFocusStandaloneColorPicker);\n\nregisterEditorContribution(HoverColorPickerContribution.ID, HoverColorPickerContribution, EditorContributionInstantiation.BeforeFirstInteraction);\nregisterEditorContribution(StandaloneColorPickerController.ID, StandaloneColorPickerController, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorContribution(ColorDetector.ID, ColorDetector, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorFeature(DefaultDocumentColorProviderFeature);\n\nHoverParticipantRegistry.register(HoverColorPickerParticipant);\n\nCommandsRegistry.registerCommand('_executeDocumentColorProvider', function (accessor, ...args) {\n\tconst [resource] = args;\n\tif (!(resource instanceof URI)) {\n\t\tthrow illegalArgument();\n\t}\n\tconst { model, colorProviderRegistry, defaultColorDecoratorsEnablement } = _setupColorCommand(accessor, resource);\n\treturn _findColorData<IExtColorData>(new ExtColorDataCollector(), colorProviderRegistry, model, CancellationToken.None, defaultColorDecoratorsEnablement);\n});\n\nCommandsRegistry.registerCommand('_executeColorPresentationProvider', function (accessor, ...args) {\n\tconst [color, context] = args;\n\tconst { uri, range } = context;\n\tif (!(uri instanceof URI) || !Array.isArray(color) || color.length !== 4 || !Range.isIRange(range)) {\n\t\tthrow illegalArgument();\n\t}\n\tconst { model, colorProviderRegistry, defaultColorDecoratorsEnablement } = _setupColorCommand(accessor, uri);\n\tconst [red, green, blue, alpha] = color;\n\treturn _findColorData<IColorPresentation>(new ColorPresentationsCollector({ range: range, color: { red, green, blue, alpha } }), colorProviderRegistry, model, CancellationToken.None, defaultColorDecoratorsEnablement);\n});\n"],"names":[],"mappings":"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","debugId":null}}]
}