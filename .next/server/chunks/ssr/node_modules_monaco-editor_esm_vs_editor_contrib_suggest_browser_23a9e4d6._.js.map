{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggest.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggest.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { CancellationError, isCancellationError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { DisposableStore, IDisposable, isDisposable } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IEditorContribution } from '../../../common/editorCommon.js';\nimport { ITextModel } from '../../../common/model.js';\nimport * as languages from '../../../common/languages.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { SnippetParser } from '../../snippet/browser/snippetParser.js';\nimport { localize } from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { historyNavigationVisible } from '../../../../platform/history/browser/contextScopedHistoryWidget.js';\nimport { InternalQuickSuggestionsOptions, QuickSuggestionsValue } from '../../../common/config/editorOptions.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { StandardTokenType } from '../../../common/encodedTokenAttributes.js';\n\nexport const Context = {\n\tVisible: historyNavigationVisible,\n\tHasFocusedSuggestion: new RawContextKey<boolean>('suggestWidgetHasFocusedSuggestion', false, localize('suggestWidgetHasSelection', \"Whether any suggestion is focused\")),\n\tDetailsVisible: new RawContextKey<boolean>('suggestWidgetDetailsVisible', false, localize('suggestWidgetDetailsVisible', \"Whether suggestion details are visible\")),\n\tMultipleSuggestions: new RawContextKey<boolean>('suggestWidgetMultipleSuggestions', false, localize('suggestWidgetMultipleSuggestions', \"Whether there are multiple suggestions to pick from\")),\n\tMakesTextEdit: new RawContextKey<boolean>('suggestionMakesTextEdit', true, localize('suggestionMakesTextEdit', \"Whether inserting the current suggestion yields in a change or has everything already been typed\")),\n\tAcceptSuggestionsOnEnter: new RawContextKey<boolean>('acceptSuggestionOnEnter', true, localize('acceptSuggestionOnEnter', \"Whether suggestions are inserted when pressing Enter\")),\n\tHasInsertAndReplaceRange: new RawContextKey<boolean>('suggestionHasInsertAndReplaceRange', false, localize('suggestionHasInsertAndReplaceRange', \"Whether the current suggestion has insert and replace behaviour\")),\n\tInsertMode: new RawContextKey<'insert' | 'replace'>('suggestionInsertMode', undefined, { type: 'string', description: localize('suggestionInsertMode', \"Whether the default behaviour is to insert or replace\") }),\n\tCanResolve: new RawContextKey<boolean>('suggestionCanResolve', false, localize('suggestionCanResolve', \"Whether the current suggestion supports to resolve further details\")),\n};\n\nexport const suggestWidgetStatusbarMenu = new MenuId('suggestWidgetStatusBar');\n\nexport class CompletionItem {\n\n\t//\n\treadonly editStart: IPosition;\n\treadonly editInsertEnd: IPosition;\n\treadonly editReplaceEnd: IPosition;\n\n\t//\n\treadonly textLabel: string;\n\n\t// perf\n\treadonly labelLow: string;\n\treadonly sortTextLow?: string;\n\treadonly filterTextLow?: string;\n\n\t// validation\n\treadonly isInvalid: boolean = false;\n\n\t// sorting, filtering\n\tscore: FuzzyScore = FuzzyScore.Default;\n\tdistance: number = 0;\n\tidx?: number;\n\tword?: string;\n\n\t// instrumentation\n\treadonly extensionId?: ExtensionIdentifier;\n\n\t// resolving\n\tprivate _resolveDuration?: number;\n\tprivate _resolveCache?: Promise<void>;\n\n\tconstructor(\n\t\treadonly position: IPosition,\n\t\treadonly completion: languages.CompletionItem,\n\t\treadonly container: languages.CompletionList,\n\t\treadonly provider: languages.CompletionItemProvider,\n\t) {\n\t\tthis.textLabel = typeof completion.label === 'string'\n\t\t\t? completion.label\n\t\t\t: completion.label?.label;\n\n\t\t// ensure lower-variants (perf)\n\t\tthis.labelLow = this.textLabel.toLowerCase();\n\n\t\t// validate label\n\t\tthis.isInvalid = !this.textLabel;\n\n\t\tthis.sortTextLow = completion.sortText && completion.sortText.toLowerCase();\n\t\tthis.filterTextLow = completion.filterText && completion.filterText.toLowerCase();\n\n\t\tthis.extensionId = completion.extensionId;\n\n\t\t// normalize ranges\n\t\tif (Range.isIRange(completion.range)) {\n\t\t\tthis.editStart = new Position(completion.range.startLineNumber, completion.range.startColumn);\n\t\t\tthis.editInsertEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\n\t\t\tthis.editReplaceEnd = new Position(completion.range.endLineNumber, completion.range.endColumn);\n\n\t\t\t// validate range\n\t\t\tthis.isInvalid = this.isInvalid\n\t\t\t\t|| Range.spansMultipleLines(completion.range) || completion.range.startLineNumber !== position.lineNumber;\n\n\t\t} else {\n\t\t\tthis.editStart = new Position(completion.range.insert.startLineNumber, completion.range.insert.startColumn);\n\t\t\tthis.editInsertEnd = new Position(completion.range.insert.endLineNumber, completion.range.insert.endColumn);\n\t\t\tthis.editReplaceEnd = new Position(completion.range.replace.endLineNumber, completion.range.replace.endColumn);\n\n\t\t\t// validate ranges\n\t\t\tthis.isInvalid = this.isInvalid\n\t\t\t\t|| Range.spansMultipleLines(completion.range.insert) || Range.spansMultipleLines(completion.range.replace)\n\t\t\t\t|| completion.range.insert.startLineNumber !== position.lineNumber || completion.range.replace.startLineNumber !== position.lineNumber\n\t\t\t\t|| completion.range.insert.startColumn !== completion.range.replace.startColumn;\n\t\t}\n\n\t\t// create the suggestion resolver\n\t\tif (typeof provider.resolveCompletionItem !== 'function') {\n\t\t\tthis._resolveCache = Promise.resolve();\n\t\t\tthis._resolveDuration = 0;\n\t\t}\n\t}\n\n\t// ---- resolving\n\n\tget isResolved(): boolean {\n\t\treturn this._resolveDuration !== undefined;\n\t}\n\n\tget resolveDuration(): number {\n\t\treturn this._resolveDuration !== undefined ? this._resolveDuration : -1;\n\t}\n\n\tasync resolve(token: CancellationToken) {\n\t\tif (!this._resolveCache) {\n\t\t\tconst sub = token.onCancellationRequested(() => {\n\t\t\t\tthis._resolveCache = undefined;\n\t\t\t\tthis._resolveDuration = undefined;\n\t\t\t});\n\t\t\tconst sw = new StopWatch(true);\n\t\t\tthis._resolveCache = Promise.resolve(this.provider.resolveCompletionItem!(this.completion, token)).then(value => {\n\t\t\t\tObject.assign(this.completion, value);\n\t\t\t\tthis._resolveDuration = sw.elapsed();\n\t\t\t}, err => {\n\t\t\t\tif (isCancellationError(err)) {\n\t\t\t\t\t// the IPC queue will reject the request with the\n\t\t\t\t\t// cancellation error -> reset cached\n\t\t\t\t\tthis._resolveCache = undefined;\n\t\t\t\t\tthis._resolveDuration = undefined;\n\t\t\t\t}\n\t\t\t}).finally(() => {\n\t\t\t\tsub.dispose();\n\t\t\t});\n\t\t}\n\t\treturn this._resolveCache;\n\t}\n}\n\nexport const enum SnippetSortOrder {\n\tTop, Inline, Bottom\n}\n\nexport class CompletionOptions {\n\n\tstatic readonly default = new CompletionOptions();\n\n\tconstructor(\n\t\treadonly snippetSortOrder = SnippetSortOrder.Bottom,\n\t\treadonly kindFilter = new Set<languages.CompletionItemKind>(),\n\t\treadonly providerFilter = new Set<languages.CompletionItemProvider>(),\n\t\treadonly providerItemsToReuse: ReadonlyMap<languages.CompletionItemProvider, CompletionItem[]> = new Map<languages.CompletionItemProvider, CompletionItem[]>(),\n\t\treadonly showDeprecated = true\n\t) { }\n}\n\nlet _snippetSuggestSupport: languages.CompletionItemProvider | undefined;\n\nexport function getSnippetSuggestSupport(): languages.CompletionItemProvider | undefined {\n\treturn _snippetSuggestSupport;\n}\n\nexport interface CompletionDurationEntry {\n\treadonly providerName: string;\n\treadonly elapsedProvider: number;\n\treadonly elapsedOverall: number;\n}\n\nexport interface CompletionDurations {\n\treadonly entries: readonly CompletionDurationEntry[];\n\treadonly elapsed: number;\n}\n\nexport class CompletionItemModel {\n\tconstructor(\n\t\treadonly items: CompletionItem[],\n\t\treadonly needsClipboard: boolean,\n\t\treadonly durations: CompletionDurations,\n\t\treadonly disposable: IDisposable,\n\t) { }\n}\n\nexport async function provideSuggestionItems(\n\tregistry: LanguageFeatureRegistry<languages.CompletionItemProvider>,\n\tmodel: ITextModel,\n\tposition: Position,\n\toptions: CompletionOptions = CompletionOptions.default,\n\tcontext: languages.CompletionContext = { triggerKind: languages.CompletionTriggerKind.Invoke },\n\ttoken: CancellationToken = CancellationToken.None\n): Promise<CompletionItemModel> {\n\n\tconst sw = new StopWatch();\n\tposition = position.clone();\n\n\tconst word = model.getWordAtPosition(position);\n\tconst defaultReplaceRange = word ? new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn) : Range.fromPositions(position);\n\tconst defaultRange = { replace: defaultReplaceRange, insert: defaultReplaceRange.setEndPosition(position.lineNumber, position.column) };\n\n\tconst result: CompletionItem[] = [];\n\tconst disposables = new DisposableStore();\n\tconst durations: CompletionDurationEntry[] = [];\n\tlet needsClipboard = false;\n\n\tconst onCompletionList = (provider: languages.CompletionItemProvider, container: languages.CompletionList | null | undefined, sw: StopWatch): boolean => {\n\t\tlet didAddResult = false;\n\t\tif (!container) {\n\t\t\treturn didAddResult;\n\t\t}\n\t\tfor (const suggestion of container.suggestions) {\n\t\t\tif (!options.kindFilter.has(suggestion.kind)) {\n\t\t\t\t// skip if not showing deprecated suggestions\n\t\t\t\tif (!options.showDeprecated && suggestion?.tags?.includes(languages.CompletionItemTag.Deprecated)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// fill in default range when missing\n\t\t\t\tif (!suggestion.range) {\n\t\t\t\t\tsuggestion.range = defaultRange;\n\t\t\t\t}\n\t\t\t\t// fill in default sortText when missing\n\t\t\t\tif (!suggestion.sortText) {\n\t\t\t\t\tsuggestion.sortText = typeof suggestion.label === 'string' ? suggestion.label : suggestion.label.label;\n\t\t\t\t}\n\t\t\t\tif (!needsClipboard && suggestion.insertTextRules && suggestion.insertTextRules & languages.CompletionItemInsertTextRule.InsertAsSnippet) {\n\t\t\t\t\tneedsClipboard = SnippetParser.guessNeedsClipboard(suggestion.insertText);\n\t\t\t\t}\n\t\t\t\tresult.push(new CompletionItem(position, suggestion, container, provider));\n\t\t\t\tdidAddResult = true;\n\t\t\t}\n\t\t}\n\t\tif (isDisposable(container)) {\n\t\t\tdisposables.add(container);\n\t\t}\n\t\tdurations.push({\n\t\t\tproviderName: provider._debugDisplayName ?? 'unknown_provider', elapsedProvider: container.duration ?? -1, elapsedOverall: sw.elapsed()\n\t\t});\n\t\treturn didAddResult;\n\t};\n\n\t// ask for snippets in parallel to asking \"real\" providers. Only do something if configured to\n\t// do so - no snippet filter, no special-providers-only request\n\tconst snippetCompletions = (async () => {\n\t\tif (!_snippetSuggestSupport || options.kindFilter.has(languages.CompletionItemKind.Snippet)) {\n\t\t\treturn;\n\t\t}\n\t\t// we have items from a previous session that we can reuse\n\t\tconst reuseItems = options.providerItemsToReuse.get(_snippetSuggestSupport);\n\t\tif (reuseItems) {\n\t\t\treuseItems.forEach(item => result.push(item));\n\t\t\treturn;\n\t\t}\n\t\tif (options.providerFilter.size > 0 && !options.providerFilter.has(_snippetSuggestSupport)) {\n\t\t\treturn;\n\t\t}\n\t\tconst sw = new StopWatch();\n\t\tconst list = await _snippetSuggestSupport.provideCompletionItems(model, position, context, token);\n\t\tonCompletionList(_snippetSuggestSupport, list, sw);\n\t})();\n\n\t// add suggestions from contributed providers - providers are ordered in groups of\n\t// equal score and once a group produces a result the process stops\n\t// get provider groups, always add snippet suggestion provider\n\tfor (const providerGroup of registry.orderedGroups(model)) {\n\n\t\t// for each support in the group ask for suggestions\n\t\tlet didAddResult = false;\n\t\tawait Promise.all(providerGroup.map(async provider => {\n\t\t\t// we have items from a previous session that we can reuse\n\t\t\tif (options.providerItemsToReuse.has(provider)) {\n\t\t\t\tconst items = options.providerItemsToReuse.get(provider)!;\n\t\t\t\titems.forEach(item => result.push(item));\n\t\t\t\tdidAddResult = didAddResult || items.length > 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// check if this provider is filtered out\n\t\t\tif (options.providerFilter.size > 0 && !options.providerFilter.has(provider)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tconst sw = new StopWatch();\n\t\t\t\tconst list = await provider.provideCompletionItems(model, position, context, token);\n\t\t\t\tdidAddResult = onCompletionList(provider, list, sw) || didAddResult;\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedExternalError(err);\n\t\t\t}\n\t\t}));\n\n\t\tif (didAddResult || token.isCancellationRequested) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tawait snippetCompletions;\n\n\tif (token.isCancellationRequested) {\n\t\tdisposables.dispose();\n\t\treturn Promise.reject<any>(new CancellationError());\n\t}\n\n\treturn new CompletionItemModel(\n\t\tresult.sort(getSuggestionComparator(options.snippetSortOrder)),\n\t\tneedsClipboard,\n\t\t{ entries: durations, elapsed: sw.elapsed() },\n\t\tdisposables,\n\t);\n}\n\n\nfunction defaultComparator(a: CompletionItem, b: CompletionItem): number {\n\t// check with 'sortText'\n\tif (a.sortTextLow && b.sortTextLow) {\n\t\tif (a.sortTextLow < b.sortTextLow) {\n\t\t\treturn -1;\n\t\t} else if (a.sortTextLow > b.sortTextLow) {\n\t\t\treturn 1;\n\t\t}\n\t}\n\t// check with 'label'\n\tif (a.textLabel < b.textLabel) {\n\t\treturn -1;\n\t} else if (a.textLabel > b.textLabel) {\n\t\treturn 1;\n\t}\n\t// check with 'type'\n\treturn a.completion.kind - b.completion.kind;\n}\n\nfunction snippetUpComparator(a: CompletionItem, b: CompletionItem): number {\n\tif (a.completion.kind !== b.completion.kind) {\n\t\tif (a.completion.kind === languages.CompletionItemKind.Snippet) {\n\t\t\treturn -1;\n\t\t} else if (b.completion.kind === languages.CompletionItemKind.Snippet) {\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn defaultComparator(a, b);\n}\n\nfunction snippetDownComparator(a: CompletionItem, b: CompletionItem): number {\n\tif (a.completion.kind !== b.completion.kind) {\n\t\tif (a.completion.kind === languages.CompletionItemKind.Snippet) {\n\t\t\treturn 1;\n\t\t} else if (b.completion.kind === languages.CompletionItemKind.Snippet) {\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn defaultComparator(a, b);\n}\n\ninterface Comparator<T> { (a: T, b: T): number }\nconst _snippetComparators = new Map<SnippetSortOrder, Comparator<CompletionItem>>();\n_snippetComparators.set(SnippetSortOrder.Top, snippetUpComparator);\n_snippetComparators.set(SnippetSortOrder.Bottom, snippetDownComparator);\n_snippetComparators.set(SnippetSortOrder.Inline, defaultComparator);\n\nexport function getSuggestionComparator(snippetConfig: SnippetSortOrder): (a: CompletionItem, b: CompletionItem) => number {\n\treturn _snippetComparators.get(snippetConfig)!;\n}\n\nCommandsRegistry.registerCommand('_executeCompletionItemProvider', async (accessor, ...args: [URI, IPosition, string?, number?]) => {\n\tconst [uri, position, triggerCharacter, maxItemsToResolve] = args;\n\tassertType(URI.isUri(uri));\n\tassertType(Position.isIPosition(position));\n\tassertType(typeof triggerCharacter === 'string' || !triggerCharacter);\n\tassertType(typeof maxItemsToResolve === 'number' || !maxItemsToResolve);\n\n\tconst { completionProvider } = accessor.get(ILanguageFeaturesService);\n\tconst ref = await accessor.get(ITextModelService).createModelReference(uri);\n\ttry {\n\n\t\tconst result: languages.CompletionList = {\n\t\t\tincomplete: false,\n\t\t\tsuggestions: []\n\t\t};\n\n\t\tconst resolving: Promise<any>[] = [];\n\t\tconst actualPosition = ref.object.textEditorModel.validatePosition(position);\n\t\tconst completions = await provideSuggestionItems(completionProvider, ref.object.textEditorModel, actualPosition, undefined, { triggerCharacter: triggerCharacter ?? undefined, triggerKind: triggerCharacter ? languages.CompletionTriggerKind.TriggerCharacter : languages.CompletionTriggerKind.Invoke });\n\t\tfor (const item of completions.items) {\n\t\t\tif (resolving.length < (maxItemsToResolve ?? 0)) {\n\t\t\t\tresolving.push(item.resolve(CancellationToken.None));\n\t\t\t}\n\t\t\tresult.incomplete = result.incomplete || item.container.incomplete;\n\t\t\tresult.suggestions.push(item.completion);\n\t\t}\n\n\t\ttry {\n\t\t\tawait Promise.all(resolving);\n\t\t\treturn result;\n\t\t} finally {\n\t\t\tsetTimeout(() => completions.disposable.dispose(), 100);\n\t\t}\n\n\t} finally {\n\t\tref.dispose();\n\t}\n\n});\n\ninterface SuggestController extends IEditorContribution {\n\ttriggerSuggest(onlyFrom?: Set<languages.CompletionItemProvider>, auto?: boolean, noFilter?: boolean): void;\n}\n\nexport function showSimpleSuggestions(editor: ICodeEditor, provider: languages.CompletionItemProvider) {\n\teditor.getContribution<SuggestController>('editor.contrib.suggestController')?.triggerSuggest(\n\t\tnew Set<languages.CompletionItemProvider>().add(provider), undefined, true\n\t);\n}\n\nexport interface ISuggestItemPreselector {\n\t/**\n\t * The preselector with highest priority is asked first.\n\t*/\n\treadonly priority: number;\n\n\t/**\n\t * Is called to preselect a suggest item.\n\t * When -1 is returned, item preselectors with lower priority are asked.\n\t*/\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number | -1;\n}\n\n\nexport abstract class QuickSuggestionsOptions {\n\n\tstatic isAllOff(config: InternalQuickSuggestionsOptions): boolean {\n\t\treturn config.other === 'off' && config.comments === 'off' && config.strings === 'off';\n\t}\n\n\tstatic isAllOn(config: InternalQuickSuggestionsOptions): boolean {\n\t\treturn config.other === 'on' && config.comments === 'on' && config.strings === 'on';\n\t}\n\n\tstatic valueFor(config: InternalQuickSuggestionsOptions, tokenType: StandardTokenType): QuickSuggestionsValue {\n\t\tswitch (tokenType) {\n\t\t\tcase StandardTokenType.Comment: return config.comments;\n\t\t\tcase StandardTokenType.String: return config.strings;\n\t\t\tdefault: return config.other;\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestMemory.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestMemory.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestMemory.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { TernarySearchTree } from '../../../../base/common/ternarySearchTree.js';\nimport { IPosition } from '../../../common/core/position.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { CompletionItemKind, CompletionItemKinds } from '../../../common/languages.js';\nimport { CompletionItem } from './suggest.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, StorageScope, StorageTarget, WillSaveStateReason } from '../../../../platform/storage/common/storage.js';\n\nexport abstract class Memory {\n\n\tconstructor(readonly name: MemMode) { }\n\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\tif (items.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst topScore = items[0].score[0];\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst { score, completion: suggestion } = items[i];\n\t\t\tif (score[0] !== topScore) {\n\t\t\t\t// stop when leaving the group of top matches\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (suggestion.preselect) {\n\t\t\t\t// stop when seeing an auto-select-item\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\n\tabstract memorize(model: ITextModel, pos: IPosition, item: CompletionItem): void;\n\n\tabstract toJSON(): object | undefined;\n\n\tabstract fromJSON(data: object): void;\n}\n\nexport class NoMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('first');\n\t}\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\t// no-op\n\t}\n\n\ttoJSON() {\n\t\treturn undefined;\n\t}\n\n\tfromJSON() {\n\t\t//\n\t}\n}\n\nexport interface MemItem {\n\ttype: string | CompletionItemKind;\n\tinsertText: string;\n\ttouch: number;\n}\n\nexport class LRUMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('recentlyUsed');\n\t}\n\n\tprivate _cache = new LRUCache<string, MemItem>(300, 0.66);\n\tprivate _seq = 0;\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tconst key = `${model.getLanguageId()}/${item.textLabel}`;\n\t\tthis._cache.set(key, {\n\t\t\ttouch: this._seq++,\n\t\t\ttype: item.completion.kind,\n\t\t\tinsertText: item.completion.insertText\n\t\t});\n\t}\n\n\toverride select(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\n\t\tif (items.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\n\t\tif (/\\s$/.test(lineSuffix)) {\n\t\t\treturn super.select(model, pos, items);\n\t\t}\n\n\t\tconst topScore = items[0].score[0];\n\t\tlet indexPreselect = -1;\n\t\tlet indexRecency = -1;\n\t\tlet seq = -1;\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].score[0] !== topScore) {\n\t\t\t\t// consider only top items\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst key = `${model.getLanguageId()}/${items[i].textLabel}`;\n\t\t\tconst item = this._cache.peek(key);\n\t\t\tif (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\n\t\t\t\tseq = item.touch;\n\t\t\t\tindexRecency = i;\n\t\t\t}\n\t\t\tif (items[i].completion.preselect && indexPreselect === -1) {\n\t\t\t\t// stop when seeing an auto-select-item\n\t\t\t\treturn indexPreselect = i;\n\t\t\t}\n\t\t}\n\t\tif (indexRecency !== -1) {\n\t\t\treturn indexRecency;\n\t\t} else if (indexPreselect !== -1) {\n\t\t\treturn indexPreselect;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\ttoJSON(): object {\n\t\treturn this._cache.toJSON();\n\t}\n\n\tfromJSON(data: [string, MemItem][]): void {\n\t\tthis._cache.clear();\n\t\tconst seq = 0;\n\t\tfor (const [key, value] of data) {\n\t\t\tvalue.touch = seq;\n\t\t\tvalue.type = typeof value.type === 'number' ? value.type : CompletionItemKinds.fromString(value.type);\n\t\t\tthis._cache.set(key, value);\n\t\t}\n\t\tthis._seq = this._cache.size;\n\t}\n}\n\n\nexport class PrefixMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('recentlyUsedByPrefix');\n\t}\n\n\tprivate _trie = TernarySearchTree.forStrings<MemItem>();\n\tprivate _seq = 0;\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tconst { word } = model.getWordUntilPosition(pos);\n\t\tconst key = `${model.getLanguageId()}/${word}`;\n\t\tthis._trie.set(key, {\n\t\t\ttype: item.completion.kind,\n\t\t\tinsertText: item.completion.insertText,\n\t\t\ttouch: this._seq++\n\t\t});\n\t}\n\n\toverride select(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\tconst { word } = model.getWordUntilPosition(pos);\n\t\tif (!word) {\n\t\t\treturn super.select(model, pos, items);\n\t\t}\n\t\tconst key = `${model.getLanguageId()}/${word}`;\n\t\tlet item = this._trie.get(key);\n\t\tif (!item) {\n\t\t\titem = this._trie.findSubstr(key);\n\t\t}\n\t\tif (item) {\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tconst { kind, insertText } = items[i].completion;\n\t\t\t\tif (kind === item.type && insertText === item.insertText) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn super.select(model, pos, items);\n\t}\n\n\ttoJSON(): object {\n\n\t\tconst entries: [string, MemItem][] = [];\n\t\tthis._trie.forEach((value, key) => entries.push([key, value]));\n\n\t\t// sort by last recently used (touch), then\n\t\t// take the top 200 item and normalize their\n\t\t// touch\n\t\tentries\n\t\t\t.sort((a, b) => -(a[1].touch - b[1].touch))\n\t\t\t.forEach((value, i) => value[1].touch = i);\n\n\t\treturn entries.slice(0, 200);\n\t}\n\n\tfromJSON(data: [string, MemItem][]): void {\n\t\tthis._trie.clear();\n\t\tif (data.length > 0) {\n\t\t\tthis._seq = data[0][1].touch + 1;\n\t\t\tfor (const [key, value] of data) {\n\t\t\t\tvalue.type = typeof value.type === 'number' ? value.type : CompletionItemKinds.fromString(value.type);\n\t\t\t\tthis._trie.set(key, value);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport type MemMode = 'first' | 'recentlyUsed' | 'recentlyUsedByPrefix';\n\nexport class SuggestMemoryService implements ISuggestMemoryService {\n\n\tprivate static readonly _strategyCtors = new Map<MemMode, { new(): Memory }>([\n\t\t['recentlyUsedByPrefix', PrefixMemory],\n\t\t['recentlyUsed', LRUMemory],\n\t\t['first', NoMemory]\n\t]);\n\n\tprivate static readonly _storagePrefix = 'suggest/memories';\n\n\treadonly _serviceBrand: undefined;\n\n\n\tprivate readonly _persistSoon: RunOnceScheduler;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _strategy?: Memory;\n\n\tconstructor(\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService,\n\t) {\n\t\tthis._persistSoon = new RunOnceScheduler(() => this._saveState(), 500);\n\t\tthis._disposables.add(_storageService.onWillSaveState(e => {\n\t\t\tif (e.reason === WillSaveStateReason.SHUTDOWN) {\n\t\t\t\tthis._saveState();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._persistSoon.dispose();\n\t}\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tthis._withStrategy(model, pos).memorize(model, pos, item);\n\t\tthis._persistSoon.schedule();\n\t}\n\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\treturn this._withStrategy(model, pos).select(model, pos, items);\n\t}\n\n\tprivate _withStrategy(model: ITextModel, pos: IPosition): Memory {\n\n\t\tconst mode = this._configService.getValue<MemMode>('editor.suggestSelection', {\n\t\t\toverrideIdentifier: model.getLanguageIdAtPosition(pos.lineNumber, pos.column),\n\t\t\tresource: model.uri\n\t\t});\n\n\t\tif (this._strategy?.name !== mode) {\n\n\t\t\tthis._saveState();\n\t\t\tconst ctor = SuggestMemoryService._strategyCtors.get(mode) || NoMemory;\n\t\t\tthis._strategy = new ctor();\n\n\t\t\ttry {\n\t\t\t\tconst share = this._configService.getValue<boolean>('editor.suggest.shareSuggestSelections');\n\t\t\t\tconst scope = share ? StorageScope.PROFILE : StorageScope.WORKSPACE;\n\t\t\t\tconst raw = this._storageService.get(`${SuggestMemoryService._storagePrefix}/${mode}`, scope);\n\t\t\t\tif (raw) {\n\t\t\t\t\tthis._strategy.fromJSON(JSON.parse(raw));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// things can go wrong with JSON...\n\t\t\t}\n\t\t}\n\n\t\treturn this._strategy;\n\t}\n\n\tprivate _saveState() {\n\t\tif (this._strategy) {\n\t\t\tconst share = this._configService.getValue<boolean>('editor.suggest.shareSuggestSelections');\n\t\t\tconst scope = share ? StorageScope.PROFILE : StorageScope.WORKSPACE;\n\t\t\tconst raw = JSON.stringify(this._strategy);\n\t\t\tthis._storageService.store(`${SuggestMemoryService._storagePrefix}/${this._strategy.name}`, raw, scope, StorageTarget.MACHINE);\n\t\t}\n\t}\n}\n\n\nexport const ISuggestMemoryService = createDecorator<ISuggestMemoryService>('ISuggestMemories');\n\nexport interface ISuggestMemoryService {\n\treadonly _serviceBrand: undefined;\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void;\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number;\n}\n\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, InstantiationType.Delayed);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { TernarySearchTree } from '../../../../base/common/ternarySearchTree.js';\nimport { IPosition } from '../../../common/core/position.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { CompletionItemKind, CompletionItemKinds } from '../../../common/languages.js';\nimport { CompletionItem } from './suggest.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, StorageScope, StorageTarget, WillSaveStateReason } from '../../../../platform/storage/common/storage.js';\n\nexport abstract class Memory {\n\n\tconstructor(readonly name: MemMode) { }\n\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\tif (items.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst topScore = items[0].score[0];\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tconst { score, completion: suggestion } = items[i];\n\t\t\tif (score[0] !== topScore) {\n\t\t\t\t// stop when leaving the group of top matches\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (suggestion.preselect) {\n\t\t\t\t// stop when seeing an auto-select-item\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\n\tabstract memorize(model: ITextModel, pos: IPosition, item: CompletionItem): void;\n\n\tabstract toJSON(): object | undefined;\n\n\tabstract fromJSON(data: object): void;\n}\n\nexport class NoMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('first');\n\t}\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\t// no-op\n\t}\n\n\ttoJSON() {\n\t\treturn undefined;\n\t}\n\n\tfromJSON() {\n\t\t//\n\t}\n}\n\nexport interface MemItem {\n\ttype: string | CompletionItemKind;\n\tinsertText: string;\n\ttouch: number;\n}\n\nexport class LRUMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('recentlyUsed');\n\t}\n\n\tprivate _cache = new LRUCache<string, MemItem>(300, 0.66);\n\tprivate _seq = 0;\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tconst key = `${model.getLanguageId()}/${item.textLabel}`;\n\t\tthis._cache.set(key, {\n\t\t\ttouch: this._seq++,\n\t\t\ttype: item.completion.kind,\n\t\t\tinsertText: item.completion.insertText\n\t\t});\n\t}\n\n\toverride select(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\n\t\tif (items.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst lineSuffix = model.getLineContent(pos.lineNumber).substr(pos.column - 10, pos.column - 1);\n\t\tif (/\\s$/.test(lineSuffix)) {\n\t\t\treturn super.select(model, pos, items);\n\t\t}\n\n\t\tconst topScore = items[0].score[0];\n\t\tlet indexPreselect = -1;\n\t\tlet indexRecency = -1;\n\t\tlet seq = -1;\n\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\tif (items[i].score[0] !== topScore) {\n\t\t\t\t// consider only top items\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst key = `${model.getLanguageId()}/${items[i].textLabel}`;\n\t\t\tconst item = this._cache.peek(key);\n\t\t\tif (item && item.touch > seq && item.type === items[i].completion.kind && item.insertText === items[i].completion.insertText) {\n\t\t\t\tseq = item.touch;\n\t\t\t\tindexRecency = i;\n\t\t\t}\n\t\t\tif (items[i].completion.preselect && indexPreselect === -1) {\n\t\t\t\t// stop when seeing an auto-select-item\n\t\t\t\treturn indexPreselect = i;\n\t\t\t}\n\t\t}\n\t\tif (indexRecency !== -1) {\n\t\t\treturn indexRecency;\n\t\t} else if (indexPreselect !== -1) {\n\t\t\treturn indexPreselect;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\ttoJSON(): object {\n\t\treturn this._cache.toJSON();\n\t}\n\n\tfromJSON(data: [string, MemItem][]): void {\n\t\tthis._cache.clear();\n\t\tconst seq = 0;\n\t\tfor (const [key, value] of data) {\n\t\t\tvalue.touch = seq;\n\t\t\tvalue.type = typeof value.type === 'number' ? value.type : CompletionItemKinds.fromString(value.type);\n\t\t\tthis._cache.set(key, value);\n\t\t}\n\t\tthis._seq = this._cache.size;\n\t}\n}\n\n\nexport class PrefixMemory extends Memory {\n\n\tconstructor() {\n\t\tsuper('recentlyUsedByPrefix');\n\t}\n\n\tprivate _trie = TernarySearchTree.forStrings<MemItem>();\n\tprivate _seq = 0;\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tconst { word } = model.getWordUntilPosition(pos);\n\t\tconst key = `${model.getLanguageId()}/${word}`;\n\t\tthis._trie.set(key, {\n\t\t\ttype: item.completion.kind,\n\t\t\tinsertText: item.completion.insertText,\n\t\t\ttouch: this._seq++\n\t\t});\n\t}\n\n\toverride select(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\tconst { word } = model.getWordUntilPosition(pos);\n\t\tif (!word) {\n\t\t\treturn super.select(model, pos, items);\n\t\t}\n\t\tconst key = `${model.getLanguageId()}/${word}`;\n\t\tlet item = this._trie.get(key);\n\t\tif (!item) {\n\t\t\titem = this._trie.findSubstr(key);\n\t\t}\n\t\tif (item) {\n\t\t\tfor (let i = 0; i < items.length; i++) {\n\t\t\t\tconst { kind, insertText } = items[i].completion;\n\t\t\t\tif (kind === item.type && insertText === item.insertText) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn super.select(model, pos, items);\n\t}\n\n\ttoJSON(): object {\n\n\t\tconst entries: [string, MemItem][] = [];\n\t\tthis._trie.forEach((value, key) => entries.push([key, value]));\n\n\t\t// sort by last recently used (touch), then\n\t\t// take the top 200 item and normalize their\n\t\t// touch\n\t\tentries\n\t\t\t.sort((a, b) => -(a[1].touch - b[1].touch))\n\t\t\t.forEach((value, i) => value[1].touch = i);\n\n\t\treturn entries.slice(0, 200);\n\t}\n\n\tfromJSON(data: [string, MemItem][]): void {\n\t\tthis._trie.clear();\n\t\tif (data.length > 0) {\n\t\t\tthis._seq = data[0][1].touch + 1;\n\t\t\tfor (const [key, value] of data) {\n\t\t\t\tvalue.type = typeof value.type === 'number' ? value.type : CompletionItemKinds.fromString(value.type);\n\t\t\t\tthis._trie.set(key, value);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport type MemMode = 'first' | 'recentlyUsed' | 'recentlyUsedByPrefix';\n\nexport class SuggestMemoryService implements ISuggestMemoryService {\n\n\tprivate static readonly _strategyCtors = new Map<MemMode, { new(): Memory }>([\n\t\t['recentlyUsedByPrefix', PrefixMemory],\n\t\t['recentlyUsed', LRUMemory],\n\t\t['first', NoMemory]\n\t]);\n\n\tprivate static readonly _storagePrefix = 'suggest/memories';\n\n\treadonly _serviceBrand: undefined;\n\n\n\tprivate readonly _persistSoon: RunOnceScheduler;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _strategy?: Memory;\n\n\tconstructor(\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService,\n\t) {\n\t\tthis._persistSoon = new RunOnceScheduler(() => this._saveState(), 500);\n\t\tthis._disposables.add(_storageService.onWillSaveState(e => {\n\t\t\tif (e.reason === WillSaveStateReason.SHUTDOWN) {\n\t\t\t\tthis._saveState();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._persistSoon.dispose();\n\t}\n\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void {\n\t\tthis._withStrategy(model, pos).memorize(model, pos, item);\n\t\tthis._persistSoon.schedule();\n\t}\n\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number {\n\t\treturn this._withStrategy(model, pos).select(model, pos, items);\n\t}\n\n\tprivate _withStrategy(model: ITextModel, pos: IPosition): Memory {\n\n\t\tconst mode = this._configService.getValue<MemMode>('editor.suggestSelection', {\n\t\t\toverrideIdentifier: model.getLanguageIdAtPosition(pos.lineNumber, pos.column),\n\t\t\tresource: model.uri\n\t\t});\n\n\t\tif (this._strategy?.name !== mode) {\n\n\t\t\tthis._saveState();\n\t\t\tconst ctor = SuggestMemoryService._strategyCtors.get(mode) || NoMemory;\n\t\t\tthis._strategy = new ctor();\n\n\t\t\ttry {\n\t\t\t\tconst share = this._configService.getValue<boolean>('editor.suggest.shareSuggestSelections');\n\t\t\t\tconst scope = share ? StorageScope.PROFILE : StorageScope.WORKSPACE;\n\t\t\t\tconst raw = this._storageService.get(`${SuggestMemoryService._storagePrefix}/${mode}`, scope);\n\t\t\t\tif (raw) {\n\t\t\t\t\tthis._strategy.fromJSON(JSON.parse(raw));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// things can go wrong with JSON...\n\t\t\t}\n\t\t}\n\n\t\treturn this._strategy;\n\t}\n\n\tprivate _saveState() {\n\t\tif (this._strategy) {\n\t\t\tconst share = this._configService.getValue<boolean>('editor.suggest.shareSuggestSelections');\n\t\t\tconst scope = share ? StorageScope.PROFILE : StorageScope.WORKSPACE;\n\t\t\tconst raw = JSON.stringify(this._strategy);\n\t\t\tthis._storageService.store(`${SuggestMemoryService._storagePrefix}/${this._strategy.name}`, raw, scope, StorageTarget.MACHINE);\n\t\t}\n\t}\n}\n\n\nexport const ISuggestMemoryService = createDecorator<ISuggestMemoryService>('ISuggestMemories');\n\nexport interface ISuggestMemoryService {\n\treadonly _serviceBrand: undefined;\n\tmemorize(model: ITextModel, pos: IPosition, item: CompletionItem): void;\n\tselect(model: ITextModel, pos: IPosition, items: CompletionItem[]): number;\n}\n\nregisterSingleton(ISuggestMemoryService, SuggestMemoryService, InstantiationType.Delayed);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/wordContextKey.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/wordContextKey.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { localize } from '../../../../nls.js';\n\nexport class WordContextKey {\n\n\tstatic readonly AtEnd = new RawContextKey<boolean>('atEndOfWord', false, { type: 'boolean', description: localize('desc', \"A context key that is true when at the end of a word. Note that this is only defined when tab-completions are enabled\") });\n\n\tprivate readonly _ckAtEnd: IContextKey<boolean>;\n\tprivate readonly _configListener: IDisposable;\n\n\tprivate _enabled: boolean = false;\n\tprivate _selectionListener?: IDisposable;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\n\t\tthis._ckAtEnd = WordContextKey.AtEnd.bindTo(contextKeyService);\n\t\tthis._configListener = this._editor.onDidChangeConfiguration(e => e.hasChanged(EditorOption.tabCompletion) && this._update());\n\t\tthis._update();\n\t}\n\n\tdispose(): void {\n\t\tthis._configListener.dispose();\n\t\tthis._selectionListener?.dispose();\n\t\tthis._ckAtEnd.reset();\n\t}\n\n\tprivate _update(): void {\n\t\t// only update this when tab completions are enabled\n\t\tconst enabled = this._editor.getOption(EditorOption.tabCompletion) === 'on';\n\t\tif (this._enabled === enabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis._enabled = enabled;\n\n\t\tif (this._enabled) {\n\t\t\tconst checkForWordEnd = () => {\n\t\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\t\tthis._ckAtEnd.set(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst model = this._editor.getModel();\n\t\t\t\tconst selection = this._editor.getSelection();\n\t\t\t\tconst word = model.getWordAtPosition(selection.getStartPosition());\n\t\t\t\tif (!word) {\n\t\t\t\t\tthis._ckAtEnd.set(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._ckAtEnd.set(word.endColumn === selection.getStartPosition().column && selection.getStartPosition().lineNumber === selection.getEndPosition().lineNumber);\n\t\t\t};\n\t\t\tthis._selectionListener = this._editor.onDidChangeCursorSelection(checkForWordEnd);\n\t\t\tcheckForWordEnd();\n\n\t\t} else if (this._selectionListener) {\n\t\t\tthis._ckAtEnd.reset();\n\t\t\tthis._selectionListener.dispose();\n\t\t\tthis._selectionListener = undefined;\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestAlternatives.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestAlternatives.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestAlternatives.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CompletionModel } from './completionModel.js';\nimport { ISelectedSuggestion } from './suggestWidget.js';\n\nexport class SuggestAlternatives {\n\n\tstatic readonly OtherSuggestions = new RawContextKey<boolean>('hasOtherSuggestions', false);\n\n\tprivate readonly _ckOtherSuggestions: IContextKey<boolean>;\n\n\tprivate _index: number = 0;\n\tprivate _model: CompletionModel | undefined;\n\tprivate _acceptNext: ((selected: ISelectedSuggestion) => any) | undefined;\n\tprivate _listener: IDisposable | undefined;\n\tprivate _ignore: boolean | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tthis._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\n\t}\n\n\tdispose(): void {\n\t\tthis.reset();\n\t}\n\n\treset(): void {\n\t\tthis._ckOtherSuggestions.reset();\n\t\tthis._listener?.dispose();\n\t\tthis._model = undefined;\n\t\tthis._acceptNext = undefined;\n\t\tthis._ignore = false;\n\t}\n\n\tset({ model, index }: ISelectedSuggestion, acceptNext: (selected: ISelectedSuggestion) => any): void {\n\n\t\t// no suggestions -> nothing to do\n\t\tif (model.items.length === 0) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\t// no alternative suggestions -> nothing to do\n\t\tconst nextIndex = SuggestAlternatives._moveIndex(true, model, index);\n\t\tif (nextIndex === index) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._acceptNext = acceptNext;\n\t\tthis._model = model;\n\t\tthis._index = index;\n\t\tthis._listener = this._editor.onDidChangeCursorPosition(() => {\n\t\t\tif (!this._ignore) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t});\n\t\tthis._ckOtherSuggestions.set(true);\n\t}\n\n\tprivate static _moveIndex(fwd: boolean, model: CompletionModel, index: number): number {\n\t\tlet newIndex = index;\n\t\tfor (let rounds = model.items.length; rounds > 0; rounds--) {\n\t\t\tnewIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\n\t\t\tif (newIndex === index) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!model.items[newIndex].completion.additionalTextEdits) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn newIndex;\n\t}\n\n\tnext(): void {\n\t\tthis._move(true);\n\t}\n\n\tprev(): void {\n\t\tthis._move(false);\n\t}\n\n\tprivate _move(fwd: boolean): void {\n\t\tif (!this._model) {\n\t\t\t// nothing to reason about\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis._ignore = true;\n\t\t\tthis._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\n\t\t\tthis._acceptNext!({ index: this._index, item: this._model.items[this._index], model: this._model });\n\t\t} finally {\n\t\t\tthis._ignore = false;\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CompletionModel } from './completionModel.js';\nimport { ISelectedSuggestion } from './suggestWidget.js';\n\nexport class SuggestAlternatives {\n\n\tstatic readonly OtherSuggestions = new RawContextKey<boolean>('hasOtherSuggestions', false);\n\n\tprivate readonly _ckOtherSuggestions: IContextKey<boolean>;\n\n\tprivate _index: number = 0;\n\tprivate _model: CompletionModel | undefined;\n\tprivate _acceptNext: ((selected: ISelectedSuggestion) => any) | undefined;\n\tprivate _listener: IDisposable | undefined;\n\tprivate _ignore: boolean | undefined;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tthis._ckOtherSuggestions = SuggestAlternatives.OtherSuggestions.bindTo(contextKeyService);\n\t}\n\n\tdispose(): void {\n\t\tthis.reset();\n\t}\n\n\treset(): void {\n\t\tthis._ckOtherSuggestions.reset();\n\t\tthis._listener?.dispose();\n\t\tthis._model = undefined;\n\t\tthis._acceptNext = undefined;\n\t\tthis._ignore = false;\n\t}\n\n\tset({ model, index }: ISelectedSuggestion, acceptNext: (selected: ISelectedSuggestion) => any): void {\n\n\t\t// no suggestions -> nothing to do\n\t\tif (model.items.length === 0) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\t// no alternative suggestions -> nothing to do\n\t\tconst nextIndex = SuggestAlternatives._moveIndex(true, model, index);\n\t\tif (nextIndex === index) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._acceptNext = acceptNext;\n\t\tthis._model = model;\n\t\tthis._index = index;\n\t\tthis._listener = this._editor.onDidChangeCursorPosition(() => {\n\t\t\tif (!this._ignore) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t});\n\t\tthis._ckOtherSuggestions.set(true);\n\t}\n\n\tprivate static _moveIndex(fwd: boolean, model: CompletionModel, index: number): number {\n\t\tlet newIndex = index;\n\t\tfor (let rounds = model.items.length; rounds > 0; rounds--) {\n\t\t\tnewIndex = (newIndex + model.items.length + (fwd ? +1 : -1)) % model.items.length;\n\t\t\tif (newIndex === index) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!model.items[newIndex].completion.additionalTextEdits) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn newIndex;\n\t}\n\n\tnext(): void {\n\t\tthis._move(true);\n\t}\n\n\tprev(): void {\n\t\tthis._move(false);\n\t}\n\n\tprivate _move(fwd: boolean): void {\n\t\tif (!this._model) {\n\t\t\t// nothing to reason about\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tthis._ignore = true;\n\t\t\tthis._index = SuggestAlternatives._moveIndex(fwd, this._model, this._index);\n\t\t\tthis._acceptNext!({ index: this._index, item: this._model.items[this._index], model: this._model });\n\t\t} finally {\n\t\t\tthis._ignore = false;\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 875, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestCommitCharacters.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestCommitCharacters.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestCommitCharacters.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport { State, SuggestModel } from './suggestModel.js';\nimport { ISelectedSuggestion, SuggestWidget } from './suggestWidget.js';\n\nexport class CommitCharacterController {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _active?: {\n\t\treadonly acceptCharacters: CharacterSet;\n\t\treadonly item: ISelectedSuggestion;\n\t};\n\n\tconstructor(editor: ICodeEditor, widget: SuggestWidget, model: SuggestModel, accept: (selected: ISelectedSuggestion) => any) {\n\n\t\tthis._disposables.add(model.onDidSuggest(e => {\n\t\t\tif (e.completionModel.items.length === 0) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}));\n\t\tthis._disposables.add(model.onDidCancel(e => {\n\t\t\tthis.reset();\n\t\t}));\n\n\t\tthis._disposables.add(widget.onDidShow(() => this._onItem(widget.getFocusedItem())));\n\t\tthis._disposables.add(widget.onDidFocus(this._onItem, this));\n\t\tthis._disposables.add(widget.onDidHide(this.reset, this));\n\n\t\tthis._disposables.add(editor.onWillType(text => {\n\t\t\tif (this._active && !widget.isFrozen() && model.state !== State.Idle) {\n\t\t\t\tconst ch = text.charCodeAt(text.length - 1);\n\t\t\t\tif (this._active.acceptCharacters.has(ch) && editor.getOption(EditorOption.acceptSuggestionOnCommitCharacter)) {\n\t\t\t\t\taccept(this._active.item);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onItem(selected: ISelectedSuggestion | undefined): void {\n\t\tif (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\n\t\t\t// no item or no commit characters\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._active && this._active.item.item === selected.item) {\n\t\t\t// still the same item\n\t\t\treturn;\n\t\t}\n\n\t\t// keep item and its commit characters\n\t\tconst acceptCharacters = new CharacterSet();\n\t\tfor (const ch of selected.item.completion.commitCharacters) {\n\t\t\tif (ch.length > 0) {\n\t\t\t\tacceptCharacters.add(ch.charCodeAt(0));\n\t\t\t}\n\t\t}\n\t\tthis._active = { acceptCharacters, item: selected };\n\t}\n\n\treset(): void {\n\t\tthis._active = undefined;\n\t}\n\n\tdispose() {\n\t\tthis._disposables.dispose();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport { State, SuggestModel } from './suggestModel.js';\nimport { ISelectedSuggestion, SuggestWidget } from './suggestWidget.js';\n\nexport class CommitCharacterController {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _active?: {\n\t\treadonly acceptCharacters: CharacterSet;\n\t\treadonly item: ISelectedSuggestion;\n\t};\n\n\tconstructor(editor: ICodeEditor, widget: SuggestWidget, model: SuggestModel, accept: (selected: ISelectedSuggestion) => any) {\n\n\t\tthis._disposables.add(model.onDidSuggest(e => {\n\t\t\tif (e.completionModel.items.length === 0) {\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}));\n\t\tthis._disposables.add(model.onDidCancel(e => {\n\t\t\tthis.reset();\n\t\t}));\n\n\t\tthis._disposables.add(widget.onDidShow(() => this._onItem(widget.getFocusedItem())));\n\t\tthis._disposables.add(widget.onDidFocus(this._onItem, this));\n\t\tthis._disposables.add(widget.onDidHide(this.reset, this));\n\n\t\tthis._disposables.add(editor.onWillType(text => {\n\t\t\tif (this._active && !widget.isFrozen() && model.state !== State.Idle) {\n\t\t\t\tconst ch = text.charCodeAt(text.length - 1);\n\t\t\t\tif (this._active.acceptCharacters.has(ch) && editor.getOption(EditorOption.acceptSuggestionOnCommitCharacter)) {\n\t\t\t\t\taccept(this._active.item);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onItem(selected: ISelectedSuggestion | undefined): void {\n\t\tif (!selected || !isNonEmptyArray(selected.item.completion.commitCharacters)) {\n\t\t\t// no item or no commit characters\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._active && this._active.item.item === selected.item) {\n\t\t\t// still the same item\n\t\t\treturn;\n\t\t}\n\n\t\t// keep item and its commit characters\n\t\tconst acceptCharacters = new CharacterSet();\n\t\tfor (const ch of selected.item.completion.commitCharacters) {\n\t\t\tif (ch.length > 0) {\n\t\t\t\tacceptCharacters.add(ch.charCodeAt(0));\n\t\t\t}\n\t\t}\n\t\tthis._active = { acceptCharacters, item: selected };\n\t}\n\n\treset(): void {\n\t\tthis._active = undefined;\n\t}\n\n\tdispose() {\n\t\tthis._disposables.dispose();\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/wordDistance.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/wordDistance.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/wordDistance.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { binarySearch, isFalsyOrEmpty } from '../../../../base/common/arrays.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { IPosition } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CompletionItem, CompletionItemKind } from '../../../common/languages.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { BracketSelectionRangeProvider } from '../../smartSelect/browser/bracketSelections.js';\n\nexport abstract class WordDistance {\n\n\tstatic readonly None = new class extends WordDistance {\n\t\tdistance() { return 0; }\n\t};\n\n\tstatic async create(service: IEditorWorkerService, editor: ICodeEditor): Promise<WordDistance> {\n\n\t\tif (!editor.getOption(EditorOption.suggest).localityBonus) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tif (!editor.hasModel()) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst model = editor.getModel();\n\t\tconst position = editor.getPosition();\n\n\t\tif (!service.canComputeWordRanges(model.uri)) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst [ranges] = await new BracketSelectionRangeProvider().provideSelectionRanges(model, [position]);\n\t\tif (ranges.length === 0) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst wordRanges = await service.computeWordRanges(model.uri, ranges[0].range);\n\t\tif (!wordRanges) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\t// remove current word\n\t\tconst wordUntilPos = model.getWordUntilPosition(position);\n\t\tdelete wordRanges[wordUntilPos.word];\n\n\t\treturn new class extends WordDistance {\n\t\t\tdistance(anchor: IPosition, item: CompletionItem) {\n\t\t\t\tif (!position.equals(editor.getPosition())) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (item.kind === CompletionItemKind.Keyword) {\n\t\t\t\t\treturn 2 << 20;\n\t\t\t\t}\n\t\t\t\tconst word = typeof item.label === 'string' ? item.label : item.label.label;\n\t\t\t\tconst wordLines = wordRanges[word];\n\t\t\t\tif (isFalsyOrEmpty(wordLines)) {\n\t\t\t\t\treturn 2 << 20;\n\t\t\t\t}\n\t\t\t\tconst idx = binarySearch(wordLines, Range.fromPositions(anchor), Range.compareRangesUsingStarts);\n\t\t\t\tconst bestWordRange = idx >= 0 ? wordLines[idx] : wordLines[Math.max(0, ~idx - 1)];\n\t\t\t\tlet blockDistance = ranges.length;\n\t\t\t\tfor (const range of ranges) {\n\t\t\t\t\tif (!Range.containsRange(range.range, bestWordRange)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tblockDistance -= 1;\n\t\t\t\t}\n\t\t\t\treturn blockDistance;\n\t\t\t}\n\t\t};\n\t}\n\n\tabstract distance(anchor: IPosition, suggestion: CompletionItem): number;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { binarySearch, isFalsyOrEmpty } from '../../../../base/common/arrays.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { IPosition } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CompletionItem, CompletionItemKind } from '../../../common/languages.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { BracketSelectionRangeProvider } from '../../smartSelect/browser/bracketSelections.js';\n\nexport abstract class WordDistance {\n\n\tstatic readonly None = new class extends WordDistance {\n\t\tdistance() { return 0; }\n\t};\n\n\tstatic async create(service: IEditorWorkerService, editor: ICodeEditor): Promise<WordDistance> {\n\n\t\tif (!editor.getOption(EditorOption.suggest).localityBonus) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tif (!editor.hasModel()) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst model = editor.getModel();\n\t\tconst position = editor.getPosition();\n\n\t\tif (!service.canComputeWordRanges(model.uri)) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst [ranges] = await new BracketSelectionRangeProvider().provideSelectionRanges(model, [position]);\n\t\tif (ranges.length === 0) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\tconst wordRanges = await service.computeWordRanges(model.uri, ranges[0].range);\n\t\tif (!wordRanges) {\n\t\t\treturn WordDistance.None;\n\t\t}\n\n\t\t// remove current word\n\t\tconst wordUntilPos = model.getWordUntilPosition(position);\n\t\tdelete wordRanges[wordUntilPos.word];\n\n\t\treturn new class extends WordDistance {\n\t\t\tdistance(anchor: IPosition, item: CompletionItem) {\n\t\t\t\tif (!position.equals(editor.getPosition())) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (item.kind === CompletionItemKind.Keyword) {\n\t\t\t\t\treturn 2 << 20;\n\t\t\t\t}\n\t\t\t\tconst word = typeof item.label === 'string' ? item.label : item.label.label;\n\t\t\t\tconst wordLines = wordRanges[word];\n\t\t\t\tif (isFalsyOrEmpty(wordLines)) {\n\t\t\t\t\treturn 2 << 20;\n\t\t\t\t}\n\t\t\t\tconst idx = binarySearch(wordLines, Range.fromPositions(anchor), Range.compareRangesUsingStarts);\n\t\t\t\tconst bestWordRange = idx >= 0 ? wordLines[idx] : wordLines[Math.max(0, ~idx - 1)];\n\t\t\t\tlet blockDistance = ranges.length;\n\t\t\t\tfor (const range of ranges) {\n\t\t\t\t\tif (!Range.containsRange(range.range, bestWordRange)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tblockDistance -= 1;\n\t\t\t\t}\n\t\t\t\treturn blockDistance;\n\t\t\t}\n\t\t};\n\t}\n\n\tabstract distance(anchor: IPosition, suggestion: CompletionItem): number;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/completionModel.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/completionModel.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/completionModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { quickSelect } from '../../../../base/common/arrays.js';\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { anyScore, fuzzyScore, FuzzyScore, fuzzyScoreGracefulAggressive, FuzzyScoreOptions, FuzzyScorer } from '../../../../base/common/filters.js';\nimport { compareIgnoreCase } from '../../../../base/common/strings.js';\nimport { InternalSuggestOptions } from '../../../common/config/editorOptions.js';\nimport { CompletionItemKind, CompletionItemProvider } from '../../../common/languages.js';\nimport { WordDistance } from './wordDistance.js';\nimport { CompletionItem } from './suggest.js';\n\ntype StrictCompletionItem = Required<CompletionItem>;\n\nexport interface ICompletionStats {\n\tpLabelLen: number;\n}\n\nexport class LineContext {\n\tconstructor(\n\t\treadonly leadingLineContent: string,\n\t\treadonly characterCountDelta: number,\n\t) { }\n}\n\nconst enum Refilter {\n\tNothing = 0,\n\tAll = 1,\n\tIncr = 2\n}\n\n/**\n * Sorted, filtered completion view model\n * */\nexport class CompletionModel {\n\n\tprivate readonly _items: CompletionItem[];\n\tprivate readonly _column: number;\n\tprivate readonly _wordDistance: WordDistance;\n\tprivate readonly _options: InternalSuggestOptions;\n\tprivate readonly _snippetCompareFn = CompletionModel._compareCompletionItems;\n\tprivate readonly _fuzzyScoreOptions: FuzzyScoreOptions;\n\n\tprivate _lineContext: LineContext;\n\tprivate _refilterKind: Refilter;\n\tprivate _filteredItems?: StrictCompletionItem[];\n\n\tprivate _itemsByProvider?: Map<CompletionItemProvider, CompletionItem[]>;\n\tprivate _stats?: ICompletionStats;\n\n\tconstructor(\n\t\titems: CompletionItem[],\n\t\tcolumn: number,\n\t\tlineContext: LineContext,\n\t\twordDistance: WordDistance,\n\t\toptions: InternalSuggestOptions,\n\t\tsnippetSuggestions: 'top' | 'bottom' | 'inline' | 'none',\n\t\tfuzzyScoreOptions: FuzzyScoreOptions | undefined = FuzzyScoreOptions.default,\n\t\treadonly clipboardText: string | undefined = undefined\n\t) {\n\t\tthis._items = items;\n\t\tthis._column = column;\n\t\tthis._wordDistance = wordDistance;\n\t\tthis._options = options;\n\t\tthis._refilterKind = Refilter.All;\n\t\tthis._lineContext = lineContext;\n\t\tthis._fuzzyScoreOptions = fuzzyScoreOptions;\n\n\t\tif (snippetSuggestions === 'top') {\n\t\t\tthis._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsUp;\n\t\t} else if (snippetSuggestions === 'bottom') {\n\t\t\tthis._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsDown;\n\t\t}\n\t}\n\n\tget lineContext(): LineContext {\n\t\treturn this._lineContext;\n\t}\n\n\tset lineContext(value: LineContext) {\n\t\tif (this._lineContext.leadingLineContent !== value.leadingLineContent\n\t\t\t|| this._lineContext.characterCountDelta !== value.characterCountDelta\n\t\t) {\n\t\t\tthis._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? Refilter.Incr : Refilter.All;\n\t\t\tthis._lineContext = value;\n\t\t}\n\t}\n\n\tget items(): CompletionItem[] {\n\t\tthis._ensureCachedState();\n\t\treturn this._filteredItems!;\n\t}\n\n\tgetItemsByProvider(): ReadonlyMap<CompletionItemProvider, CompletionItem[]> {\n\t\tthis._ensureCachedState();\n\t\treturn this._itemsByProvider!;\n\t}\n\n\tgetIncompleteProvider(): Set<CompletionItemProvider> {\n\t\tthis._ensureCachedState();\n\t\tconst result = new Set<CompletionItemProvider>();\n\t\tfor (const [provider, items] of this.getItemsByProvider()) {\n\t\t\tif (items.length > 0 && items[0].container.incomplete) {\n\t\t\t\tresult.add(provider);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tget stats(): ICompletionStats {\n\t\tthis._ensureCachedState();\n\t\treturn this._stats!;\n\t}\n\n\tprivate _ensureCachedState(): void {\n\t\tif (this._refilterKind !== Refilter.Nothing) {\n\t\t\tthis._createCachedState();\n\t\t}\n\t}\n\n\tprivate _createCachedState(): void {\n\n\t\tthis._itemsByProvider = new Map();\n\n\t\tconst labelLengths: number[] = [];\n\n\t\tconst { leadingLineContent, characterCountDelta } = this._lineContext;\n\t\tlet word = '';\n\t\tlet wordLow = '';\n\n\t\t// incrementally filter less\n\t\tconst source = this._refilterKind === Refilter.All ? this._items : this._filteredItems!;\n\t\tconst target: StrictCompletionItem[] = [];\n\n\t\t// picks a score function based on the number of\n\t\t// items that we have to score/filter and based on the\n\t\t// user-configuration\n\t\tconst scoreFn: FuzzyScorer = (!this._options.filterGraceful || source.length > 2000) ? fuzzyScore : fuzzyScoreGracefulAggressive;\n\n\t\tfor (let i = 0; i < source.length; i++) {\n\n\t\t\tconst item = source[i];\n\n\t\t\tif (item.isInvalid) {\n\t\t\t\tcontinue; // SKIP invalid items\n\t\t\t}\n\n\t\t\t// keep all items by their provider\n\t\t\tconst arr = this._itemsByProvider.get(item.provider);\n\t\t\tif (arr) {\n\t\t\t\tarr.push(item);\n\t\t\t} else {\n\t\t\t\tthis._itemsByProvider.set(item.provider, [item]);\n\t\t\t}\n\n\t\t\t// 'word' is that remainder of the current line that we\n\t\t\t// filter and score against. In theory each suggestion uses a\n\t\t\t// different word, but in practice not - that's why we cache\n\t\t\tconst overwriteBefore = item.position.column - item.editStart.column;\n\t\t\tconst wordLen = overwriteBefore + characterCountDelta - (item.position.column - this._column);\n\t\t\tif (word.length !== wordLen) {\n\t\t\t\tword = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);\n\t\t\t\twordLow = word.toLowerCase();\n\t\t\t}\n\n\t\t\t// remember the word against which this item was\n\t\t\t// scored\n\t\t\titem.word = word;\n\n\t\t\tif (wordLen === 0) {\n\t\t\t\t// when there is nothing to score against, don't\n\t\t\t\t// event try to do. Use a const rank and rely on\n\t\t\t\t// the fallback-sort using the initial sort order.\n\t\t\t\t// use a score of `-100` because that is out of the\n\t\t\t\t// bound of values `fuzzyScore` will return\n\t\t\t\titem.score = FuzzyScore.Default;\n\n\t\t\t} else {\n\t\t\t\t// skip word characters that are whitespace until\n\t\t\t\t// we have hit the replace range (overwriteBefore)\n\t\t\t\tlet wordPos = 0;\n\t\t\t\twhile (wordPos < overwriteBefore) {\n\t\t\t\t\tconst ch = word.charCodeAt(wordPos);\n\t\t\t\t\tif (ch === CharCode.Space || ch === CharCode.Tab) {\n\t\t\t\t\t\twordPos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (wordPos >= wordLen) {\n\t\t\t\t\t// the wordPos at which scoring starts is the whole word\n\t\t\t\t\t// and therefore the same rules as not having a word apply\n\t\t\t\t\titem.score = FuzzyScore.Default;\n\n\t\t\t\t} else if (typeof item.completion.filterText === 'string') {\n\t\t\t\t\t// when there is a `filterText` it must match the `word`.\n\t\t\t\t\t// if it matches we check with the label to compute highlights\n\t\t\t\t\t// and if that doesn't yield a result we have no highlights,\n\t\t\t\t\t// despite having the match\n\t\t\t\t\tconst match = scoreFn(word, wordLow, wordPos, item.completion.filterText, item.filterTextLow!, 0, this._fuzzyScoreOptions);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue; // NO match\n\t\t\t\t\t}\n\t\t\t\t\tif (compareIgnoreCase(item.completion.filterText, item.textLabel) === 0) {\n\t\t\t\t\t\t// filterText and label are actually the same -> use good highlights\n\t\t\t\t\t\titem.score = match;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// re-run the scorer on the label in the hope of a result BUT use the rank\n\t\t\t\t\t\t// of the filterText-match\n\t\t\t\t\t\titem.score = anyScore(word, wordLow, wordPos, item.textLabel, item.labelLow, 0);\n\t\t\t\t\t\titem.score[0] = match[0]; // use score from filterText\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// by default match `word` against the `label`\n\t\t\t\t\tconst match = scoreFn(word, wordLow, wordPos, item.textLabel, item.labelLow, 0, this._fuzzyScoreOptions);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue; // NO match\n\t\t\t\t\t}\n\t\t\t\t\titem.score = match;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.idx = i;\n\t\t\titem.distance = this._wordDistance.distance(item.position, item.completion);\n\t\t\ttarget.push(item as StrictCompletionItem);\n\n\t\t\t// update stats\n\t\t\tlabelLengths.push(item.textLabel.length);\n\t\t}\n\n\t\tthis._filteredItems = target.sort(this._snippetCompareFn);\n\t\tthis._refilterKind = Refilter.Nothing;\n\t\tthis._stats = {\n\t\t\tpLabelLen: labelLengths.length ?\n\t\t\t\tquickSelect(labelLengths.length - .85, labelLengths, (a, b) => a - b)\n\t\t\t\t: 0\n\t\t};\n\t}\n\n\tprivate static _compareCompletionItems(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.score[0] > b.score[0]) {\n\t\t\treturn -1;\n\t\t} else if (a.score[0] < b.score[0]) {\n\t\t\treturn 1;\n\t\t} else if (a.distance < b.distance) {\n\t\t\treturn -1;\n\t\t} else if (a.distance > b.distance) {\n\t\t\treturn 1;\n\t\t} else if (a.idx < b.idx) {\n\t\t\treturn -1;\n\t\t} else if (a.idx > b.idx) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate static _compareCompletionItemsSnippetsDown(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.completion.kind !== b.completion.kind) {\n\t\t\tif (a.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn 1;\n\t\t\t} else if (b.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn CompletionModel._compareCompletionItems(a, b);\n\t}\n\n\tprivate static _compareCompletionItemsSnippetsUp(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.completion.kind !== b.completion.kind) {\n\t\t\tif (a.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn -1;\n\t\t\t} else if (b.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn CompletionModel._compareCompletionItems(a, b);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { quickSelect } from '../../../../base/common/arrays.js';\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { anyScore, fuzzyScore, FuzzyScore, fuzzyScoreGracefulAggressive, FuzzyScoreOptions, FuzzyScorer } from '../../../../base/common/filters.js';\nimport { compareIgnoreCase } from '../../../../base/common/strings.js';\nimport { InternalSuggestOptions } from '../../../common/config/editorOptions.js';\nimport { CompletionItemKind, CompletionItemProvider } from '../../../common/languages.js';\nimport { WordDistance } from './wordDistance.js';\nimport { CompletionItem } from './suggest.js';\n\ntype StrictCompletionItem = Required<CompletionItem>;\n\nexport interface ICompletionStats {\n\tpLabelLen: number;\n}\n\nexport class LineContext {\n\tconstructor(\n\t\treadonly leadingLineContent: string,\n\t\treadonly characterCountDelta: number,\n\t) { }\n}\n\nconst enum Refilter {\n\tNothing = 0,\n\tAll = 1,\n\tIncr = 2\n}\n\n/**\n * Sorted, filtered completion view model\n * */\nexport class CompletionModel {\n\n\tprivate readonly _items: CompletionItem[];\n\tprivate readonly _column: number;\n\tprivate readonly _wordDistance: WordDistance;\n\tprivate readonly _options: InternalSuggestOptions;\n\tprivate readonly _snippetCompareFn = CompletionModel._compareCompletionItems;\n\tprivate readonly _fuzzyScoreOptions: FuzzyScoreOptions;\n\n\tprivate _lineContext: LineContext;\n\tprivate _refilterKind: Refilter;\n\tprivate _filteredItems?: StrictCompletionItem[];\n\n\tprivate _itemsByProvider?: Map<CompletionItemProvider, CompletionItem[]>;\n\tprivate _stats?: ICompletionStats;\n\n\tconstructor(\n\t\titems: CompletionItem[],\n\t\tcolumn: number,\n\t\tlineContext: LineContext,\n\t\twordDistance: WordDistance,\n\t\toptions: InternalSuggestOptions,\n\t\tsnippetSuggestions: 'top' | 'bottom' | 'inline' | 'none',\n\t\tfuzzyScoreOptions: FuzzyScoreOptions | undefined = FuzzyScoreOptions.default,\n\t\treadonly clipboardText: string | undefined = undefined\n\t) {\n\t\tthis._items = items;\n\t\tthis._column = column;\n\t\tthis._wordDistance = wordDistance;\n\t\tthis._options = options;\n\t\tthis._refilterKind = Refilter.All;\n\t\tthis._lineContext = lineContext;\n\t\tthis._fuzzyScoreOptions = fuzzyScoreOptions;\n\n\t\tif (snippetSuggestions === 'top') {\n\t\t\tthis._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsUp;\n\t\t} else if (snippetSuggestions === 'bottom') {\n\t\t\tthis._snippetCompareFn = CompletionModel._compareCompletionItemsSnippetsDown;\n\t\t}\n\t}\n\n\tget lineContext(): LineContext {\n\t\treturn this._lineContext;\n\t}\n\n\tset lineContext(value: LineContext) {\n\t\tif (this._lineContext.leadingLineContent !== value.leadingLineContent\n\t\t\t|| this._lineContext.characterCountDelta !== value.characterCountDelta\n\t\t) {\n\t\t\tthis._refilterKind = this._lineContext.characterCountDelta < value.characterCountDelta && this._filteredItems ? Refilter.Incr : Refilter.All;\n\t\t\tthis._lineContext = value;\n\t\t}\n\t}\n\n\tget items(): CompletionItem[] {\n\t\tthis._ensureCachedState();\n\t\treturn this._filteredItems!;\n\t}\n\n\tgetItemsByProvider(): ReadonlyMap<CompletionItemProvider, CompletionItem[]> {\n\t\tthis._ensureCachedState();\n\t\treturn this._itemsByProvider!;\n\t}\n\n\tgetIncompleteProvider(): Set<CompletionItemProvider> {\n\t\tthis._ensureCachedState();\n\t\tconst result = new Set<CompletionItemProvider>();\n\t\tfor (const [provider, items] of this.getItemsByProvider()) {\n\t\t\tif (items.length > 0 && items[0].container.incomplete) {\n\t\t\t\tresult.add(provider);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tget stats(): ICompletionStats {\n\t\tthis._ensureCachedState();\n\t\treturn this._stats!;\n\t}\n\n\tprivate _ensureCachedState(): void {\n\t\tif (this._refilterKind !== Refilter.Nothing) {\n\t\t\tthis._createCachedState();\n\t\t}\n\t}\n\n\tprivate _createCachedState(): void {\n\n\t\tthis._itemsByProvider = new Map();\n\n\t\tconst labelLengths: number[] = [];\n\n\t\tconst { leadingLineContent, characterCountDelta } = this._lineContext;\n\t\tlet word = '';\n\t\tlet wordLow = '';\n\n\t\t// incrementally filter less\n\t\tconst source = this._refilterKind === Refilter.All ? this._items : this._filteredItems!;\n\t\tconst target: StrictCompletionItem[] = [];\n\n\t\t// picks a score function based on the number of\n\t\t// items that we have to score/filter and based on the\n\t\t// user-configuration\n\t\tconst scoreFn: FuzzyScorer = (!this._options.filterGraceful || source.length > 2000) ? fuzzyScore : fuzzyScoreGracefulAggressive;\n\n\t\tfor (let i = 0; i < source.length; i++) {\n\n\t\t\tconst item = source[i];\n\n\t\t\tif (item.isInvalid) {\n\t\t\t\tcontinue; // SKIP invalid items\n\t\t\t}\n\n\t\t\t// keep all items by their provider\n\t\t\tconst arr = this._itemsByProvider.get(item.provider);\n\t\t\tif (arr) {\n\t\t\t\tarr.push(item);\n\t\t\t} else {\n\t\t\t\tthis._itemsByProvider.set(item.provider, [item]);\n\t\t\t}\n\n\t\t\t// 'word' is that remainder of the current line that we\n\t\t\t// filter and score against. In theory each suggestion uses a\n\t\t\t// different word, but in practice not - that's why we cache\n\t\t\tconst overwriteBefore = item.position.column - item.editStart.column;\n\t\t\tconst wordLen = overwriteBefore + characterCountDelta - (item.position.column - this._column);\n\t\t\tif (word.length !== wordLen) {\n\t\t\t\tword = wordLen === 0 ? '' : leadingLineContent.slice(-wordLen);\n\t\t\t\twordLow = word.toLowerCase();\n\t\t\t}\n\n\t\t\t// remember the word against which this item was\n\t\t\t// scored\n\t\t\titem.word = word;\n\n\t\t\tif (wordLen === 0) {\n\t\t\t\t// when there is nothing to score against, don't\n\t\t\t\t// event try to do. Use a const rank and rely on\n\t\t\t\t// the fallback-sort using the initial sort order.\n\t\t\t\t// use a score of `-100` because that is out of the\n\t\t\t\t// bound of values `fuzzyScore` will return\n\t\t\t\titem.score = FuzzyScore.Default;\n\n\t\t\t} else {\n\t\t\t\t// skip word characters that are whitespace until\n\t\t\t\t// we have hit the replace range (overwriteBefore)\n\t\t\t\tlet wordPos = 0;\n\t\t\t\twhile (wordPos < overwriteBefore) {\n\t\t\t\t\tconst ch = word.charCodeAt(wordPos);\n\t\t\t\t\tif (ch === CharCode.Space || ch === CharCode.Tab) {\n\t\t\t\t\t\twordPos += 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (wordPos >= wordLen) {\n\t\t\t\t\t// the wordPos at which scoring starts is the whole word\n\t\t\t\t\t// and therefore the same rules as not having a word apply\n\t\t\t\t\titem.score = FuzzyScore.Default;\n\n\t\t\t\t} else if (typeof item.completion.filterText === 'string') {\n\t\t\t\t\t// when there is a `filterText` it must match the `word`.\n\t\t\t\t\t// if it matches we check with the label to compute highlights\n\t\t\t\t\t// and if that doesn't yield a result we have no highlights,\n\t\t\t\t\t// despite having the match\n\t\t\t\t\tconst match = scoreFn(word, wordLow, wordPos, item.completion.filterText, item.filterTextLow!, 0, this._fuzzyScoreOptions);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue; // NO match\n\t\t\t\t\t}\n\t\t\t\t\tif (compareIgnoreCase(item.completion.filterText, item.textLabel) === 0) {\n\t\t\t\t\t\t// filterText and label are actually the same -> use good highlights\n\t\t\t\t\t\titem.score = match;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// re-run the scorer on the label in the hope of a result BUT use the rank\n\t\t\t\t\t\t// of the filterText-match\n\t\t\t\t\t\titem.score = anyScore(word, wordLow, wordPos, item.textLabel, item.labelLow, 0);\n\t\t\t\t\t\titem.score[0] = match[0]; // use score from filterText\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// by default match `word` against the `label`\n\t\t\t\t\tconst match = scoreFn(word, wordLow, wordPos, item.textLabel, item.labelLow, 0, this._fuzzyScoreOptions);\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue; // NO match\n\t\t\t\t\t}\n\t\t\t\t\titem.score = match;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.idx = i;\n\t\t\titem.distance = this._wordDistance.distance(item.position, item.completion);\n\t\t\ttarget.push(item as StrictCompletionItem);\n\n\t\t\t// update stats\n\t\t\tlabelLengths.push(item.textLabel.length);\n\t\t}\n\n\t\tthis._filteredItems = target.sort(this._snippetCompareFn);\n\t\tthis._refilterKind = Refilter.Nothing;\n\t\tthis._stats = {\n\t\t\tpLabelLen: labelLengths.length ?\n\t\t\t\tquickSelect(labelLengths.length - .85, labelLengths, (a, b) => a - b)\n\t\t\t\t: 0\n\t\t};\n\t}\n\n\tprivate static _compareCompletionItems(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.score[0] > b.score[0]) {\n\t\t\treturn -1;\n\t\t} else if (a.score[0] < b.score[0]) {\n\t\t\treturn 1;\n\t\t} else if (a.distance < b.distance) {\n\t\t\treturn -1;\n\t\t} else if (a.distance > b.distance) {\n\t\t\treturn 1;\n\t\t} else if (a.idx < b.idx) {\n\t\t\treturn -1;\n\t\t} else if (a.idx > b.idx) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate static _compareCompletionItemsSnippetsDown(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.completion.kind !== b.completion.kind) {\n\t\t\tif (a.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn 1;\n\t\t\t} else if (b.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\treturn CompletionModel._compareCompletionItems(a, b);\n\t}\n\n\tprivate static _compareCompletionItemsSnippetsUp(a: StrictCompletionItem, b: StrictCompletionItem): number {\n\t\tif (a.completion.kind !== b.completion.kind) {\n\t\t\tif (a.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn -1;\n\t\t\t} else if (b.completion.kind === CompletionItemKind.Snippet) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\treturn CompletionModel._compareCompletionItems(a, b);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1238, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestModel.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestModel.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TimeoutTimer } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { DisposableStore, dispose, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { getLeadingWhitespace, isHighSurrogate, isLowSurrogate } from '../../../../base/common/strings.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CursorChangeReason, ICursorSelectionChangedEvent } from '../../../common/cursorEvents.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { CompletionContext, CompletionItemKind, CompletionItemProvider, CompletionTriggerKind } from '../../../common/languages.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { WordDistance } from './wordDistance.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { CompletionModel } from './completionModel.js';\nimport { CompletionDurations, CompletionItem, CompletionOptions, getSnippetSuggestSupport, provideSuggestionItems, QuickSuggestionsOptions, SnippetSortOrder } from './suggest.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { FuzzyScoreOptions } from '../../../../base/common/filters.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { InlineCompletionContextKeys } from '../../inlineCompletions/browser/controller/inlineCompletionContextKeys.js';\nimport { SnippetController2 } from '../../snippet/browser/snippetController2.js';\nimport { IEnvironmentService } from '../../../../platform/environment/common/environment.js';\n\nexport interface ICancelEvent {\n\treadonly retrigger: boolean;\n}\n\nexport interface ITriggerEvent {\n\treadonly auto: boolean;\n\treadonly shy: boolean;\n\treadonly position: IPosition;\n}\n\nexport interface ISuggestEvent {\n\treadonly completionModel: CompletionModel;\n\treadonly isFrozen: boolean;\n\treadonly triggerOptions: SuggestTriggerOptions;\n}\n\nexport interface SuggestTriggerOptions {\n\treadonly auto: boolean;\n\treadonly shy?: boolean;\n\treadonly refilter?: boolean;\n\treadonly retrigger?: boolean;\n\treadonly triggerKind?: CompletionTriggerKind;\n\treadonly triggerCharacter?: string;\n\treadonly clipboardText?: string;\n\tcompletionOptions?: Partial<CompletionOptions>;\n}\n\nexport class LineContext {\n\n\tstatic shouldAutoTrigger(editor: ICodeEditor): boolean {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst model = editor.getModel();\n\t\tconst pos = editor.getPosition();\n\t\tmodel.tokenization.tokenizeIfCheap(pos.lineNumber);\n\n\t\tconst word = model.getWordAtPosition(pos);\n\t\tif (!word) {\n\t\t\treturn false;\n\t\t}\n\t\tif (word.endColumn !== pos.column &&\n\t\t\tword.startColumn + 1 !== pos.column /* after typing a single character before a word */) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!isNaN(Number(word.word))) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\treadonly lineNumber: number;\n\treadonly column: number;\n\treadonly leadingLineContent: string;\n\treadonly leadingWord: IWordAtPosition;\n\treadonly triggerOptions: SuggestTriggerOptions;\n\n\tconstructor(model: ITextModel, position: Position, triggerOptions: SuggestTriggerOptions) {\n\t\tthis.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\n\t\tthis.leadingWord = model.getWordUntilPosition(position);\n\t\tthis.lineNumber = position.lineNumber;\n\t\tthis.column = position.column;\n\t\tthis.triggerOptions = triggerOptions;\n\t}\n}\n\nexport const enum State {\n\tIdle = 0,\n\tManual = 1,\n\tAuto = 2\n}\n\nfunction canShowQuickSuggest(editor: ICodeEditor, contextKeyService: IContextKeyService, configurationService: IConfigurationService): boolean {\n\tif (!Boolean(contextKeyService.getContextKeyValue(InlineCompletionContextKeys.inlineSuggestionVisible.key))) {\n\t\t// Allow if there is no inline suggestion.\n\t\treturn true;\n\t}\n\tconst suppressSuggestions = contextKeyService.getContextKeyValue<boolean | undefined>(InlineCompletionContextKeys.suppressSuggestions.key);\n\tif (suppressSuggestions !== undefined) {\n\t\treturn !suppressSuggestions;\n\t}\n\treturn !editor.getOption(EditorOption.inlineSuggest).suppressSuggestions;\n}\n\nfunction canShowSuggestOnTriggerCharacters(editor: ICodeEditor, contextKeyService: IContextKeyService, configurationService: IConfigurationService): boolean {\n\tif (!Boolean(contextKeyService.getContextKeyValue('inlineSuggestionVisible'))) {\n\t\t// Allow if there is no inline suggestion.\n\t\treturn true;\n\t}\n\tconst suppressSuggestions = contextKeyService.getContextKeyValue<boolean | undefined>(InlineCompletionContextKeys.suppressSuggestions.key);\n\tif (suppressSuggestions !== undefined) {\n\t\treturn !suppressSuggestions;\n\t}\n\treturn !editor.getOption(EditorOption.inlineSuggest).suppressSuggestions;\n}\n\nexport class SuggestModel implements IDisposable {\n\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate readonly _triggerCharacterListener = new DisposableStore();\n\tprivate readonly _triggerQuickSuggest = new TimeoutTimer();\n\n\tprivate _triggerState: SuggestTriggerOptions | undefined = undefined;\n\tprivate _requestToken?: CancellationTokenSource;\n\tprivate _context?: LineContext;\n\tprivate _currentSelection: Selection;\n\n\tprivate _completionModel: CompletionModel | undefined;\n\tprivate readonly _completionDisposables = new DisposableStore();\n\tprivate readonly _onDidCancel = new Emitter<ICancelEvent>();\n\tprivate readonly _onDidTrigger = new Emitter<ITriggerEvent>();\n\tprivate readonly _onDidSuggest = new Emitter<ISuggestEvent>();\n\n\treadonly onDidCancel: Event<ICancelEvent> = this._onDidCancel.event;\n\treadonly onDidTrigger: Event<ITriggerEvent> = this._onDidTrigger.event;\n\treadonly onDidSuggest: Event<ISuggestEvent> = this._onDidSuggest.event;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t\t@IClipboardService private readonly _clipboardService: IClipboardService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEnvironmentService private readonly _envService: IEnvironmentService,\n\t) {\n\t\tthis._currentSelection = this._editor.getSelection() || new Selection(1, 1, 1, 1);\n\n\t\t// wire up various listeners\n\t\tthis._toDispose.add(this._editor.onDidChangeModel(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis.cancel();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeModelLanguage(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis.cancel();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeConfiguration(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t}));\n\t\tthis._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis._updateActiveSuggestSession();\n\t\t}));\n\n\t\tlet editorIsComposing = false;\n\t\tthis._toDispose.add(this._editor.onDidCompositionStart(() => {\n\t\t\teditorIsComposing = true;\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidCompositionEnd(() => {\n\t\t\teditorIsComposing = false;\n\t\t\tthis._onCompositionEnd();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeCursorSelection(e => {\n\t\t\t// only trigger suggest when the editor isn't composing a character\n\t\t\tif (!editorIsComposing) {\n\t\t\t\tthis._onCursorChange(e);\n\t\t\t}\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeModelContent(() => {\n\t\t\t// only filter completions when the editor isn't composing a character\n\t\t\t// allow-any-unicode-next-line\n\t\t\t// e.g. ¨ + u makes ü but just ¨ cannot be used for filtering\n\t\t\tif (!editorIsComposing && this._triggerState !== undefined) {\n\t\t\t\tthis._refilterCompletionItems();\n\t\t\t}\n\t\t}));\n\n\t\tthis._updateTriggerCharacters();\n\t}\n\n\tdispose(): void {\n\t\tdispose(this._triggerCharacterListener);\n\t\tdispose([this._onDidCancel, this._onDidSuggest, this._onDidTrigger, this._triggerQuickSuggest]);\n\t\tthis._toDispose.dispose();\n\t\tthis._completionDisposables.dispose();\n\t\tthis.cancel();\n\t}\n\n\tprivate _updateTriggerCharacters(): void {\n\t\tthis._triggerCharacterListener.clear();\n\n\t\tif (this._editor.getOption(EditorOption.readOnly)\n\t\t\t|| !this._editor.hasModel()\n\t\t\t|| !this._editor.getOption(EditorOption.suggestOnTriggerCharacters)) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst supportsByTriggerCharacter = new Map<string, Set<CompletionItemProvider>>();\n\t\tfor (const support of this._languageFeaturesService.completionProvider.all(this._editor.getModel())) {\n\t\t\tfor (const ch of support.triggerCharacters || []) {\n\t\t\t\tlet set = supportsByTriggerCharacter.get(ch);\n\t\t\t\tif (!set) {\n\t\t\t\t\tset = new Set();\n\t\t\t\t\tconst suggestSupport = getSnippetSuggestSupport();\n\t\t\t\t\tif (suggestSupport) {\n\t\t\t\t\t\tset.add(suggestSupport);\n\t\t\t\t\t}\n\t\t\t\t\tsupportsByTriggerCharacter.set(ch, set);\n\t\t\t\t}\n\t\t\t\tset.add(support);\n\t\t\t}\n\t\t}\n\n\n\t\tconst checkTriggerCharacter = (text?: string) => {\n\n\t\t\tif (!canShowSuggestOnTriggerCharacters(this._editor, this._contextKeyService, this._configurationService)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (LineContext.shouldAutoTrigger(this._editor)) {\n\t\t\t\t// don't trigger by trigger characters when this is a case for quick suggest\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!text) {\n\t\t\t\t// came here from the compositionEnd-event\n\t\t\t\tconst position = this._editor.getPosition()!;\n\t\t\t\tconst model = this._editor.getModel()!;\n\t\t\t\ttext = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\n\t\t\t}\n\n\t\t\tlet lastChar = '';\n\t\t\tif (isLowSurrogate(text.charCodeAt(text.length - 1))) {\n\t\t\t\tif (isHighSurrogate(text.charCodeAt(text.length - 2))) {\n\t\t\t\t\tlastChar = text.substr(text.length - 2);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlastChar = text.charAt(text.length - 1);\n\t\t\t}\n\n\t\t\tconst supports = supportsByTriggerCharacter.get(lastChar);\n\t\t\tif (supports) {\n\n\t\t\t\t// keep existing items that where not computed by the\n\t\t\t\t// supports/providers that want to trigger now\n\t\t\t\tconst providerItemsToReuse = new Map<CompletionItemProvider, CompletionItem[]>();\n\t\t\t\tif (this._completionModel) {\n\t\t\t\t\tfor (const [provider, items] of this._completionModel.getItemsByProvider()) {\n\t\t\t\t\t\tif (!supports.has(provider)) {\n\t\t\t\t\t\t\tproviderItemsToReuse.set(provider, items);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.trigger({\n\t\t\t\t\tauto: true,\n\t\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerCharacter,\n\t\t\t\t\ttriggerCharacter: lastChar,\n\t\t\t\t\tretrigger: Boolean(this._completionModel),\n\t\t\t\t\tclipboardText: this._completionModel?.clipboardText,\n\t\t\t\t\tcompletionOptions: { providerFilter: supports, providerItemsToReuse }\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter));\n\t\tthis._triggerCharacterListener.add(this._editor.onDidCompositionEnd(() => checkTriggerCharacter()));\n\t}\n\n\t// --- trigger/retrigger/cancel suggest\n\n\tget state(): State {\n\t\tif (!this._triggerState) {\n\t\t\treturn State.Idle;\n\t\t} else if (!this._triggerState.auto) {\n\t\t\treturn State.Manual;\n\t\t} else {\n\t\t\treturn State.Auto;\n\t\t}\n\t}\n\n\tcancel(retrigger: boolean = false): void {\n\t\tif (this._triggerState !== undefined) {\n\t\t\tthis._triggerQuickSuggest.cancel();\n\t\t\tthis._requestToken?.cancel();\n\t\t\tthis._requestToken = undefined;\n\t\t\tthis._triggerState = undefined;\n\t\t\tthis._completionModel = undefined;\n\t\t\tthis._context = undefined;\n\t\t\tthis._onDidCancel.fire({ retrigger });\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis._completionDisposables.clear();\n\t}\n\n\tprivate _updateActiveSuggestSession(): void {\n\t\tif (this._triggerState !== undefined) {\n\t\t\tif (!this._editor.hasModel() || !this._languageFeaturesService.completionProvider.has(this._editor.getModel())) {\n\t\t\t\tthis.cancel();\n\t\t\t} else {\n\t\t\t\tthis.trigger({ auto: this._triggerState.auto, retrigger: true });\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _onCursorChange(e: ICursorSelectionChangedEvent): void {\n\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevSelection = this._currentSelection;\n\t\tthis._currentSelection = this._editor.getSelection();\n\n\t\tif (!e.selection.isEmpty()\n\t\t\t|| (e.reason !== CursorChangeReason.NotSet && e.reason !== CursorChangeReason.Explicit)\n\t\t\t|| (e.source !== 'keyboard' && e.source !== 'deleteLeft')\n\t\t) {\n\t\t\t// Early exit if nothing needs to be done!\n\t\t\t// Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\n\t\tif (this._triggerState === undefined && e.reason === CursorChangeReason.NotSet) {\n\t\t\tif (prevSelection.containsRange(this._currentSelection) || prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())) {\n\t\t\t\t// cursor did move RIGHT due to typing -> trigger quick suggest\n\t\t\t\tthis._doTriggerQuickSuggest();\n\t\t\t}\n\n\t\t} else if (this._triggerState !== undefined && e.reason === CursorChangeReason.Explicit) {\n\t\t\t// suggest is active and something like cursor keys are used to move\n\t\t\t// the cursor. this means we can refilter at the new position\n\t\t\tthis._refilterCompletionItems();\n\t\t}\n\t}\n\n\tprivate _onCompositionEnd(): void {\n\t\t// trigger or refilter when composition ends\n\t\tif (this._triggerState === undefined) {\n\t\t\tthis._doTriggerQuickSuggest();\n\t\t} else {\n\t\t\tthis._refilterCompletionItems();\n\t\t}\n\t}\n\n\tprivate _doTriggerQuickSuggest(): void {\n\n\t\tif (QuickSuggestionsOptions.isAllOff(this._editor.getOption(EditorOption.quickSuggestions))) {\n\t\t\t// not enabled\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).snippetsPreventQuickSuggestions && SnippetController2.get(this._editor)?.isInSnippet()) {\n\t\t\t// no quick suggestion when in snippet mode\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cancel();\n\n\t\tthis._triggerQuickSuggest.cancelAndSet(() => {\n\t\t\tif (this._triggerState !== undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!LineContext.shouldAutoTrigger(this._editor)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst model = this._editor.getModel();\n\t\t\tconst pos = this._editor.getPosition();\n\t\t\t// validate enabled now\n\t\t\tconst config = this._editor.getOption(EditorOption.quickSuggestions);\n\t\t\tif (QuickSuggestionsOptions.isAllOff(config)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!QuickSuggestionsOptions.isAllOn(config)) {\n\t\t\t\t// Check the type of the token that triggered this\n\t\t\t\tmodel.tokenization.tokenizeIfCheap(pos.lineNumber);\n\t\t\t\tconst lineTokens = model.tokenization.getLineTokens(pos.lineNumber);\n\t\t\t\tconst tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));\n\t\t\t\tif (QuickSuggestionsOptions.valueFor(config, tokenType) !== 'on') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!canShowQuickSuggest(this._editor, this._contextKeyService, this._configurationService)) {\n\t\t\t\t// do not trigger quick suggestions if inline suggestions are shown\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._languageFeaturesService.completionProvider.has(model)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// we made it till here -> trigger now\n\t\t\tthis.trigger({ auto: true });\n\n\t\t}, this._editor.getOption(EditorOption.quickSuggestionsDelay));\n\t}\n\n\tprivate _refilterCompletionItems(): void {\n\t\tassertType(this._editor.hasModel());\n\t\tassertType(this._triggerState !== undefined);\n\n\t\tconst model = this._editor.getModel();\n\t\tconst position = this._editor.getPosition();\n\t\tconst ctx = new LineContext(model, position, { ...this._triggerState, refilter: true });\n\t\tthis._onNewContext(ctx);\n\t}\n\n\ttrigger(options: SuggestTriggerOptions): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this._editor.getModel();\n\t\tconst ctx = new LineContext(model, this._editor.getPosition(), options);\n\n\t\t// Cancel previous requests, change state & update UI\n\t\tthis.cancel(options.retrigger);\n\t\tthis._triggerState = options;\n\t\tthis._onDidTrigger.fire({ auto: options.auto, shy: options.shy ?? false, position: this._editor.getPosition() });\n\n\t\t// Capture context when request was sent\n\t\tthis._context = ctx;\n\n\t\t// Build context for request\n\t\tlet suggestCtx: CompletionContext = { triggerKind: options.triggerKind ?? CompletionTriggerKind.Invoke };\n\t\tif (options.triggerCharacter) {\n\t\t\tsuggestCtx = {\n\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerCharacter,\n\t\t\t\ttriggerCharacter: options.triggerCharacter\n\t\t\t};\n\t\t}\n\n\t\tthis._requestToken = new CancellationTokenSource();\n\n\t\t// kind filter and snippet sort rules\n\t\tconst snippetSuggestions = this._editor.getOption(EditorOption.snippetSuggestions);\n\t\tlet snippetSortOrder = SnippetSortOrder.Inline;\n\t\tswitch (snippetSuggestions) {\n\t\t\tcase 'top':\n\t\t\t\tsnippetSortOrder = SnippetSortOrder.Top;\n\t\t\t\tbreak;\n\t\t\t// \t↓ that's the default anyways...\n\t\t\t// case 'inline':\n\t\t\t// \tsnippetSortOrder = SnippetSortOrder.Inline;\n\t\t\t// \tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tsnippetSortOrder = SnippetSortOrder.Bottom;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst { itemKind: itemKindFilter, showDeprecated } = SuggestModel.createSuggestFilter(this._editor);\n\t\tconst completionOptions = new CompletionOptions(snippetSortOrder, options.completionOptions?.kindFilter ?? itemKindFilter, options.completionOptions?.providerFilter, options.completionOptions?.providerItemsToReuse, showDeprecated);\n\t\tconst wordDistance = WordDistance.create(this._editorWorkerService, this._editor);\n\n\t\tconst completions = provideSuggestionItems(\n\t\t\tthis._languageFeaturesService.completionProvider,\n\t\t\tmodel,\n\t\t\tthis._editor.getPosition(),\n\t\t\tcompletionOptions,\n\t\t\tsuggestCtx,\n\t\t\tthis._requestToken.token\n\t\t);\n\n\t\tPromise.all([completions, wordDistance]).then(async ([completions, wordDistance]) => {\n\n\t\t\tthis._requestToken?.dispose();\n\n\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\tcompletions.disposable.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet clipboardText = options?.clipboardText;\n\t\t\tif (!clipboardText && completions.needsClipboard) {\n\t\t\t\tclipboardText = await this._clipboardService.readText();\n\t\t\t}\n\n\t\t\tif (this._triggerState === undefined) {\n\t\t\t\tcompletions.disposable.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst model = this._editor.getModel();\n\t\t\t// const items = completions.items;\n\n\t\t\t// if (existing) {\n\t\t\t// \tconst cmpFn = getSuggestionComparator(snippetSortOrder);\n\t\t\t// \titems = items.concat(existing.items).sort(cmpFn);\n\t\t\t// }\n\n\t\t\tconst ctx = new LineContext(model, this._editor.getPosition(), options);\n\t\t\tconst fuzzySearchOptions = {\n\t\t\t\t...FuzzyScoreOptions.default,\n\t\t\t\tfirstMatchCanBeWeak: !this._editor.getOption(EditorOption.suggest).matchOnWordStartOnly\n\t\t\t};\n\t\t\tthis._completionModel = new CompletionModel(completions.items, this._context!.column, {\n\t\t\t\tleadingLineContent: ctx.leadingLineContent,\n\t\t\t\tcharacterCountDelta: ctx.column - this._context!.column\n\t\t\t},\n\t\t\t\twordDistance,\n\t\t\t\tthis._editor.getOption(EditorOption.suggest),\n\t\t\t\tthis._editor.getOption(EditorOption.snippetSuggestions),\n\t\t\t\tfuzzySearchOptions,\n\t\t\t\tclipboardText\n\t\t\t);\n\n\t\t\t// store containers so that they can be disposed later\n\t\t\tthis._completionDisposables.add(completions.disposable);\n\n\t\t\tthis._onNewContext(ctx);\n\n\t\t\t// finally report telemetry about durations\n\t\t\tthis._reportDurationsTelemetry(completions.durations);\n\n\t\t\t// report invalid completions by source\n\t\t\tif (!this._envService.isBuilt || this._envService.isExtensionDevelopment) {\n\t\t\t\tfor (const item of completions.items) {\n\t\t\t\t\tif (item.isInvalid) {\n\t\t\t\t\t\tthis._logService.warn(`[suggest] did IGNORE invalid completion item from ${item.provider._debugDisplayName}`, item.completion);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}).catch(onUnexpectedError);\n\t}\n\n\t/**\n\t * Report durations telemetry with a 1% sampling rate.\n\t * The telemetry is reported only if a random number between 0 and 100 is less than or equal to 1.\n\t */\n\tprivate _reportDurationsTelemetry(durations: CompletionDurations): void {\n\t\tif (Math.random() > 0.0001) { // 0.01%\n\t\t\treturn;\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\ttype Durations = { data: string };\n\t\t\ttype DurationsClassification = {\n\t\t\t\towner: 'jrieken';\n\t\t\t\tcomment: 'Completions performance numbers';\n\t\t\t\tdata: { comment: 'Durations per source and overall'; classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth' };\n\t\t\t};\n\t\t\tthis._telemetryService.publicLog2<Durations, DurationsClassification>('suggest.durations.json', { data: JSON.stringify(durations) });\n\t\t\tthis._logService.debug('suggest.durations.json', durations);\n\t\t});\n\t}\n\n\tstatic createSuggestFilter(editor: ICodeEditor): { itemKind: Set<CompletionItemKind>; showDeprecated: boolean } {\n\t\t// kind filter and snippet sort rules\n\t\tconst result = new Set<CompletionItemKind>();\n\n\t\t// snippet setting\n\t\tconst snippetSuggestions = editor.getOption(EditorOption.snippetSuggestions);\n\t\tif (snippetSuggestions === 'none') {\n\t\t\tresult.add(CompletionItemKind.Snippet);\n\t\t}\n\n\t\t// type setting\n\t\tconst suggestOptions = editor.getOption(EditorOption.suggest);\n\t\tif (!suggestOptions.showMethods) { result.add(CompletionItemKind.Method); }\n\t\tif (!suggestOptions.showFunctions) { result.add(CompletionItemKind.Function); }\n\t\tif (!suggestOptions.showConstructors) { result.add(CompletionItemKind.Constructor); }\n\t\tif (!suggestOptions.showFields) { result.add(CompletionItemKind.Field); }\n\t\tif (!suggestOptions.showVariables) { result.add(CompletionItemKind.Variable); }\n\t\tif (!suggestOptions.showClasses) { result.add(CompletionItemKind.Class); }\n\t\tif (!suggestOptions.showStructs) { result.add(CompletionItemKind.Struct); }\n\t\tif (!suggestOptions.showInterfaces) { result.add(CompletionItemKind.Interface); }\n\t\tif (!suggestOptions.showModules) { result.add(CompletionItemKind.Module); }\n\t\tif (!suggestOptions.showProperties) { result.add(CompletionItemKind.Property); }\n\t\tif (!suggestOptions.showEvents) { result.add(CompletionItemKind.Event); }\n\t\tif (!suggestOptions.showOperators) { result.add(CompletionItemKind.Operator); }\n\t\tif (!suggestOptions.showUnits) { result.add(CompletionItemKind.Unit); }\n\t\tif (!suggestOptions.showValues) { result.add(CompletionItemKind.Value); }\n\t\tif (!suggestOptions.showConstants) { result.add(CompletionItemKind.Constant); }\n\t\tif (!suggestOptions.showEnums) { result.add(CompletionItemKind.Enum); }\n\t\tif (!suggestOptions.showEnumMembers) { result.add(CompletionItemKind.EnumMember); }\n\t\tif (!suggestOptions.showKeywords) { result.add(CompletionItemKind.Keyword); }\n\t\tif (!suggestOptions.showWords) { result.add(CompletionItemKind.Text); }\n\t\tif (!suggestOptions.showColors) { result.add(CompletionItemKind.Color); }\n\t\tif (!suggestOptions.showFiles) { result.add(CompletionItemKind.File); }\n\t\tif (!suggestOptions.showReferences) { result.add(CompletionItemKind.Reference); }\n\t\tif (!suggestOptions.showColors) { result.add(CompletionItemKind.Customcolor); }\n\t\tif (!suggestOptions.showFolders) { result.add(CompletionItemKind.Folder); }\n\t\tif (!suggestOptions.showTypeParameters) { result.add(CompletionItemKind.TypeParameter); }\n\t\tif (!suggestOptions.showSnippets) { result.add(CompletionItemKind.Snippet); }\n\t\tif (!suggestOptions.showUsers) { result.add(CompletionItemKind.User); }\n\t\tif (!suggestOptions.showIssues) { result.add(CompletionItemKind.Issue); }\n\n\t\treturn { itemKind: result, showDeprecated: suggestOptions.showDeprecated };\n\t}\n\n\tprivate _onNewContext(ctx: LineContext): void {\n\n\t\tif (!this._context) {\n\t\t\t// happens when 24x7 IntelliSense is enabled and still in its delay\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.lineNumber !== this._context.lineNumber) {\n\t\t\t// e.g. happens when pressing Enter while IntelliSense is computed\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (getLeadingWhitespace(ctx.leadingLineContent) !== getLeadingWhitespace(this._context.leadingLineContent)) {\n\t\t\t// cancel IntelliSense when line start changes\n\t\t\t// happens when the current word gets outdented\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.column < this._context.column) {\n\t\t\t// typed -> moved cursor LEFT -> retrigger if still on a word\n\t\t\tif (ctx.leadingWord.word) {\n\t\t\t\tthis.trigger({ auto: this._context.triggerOptions.auto, retrigger: true });\n\t\t\t} else {\n\t\t\t\tthis.cancel();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._completionModel) {\n\t\t\t// happens when IntelliSense is not yet computed\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.leadingWord.word.length !== 0 && ctx.leadingWord.startColumn > this._context.leadingWord.startColumn) {\n\t\t\t// started a new word while IntelliSense shows -> retrigger but reuse all items that we currently have\n\t\t\tconst shouldAutoTrigger = LineContext.shouldAutoTrigger(this._editor);\n\t\t\tif (shouldAutoTrigger && this._context) {\n\t\t\t\t// shouldAutoTrigger forces tokenization, which can cause pending cursor change events to be emitted, which can cause\n\t\t\t\t// suggestions to be cancelled, which causes `this._context` to be undefined\n\t\t\t\tconst map = this._completionModel.getItemsByProvider();\n\t\t\t\tthis.trigger({\n\t\t\t\t\tauto: this._context.triggerOptions.auto,\n\t\t\t\t\tretrigger: true,\n\t\t\t\t\tclipboardText: this._completionModel.clipboardText,\n\t\t\t\t\tcompletionOptions: { providerItemsToReuse: map }\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.column > this._context.column && this._completionModel.getIncompleteProvider().size > 0 && ctx.leadingWord.word.length !== 0) {\n\t\t\t// typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger\n\n\t\t\tconst providerItemsToReuse = new Map<CompletionItemProvider, CompletionItem[]>();\n\t\t\tconst providerFilter = new Set<CompletionItemProvider>();\n\t\t\tfor (const [provider, items] of this._completionModel.getItemsByProvider()) {\n\t\t\t\tif (items.length > 0 && items[0].container.incomplete) {\n\t\t\t\t\tproviderFilter.add(provider);\n\t\t\t\t} else {\n\t\t\t\t\tproviderItemsToReuse.set(provider, items);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.trigger({\n\t\t\t\tauto: this._context.triggerOptions.auto,\n\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerForIncompleteCompletions,\n\t\t\t\tretrigger: true,\n\t\t\t\tclipboardText: this._completionModel.clipboardText,\n\t\t\t\tcompletionOptions: { providerFilter, providerItemsToReuse }\n\t\t\t});\n\n\t\t} else {\n\t\t\t// typed -> moved cursor RIGHT -> update UI\n\t\t\tconst oldLineContext = this._completionModel.lineContext;\n\t\t\tlet isFrozen = false;\n\n\t\t\tthis._completionModel.lineContext = {\n\t\t\t\tleadingLineContent: ctx.leadingLineContent,\n\t\t\t\tcharacterCountDelta: ctx.column - this._context.column\n\t\t\t};\n\n\t\t\tif (this._completionModel.items.length === 0) {\n\n\t\t\t\tconst shouldAutoTrigger = LineContext.shouldAutoTrigger(this._editor);\n\t\t\t\tif (!this._context) {\n\t\t\t\t\t// shouldAutoTrigger forces tokenization, which can cause pending cursor change events to be emitted, which can cause\n\t\t\t\t\t// suggestions to be cancelled, which causes `this._context` to be undefined\n\t\t\t\t\tthis.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (shouldAutoTrigger && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {\n\t\t\t\t\t// retrigger when heading into a new word\n\t\t\t\t\tthis.trigger({ auto: this._context.triggerOptions.auto, retrigger: true });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._context.triggerOptions.auto) {\n\t\t\t\t\t// freeze when IntelliSense was manually requested\n\t\t\t\t\tthis._completionModel.lineContext = oldLineContext;\n\t\t\t\t\tisFrozen = this._completionModel.items.length > 0;\n\n\t\t\t\t\tif (isFrozen && ctx.leadingWord.word.length === 0) {\n\t\t\t\t\t\t// there were results before but now there aren't\n\t\t\t\t\t\t// and also we are not on a word anymore -> cancel\n\t\t\t\t\t\tthis.cancel();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// nothing left\n\t\t\t\t\tthis.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._onDidSuggest.fire({\n\t\t\t\tcompletionModel: this._completionModel,\n\t\t\t\ttriggerOptions: ctx.triggerOptions,\n\t\t\t\tisFrozen,\n\t\t\t});\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TimeoutTimer } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { DisposableStore, dispose, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { getLeadingWhitespace, isHighSurrogate, isLowSurrogate } from '../../../../base/common/strings.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CursorChangeReason, ICursorSelectionChangedEvent } from '../../../common/cursorEvents.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { CompletionContext, CompletionItemKind, CompletionItemProvider, CompletionTriggerKind } from '../../../common/languages.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { WordDistance } from './wordDistance.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { CompletionModel } from './completionModel.js';\nimport { CompletionDurations, CompletionItem, CompletionOptions, getSnippetSuggestSupport, provideSuggestionItems, QuickSuggestionsOptions, SnippetSortOrder } from './suggest.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { FuzzyScoreOptions } from '../../../../base/common/filters.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { InlineCompletionContextKeys } from '../../inlineCompletions/browser/controller/inlineCompletionContextKeys.js';\nimport { SnippetController2 } from '../../snippet/browser/snippetController2.js';\nimport { IEnvironmentService } from '../../../../platform/environment/common/environment.js';\n\nexport interface ICancelEvent {\n\treadonly retrigger: boolean;\n}\n\nexport interface ITriggerEvent {\n\treadonly auto: boolean;\n\treadonly shy: boolean;\n\treadonly position: IPosition;\n}\n\nexport interface ISuggestEvent {\n\treadonly completionModel: CompletionModel;\n\treadonly isFrozen: boolean;\n\treadonly triggerOptions: SuggestTriggerOptions;\n}\n\nexport interface SuggestTriggerOptions {\n\treadonly auto: boolean;\n\treadonly shy?: boolean;\n\treadonly refilter?: boolean;\n\treadonly retrigger?: boolean;\n\treadonly triggerKind?: CompletionTriggerKind;\n\treadonly triggerCharacter?: string;\n\treadonly clipboardText?: string;\n\tcompletionOptions?: Partial<CompletionOptions>;\n}\n\nexport class LineContext {\n\n\tstatic shouldAutoTrigger(editor: ICodeEditor): boolean {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst model = editor.getModel();\n\t\tconst pos = editor.getPosition();\n\t\tmodel.tokenization.tokenizeIfCheap(pos.lineNumber);\n\n\t\tconst word = model.getWordAtPosition(pos);\n\t\tif (!word) {\n\t\t\treturn false;\n\t\t}\n\t\tif (word.endColumn !== pos.column &&\n\t\t\tword.startColumn + 1 !== pos.column /* after typing a single character before a word */) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!isNaN(Number(word.word))) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\treadonly lineNumber: number;\n\treadonly column: number;\n\treadonly leadingLineContent: string;\n\treadonly leadingWord: IWordAtPosition;\n\treadonly triggerOptions: SuggestTriggerOptions;\n\n\tconstructor(model: ITextModel, position: Position, triggerOptions: SuggestTriggerOptions) {\n\t\tthis.leadingLineContent = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\n\t\tthis.leadingWord = model.getWordUntilPosition(position);\n\t\tthis.lineNumber = position.lineNumber;\n\t\tthis.column = position.column;\n\t\tthis.triggerOptions = triggerOptions;\n\t}\n}\n\nexport const enum State {\n\tIdle = 0,\n\tManual = 1,\n\tAuto = 2\n}\n\nfunction canShowQuickSuggest(editor: ICodeEditor, contextKeyService: IContextKeyService, configurationService: IConfigurationService): boolean {\n\tif (!Boolean(contextKeyService.getContextKeyValue(InlineCompletionContextKeys.inlineSuggestionVisible.key))) {\n\t\t// Allow if there is no inline suggestion.\n\t\treturn true;\n\t}\n\tconst suppressSuggestions = contextKeyService.getContextKeyValue<boolean | undefined>(InlineCompletionContextKeys.suppressSuggestions.key);\n\tif (suppressSuggestions !== undefined) {\n\t\treturn !suppressSuggestions;\n\t}\n\treturn !editor.getOption(EditorOption.inlineSuggest).suppressSuggestions;\n}\n\nfunction canShowSuggestOnTriggerCharacters(editor: ICodeEditor, contextKeyService: IContextKeyService, configurationService: IConfigurationService): boolean {\n\tif (!Boolean(contextKeyService.getContextKeyValue('inlineSuggestionVisible'))) {\n\t\t// Allow if there is no inline suggestion.\n\t\treturn true;\n\t}\n\tconst suppressSuggestions = contextKeyService.getContextKeyValue<boolean | undefined>(InlineCompletionContextKeys.suppressSuggestions.key);\n\tif (suppressSuggestions !== undefined) {\n\t\treturn !suppressSuggestions;\n\t}\n\treturn !editor.getOption(EditorOption.inlineSuggest).suppressSuggestions;\n}\n\nexport class SuggestModel implements IDisposable {\n\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate readonly _triggerCharacterListener = new DisposableStore();\n\tprivate readonly _triggerQuickSuggest = new TimeoutTimer();\n\n\tprivate _triggerState: SuggestTriggerOptions | undefined = undefined;\n\tprivate _requestToken?: CancellationTokenSource;\n\tprivate _context?: LineContext;\n\tprivate _currentSelection: Selection;\n\n\tprivate _completionModel: CompletionModel | undefined;\n\tprivate readonly _completionDisposables = new DisposableStore();\n\tprivate readonly _onDidCancel = new Emitter<ICancelEvent>();\n\tprivate readonly _onDidTrigger = new Emitter<ITriggerEvent>();\n\tprivate readonly _onDidSuggest = new Emitter<ISuggestEvent>();\n\n\treadonly onDidCancel: Event<ICancelEvent> = this._onDidCancel.event;\n\treadonly onDidTrigger: Event<ITriggerEvent> = this._onDidTrigger.event;\n\treadonly onDidSuggest: Event<ISuggestEvent> = this._onDidSuggest.event;\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IEditorWorkerService private readonly _editorWorkerService: IEditorWorkerService,\n\t\t@IClipboardService private readonly _clipboardService: IClipboardService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@IEnvironmentService private readonly _envService: IEnvironmentService,\n\t) {\n\t\tthis._currentSelection = this._editor.getSelection() || new Selection(1, 1, 1, 1);\n\n\t\t// wire up various listeners\n\t\tthis._toDispose.add(this._editor.onDidChangeModel(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis.cancel();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeModelLanguage(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis.cancel();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeConfiguration(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t}));\n\t\tthis._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(() => {\n\t\t\tthis._updateTriggerCharacters();\n\t\t\tthis._updateActiveSuggestSession();\n\t\t}));\n\n\t\tlet editorIsComposing = false;\n\t\tthis._toDispose.add(this._editor.onDidCompositionStart(() => {\n\t\t\teditorIsComposing = true;\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidCompositionEnd(() => {\n\t\t\teditorIsComposing = false;\n\t\t\tthis._onCompositionEnd();\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeCursorSelection(e => {\n\t\t\t// only trigger suggest when the editor isn't composing a character\n\t\t\tif (!editorIsComposing) {\n\t\t\t\tthis._onCursorChange(e);\n\t\t\t}\n\t\t}));\n\t\tthis._toDispose.add(this._editor.onDidChangeModelContent(() => {\n\t\t\t// only filter completions when the editor isn't composing a character\n\t\t\t// allow-any-unicode-next-line\n\t\t\t// e.g. ¨ + u makes ü but just ¨ cannot be used for filtering\n\t\t\tif (!editorIsComposing && this._triggerState !== undefined) {\n\t\t\t\tthis._refilterCompletionItems();\n\t\t\t}\n\t\t}));\n\n\t\tthis._updateTriggerCharacters();\n\t}\n\n\tdispose(): void {\n\t\tdispose(this._triggerCharacterListener);\n\t\tdispose([this._onDidCancel, this._onDidSuggest, this._onDidTrigger, this._triggerQuickSuggest]);\n\t\tthis._toDispose.dispose();\n\t\tthis._completionDisposables.dispose();\n\t\tthis.cancel();\n\t}\n\n\tprivate _updateTriggerCharacters(): void {\n\t\tthis._triggerCharacterListener.clear();\n\n\t\tif (this._editor.getOption(EditorOption.readOnly)\n\t\t\t|| !this._editor.hasModel()\n\t\t\t|| !this._editor.getOption(EditorOption.suggestOnTriggerCharacters)) {\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst supportsByTriggerCharacter = new Map<string, Set<CompletionItemProvider>>();\n\t\tfor (const support of this._languageFeaturesService.completionProvider.all(this._editor.getModel())) {\n\t\t\tfor (const ch of support.triggerCharacters || []) {\n\t\t\t\tlet set = supportsByTriggerCharacter.get(ch);\n\t\t\t\tif (!set) {\n\t\t\t\t\tset = new Set();\n\t\t\t\t\tconst suggestSupport = getSnippetSuggestSupport();\n\t\t\t\t\tif (suggestSupport) {\n\t\t\t\t\t\tset.add(suggestSupport);\n\t\t\t\t\t}\n\t\t\t\t\tsupportsByTriggerCharacter.set(ch, set);\n\t\t\t\t}\n\t\t\t\tset.add(support);\n\t\t\t}\n\t\t}\n\n\n\t\tconst checkTriggerCharacter = (text?: string) => {\n\n\t\t\tif (!canShowSuggestOnTriggerCharacters(this._editor, this._contextKeyService, this._configurationService)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (LineContext.shouldAutoTrigger(this._editor)) {\n\t\t\t\t// don't trigger by trigger characters when this is a case for quick suggest\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!text) {\n\t\t\t\t// came here from the compositionEnd-event\n\t\t\t\tconst position = this._editor.getPosition()!;\n\t\t\t\tconst model = this._editor.getModel()!;\n\t\t\t\ttext = model.getLineContent(position.lineNumber).substr(0, position.column - 1);\n\t\t\t}\n\n\t\t\tlet lastChar = '';\n\t\t\tif (isLowSurrogate(text.charCodeAt(text.length - 1))) {\n\t\t\t\tif (isHighSurrogate(text.charCodeAt(text.length - 2))) {\n\t\t\t\t\tlastChar = text.substr(text.length - 2);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlastChar = text.charAt(text.length - 1);\n\t\t\t}\n\n\t\t\tconst supports = supportsByTriggerCharacter.get(lastChar);\n\t\t\tif (supports) {\n\n\t\t\t\t// keep existing items that where not computed by the\n\t\t\t\t// supports/providers that want to trigger now\n\t\t\t\tconst providerItemsToReuse = new Map<CompletionItemProvider, CompletionItem[]>();\n\t\t\t\tif (this._completionModel) {\n\t\t\t\t\tfor (const [provider, items] of this._completionModel.getItemsByProvider()) {\n\t\t\t\t\t\tif (!supports.has(provider)) {\n\t\t\t\t\t\t\tproviderItemsToReuse.set(provider, items);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.trigger({\n\t\t\t\t\tauto: true,\n\t\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerCharacter,\n\t\t\t\t\ttriggerCharacter: lastChar,\n\t\t\t\t\tretrigger: Boolean(this._completionModel),\n\t\t\t\t\tclipboardText: this._completionModel?.clipboardText,\n\t\t\t\t\tcompletionOptions: { providerFilter: supports, providerItemsToReuse }\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis._triggerCharacterListener.add(this._editor.onDidType(checkTriggerCharacter));\n\t\tthis._triggerCharacterListener.add(this._editor.onDidCompositionEnd(() => checkTriggerCharacter()));\n\t}\n\n\t// --- trigger/retrigger/cancel suggest\n\n\tget state(): State {\n\t\tif (!this._triggerState) {\n\t\t\treturn State.Idle;\n\t\t} else if (!this._triggerState.auto) {\n\t\t\treturn State.Manual;\n\t\t} else {\n\t\t\treturn State.Auto;\n\t\t}\n\t}\n\n\tcancel(retrigger: boolean = false): void {\n\t\tif (this._triggerState !== undefined) {\n\t\t\tthis._triggerQuickSuggest.cancel();\n\t\t\tthis._requestToken?.cancel();\n\t\t\tthis._requestToken = undefined;\n\t\t\tthis._triggerState = undefined;\n\t\t\tthis._completionModel = undefined;\n\t\t\tthis._context = undefined;\n\t\t\tthis._onDidCancel.fire({ retrigger });\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis._completionDisposables.clear();\n\t}\n\n\tprivate _updateActiveSuggestSession(): void {\n\t\tif (this._triggerState !== undefined) {\n\t\t\tif (!this._editor.hasModel() || !this._languageFeaturesService.completionProvider.has(this._editor.getModel())) {\n\t\t\t\tthis.cancel();\n\t\t\t} else {\n\t\t\t\tthis.trigger({ auto: this._triggerState.auto, retrigger: true });\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _onCursorChange(e: ICursorSelectionChangedEvent): void {\n\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevSelection = this._currentSelection;\n\t\tthis._currentSelection = this._editor.getSelection();\n\n\t\tif (!e.selection.isEmpty()\n\t\t\t|| (e.reason !== CursorChangeReason.NotSet && e.reason !== CursorChangeReason.Explicit)\n\t\t\t|| (e.source !== 'keyboard' && e.source !== 'deleteLeft')\n\t\t) {\n\t\t\t// Early exit if nothing needs to be done!\n\t\t\t// Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\n\t\tif (this._triggerState === undefined && e.reason === CursorChangeReason.NotSet) {\n\t\t\tif (prevSelection.containsRange(this._currentSelection) || prevSelection.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition())) {\n\t\t\t\t// cursor did move RIGHT due to typing -> trigger quick suggest\n\t\t\t\tthis._doTriggerQuickSuggest();\n\t\t\t}\n\n\t\t} else if (this._triggerState !== undefined && e.reason === CursorChangeReason.Explicit) {\n\t\t\t// suggest is active and something like cursor keys are used to move\n\t\t\t// the cursor. this means we can refilter at the new position\n\t\t\tthis._refilterCompletionItems();\n\t\t}\n\t}\n\n\tprivate _onCompositionEnd(): void {\n\t\t// trigger or refilter when composition ends\n\t\tif (this._triggerState === undefined) {\n\t\t\tthis._doTriggerQuickSuggest();\n\t\t} else {\n\t\t\tthis._refilterCompletionItems();\n\t\t}\n\t}\n\n\tprivate _doTriggerQuickSuggest(): void {\n\n\t\tif (QuickSuggestionsOptions.isAllOff(this._editor.getOption(EditorOption.quickSuggestions))) {\n\t\t\t// not enabled\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).snippetsPreventQuickSuggestions && SnippetController2.get(this._editor)?.isInSnippet()) {\n\t\t\t// no quick suggestion when in snippet mode\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cancel();\n\n\t\tthis._triggerQuickSuggest.cancelAndSet(() => {\n\t\t\tif (this._triggerState !== undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!LineContext.shouldAutoTrigger(this._editor)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst model = this._editor.getModel();\n\t\t\tconst pos = this._editor.getPosition();\n\t\t\t// validate enabled now\n\t\t\tconst config = this._editor.getOption(EditorOption.quickSuggestions);\n\t\t\tif (QuickSuggestionsOptions.isAllOff(config)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!QuickSuggestionsOptions.isAllOn(config)) {\n\t\t\t\t// Check the type of the token that triggered this\n\t\t\t\tmodel.tokenization.tokenizeIfCheap(pos.lineNumber);\n\t\t\t\tconst lineTokens = model.tokenization.getLineTokens(pos.lineNumber);\n\t\t\t\tconst tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(pos.column - 1 - 1, 0)));\n\t\t\t\tif (QuickSuggestionsOptions.valueFor(config, tokenType) !== 'on') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!canShowQuickSuggest(this._editor, this._contextKeyService, this._configurationService)) {\n\t\t\t\t// do not trigger quick suggestions if inline suggestions are shown\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._languageFeaturesService.completionProvider.has(model)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// we made it till here -> trigger now\n\t\t\tthis.trigger({ auto: true });\n\n\t\t}, this._editor.getOption(EditorOption.quickSuggestionsDelay));\n\t}\n\n\tprivate _refilterCompletionItems(): void {\n\t\tassertType(this._editor.hasModel());\n\t\tassertType(this._triggerState !== undefined);\n\n\t\tconst model = this._editor.getModel();\n\t\tconst position = this._editor.getPosition();\n\t\tconst ctx = new LineContext(model, position, { ...this._triggerState, refilter: true });\n\t\tthis._onNewContext(ctx);\n\t}\n\n\ttrigger(options: SuggestTriggerOptions): void {\n\t\tif (!this._editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this._editor.getModel();\n\t\tconst ctx = new LineContext(model, this._editor.getPosition(), options);\n\n\t\t// Cancel previous requests, change state & update UI\n\t\tthis.cancel(options.retrigger);\n\t\tthis._triggerState = options;\n\t\tthis._onDidTrigger.fire({ auto: options.auto, shy: options.shy ?? false, position: this._editor.getPosition() });\n\n\t\t// Capture context when request was sent\n\t\tthis._context = ctx;\n\n\t\t// Build context for request\n\t\tlet suggestCtx: CompletionContext = { triggerKind: options.triggerKind ?? CompletionTriggerKind.Invoke };\n\t\tif (options.triggerCharacter) {\n\t\t\tsuggestCtx = {\n\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerCharacter,\n\t\t\t\ttriggerCharacter: options.triggerCharacter\n\t\t\t};\n\t\t}\n\n\t\tthis._requestToken = new CancellationTokenSource();\n\n\t\t// kind filter and snippet sort rules\n\t\tconst snippetSuggestions = this._editor.getOption(EditorOption.snippetSuggestions);\n\t\tlet snippetSortOrder = SnippetSortOrder.Inline;\n\t\tswitch (snippetSuggestions) {\n\t\t\tcase 'top':\n\t\t\t\tsnippetSortOrder = SnippetSortOrder.Top;\n\t\t\t\tbreak;\n\t\t\t// \t↓ that's the default anyways...\n\t\t\t// case 'inline':\n\t\t\t// \tsnippetSortOrder = SnippetSortOrder.Inline;\n\t\t\t// \tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tsnippetSortOrder = SnippetSortOrder.Bottom;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst { itemKind: itemKindFilter, showDeprecated } = SuggestModel.createSuggestFilter(this._editor);\n\t\tconst completionOptions = new CompletionOptions(snippetSortOrder, options.completionOptions?.kindFilter ?? itemKindFilter, options.completionOptions?.providerFilter, options.completionOptions?.providerItemsToReuse, showDeprecated);\n\t\tconst wordDistance = WordDistance.create(this._editorWorkerService, this._editor);\n\n\t\tconst completions = provideSuggestionItems(\n\t\t\tthis._languageFeaturesService.completionProvider,\n\t\t\tmodel,\n\t\t\tthis._editor.getPosition(),\n\t\t\tcompletionOptions,\n\t\t\tsuggestCtx,\n\t\t\tthis._requestToken.token\n\t\t);\n\n\t\tPromise.all([completions, wordDistance]).then(async ([completions, wordDistance]) => {\n\n\t\t\tthis._requestToken?.dispose();\n\n\t\t\tif (!this._editor.hasModel()) {\n\t\t\t\tcompletions.disposable.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet clipboardText = options?.clipboardText;\n\t\t\tif (!clipboardText && completions.needsClipboard) {\n\t\t\t\tclipboardText = await this._clipboardService.readText();\n\t\t\t}\n\n\t\t\tif (this._triggerState === undefined) {\n\t\t\t\tcompletions.disposable.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst model = this._editor.getModel();\n\t\t\t// const items = completions.items;\n\n\t\t\t// if (existing) {\n\t\t\t// \tconst cmpFn = getSuggestionComparator(snippetSortOrder);\n\t\t\t// \titems = items.concat(existing.items).sort(cmpFn);\n\t\t\t// }\n\n\t\t\tconst ctx = new LineContext(model, this._editor.getPosition(), options);\n\t\t\tconst fuzzySearchOptions = {\n\t\t\t\t...FuzzyScoreOptions.default,\n\t\t\t\tfirstMatchCanBeWeak: !this._editor.getOption(EditorOption.suggest).matchOnWordStartOnly\n\t\t\t};\n\t\t\tthis._completionModel = new CompletionModel(completions.items, this._context!.column, {\n\t\t\t\tleadingLineContent: ctx.leadingLineContent,\n\t\t\t\tcharacterCountDelta: ctx.column - this._context!.column\n\t\t\t},\n\t\t\t\twordDistance,\n\t\t\t\tthis._editor.getOption(EditorOption.suggest),\n\t\t\t\tthis._editor.getOption(EditorOption.snippetSuggestions),\n\t\t\t\tfuzzySearchOptions,\n\t\t\t\tclipboardText\n\t\t\t);\n\n\t\t\t// store containers so that they can be disposed later\n\t\t\tthis._completionDisposables.add(completions.disposable);\n\n\t\t\tthis._onNewContext(ctx);\n\n\t\t\t// finally report telemetry about durations\n\t\t\tthis._reportDurationsTelemetry(completions.durations);\n\n\t\t\t// report invalid completions by source\n\t\t\tif (!this._envService.isBuilt || this._envService.isExtensionDevelopment) {\n\t\t\t\tfor (const item of completions.items) {\n\t\t\t\t\tif (item.isInvalid) {\n\t\t\t\t\t\tthis._logService.warn(`[suggest] did IGNORE invalid completion item from ${item.provider._debugDisplayName}`, item.completion);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}).catch(onUnexpectedError);\n\t}\n\n\t/**\n\t * Report durations telemetry with a 1% sampling rate.\n\t * The telemetry is reported only if a random number between 0 and 100 is less than or equal to 1.\n\t */\n\tprivate _reportDurationsTelemetry(durations: CompletionDurations): void {\n\t\tif (Math.random() > 0.0001) { // 0.01%\n\t\t\treturn;\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\ttype Durations = { data: string };\n\t\t\ttype DurationsClassification = {\n\t\t\t\towner: 'jrieken';\n\t\t\t\tcomment: 'Completions performance numbers';\n\t\t\t\tdata: { comment: 'Durations per source and overall'; classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth' };\n\t\t\t};\n\t\t\tthis._telemetryService.publicLog2<Durations, DurationsClassification>('suggest.durations.json', { data: JSON.stringify(durations) });\n\t\t\tthis._logService.debug('suggest.durations.json', durations);\n\t\t});\n\t}\n\n\tstatic createSuggestFilter(editor: ICodeEditor): { itemKind: Set<CompletionItemKind>; showDeprecated: boolean } {\n\t\t// kind filter and snippet sort rules\n\t\tconst result = new Set<CompletionItemKind>();\n\n\t\t// snippet setting\n\t\tconst snippetSuggestions = editor.getOption(EditorOption.snippetSuggestions);\n\t\tif (snippetSuggestions === 'none') {\n\t\t\tresult.add(CompletionItemKind.Snippet);\n\t\t}\n\n\t\t// type setting\n\t\tconst suggestOptions = editor.getOption(EditorOption.suggest);\n\t\tif (!suggestOptions.showMethods) { result.add(CompletionItemKind.Method); }\n\t\tif (!suggestOptions.showFunctions) { result.add(CompletionItemKind.Function); }\n\t\tif (!suggestOptions.showConstructors) { result.add(CompletionItemKind.Constructor); }\n\t\tif (!suggestOptions.showFields) { result.add(CompletionItemKind.Field); }\n\t\tif (!suggestOptions.showVariables) { result.add(CompletionItemKind.Variable); }\n\t\tif (!suggestOptions.showClasses) { result.add(CompletionItemKind.Class); }\n\t\tif (!suggestOptions.showStructs) { result.add(CompletionItemKind.Struct); }\n\t\tif (!suggestOptions.showInterfaces) { result.add(CompletionItemKind.Interface); }\n\t\tif (!suggestOptions.showModules) { result.add(CompletionItemKind.Module); }\n\t\tif (!suggestOptions.showProperties) { result.add(CompletionItemKind.Property); }\n\t\tif (!suggestOptions.showEvents) { result.add(CompletionItemKind.Event); }\n\t\tif (!suggestOptions.showOperators) { result.add(CompletionItemKind.Operator); }\n\t\tif (!suggestOptions.showUnits) { result.add(CompletionItemKind.Unit); }\n\t\tif (!suggestOptions.showValues) { result.add(CompletionItemKind.Value); }\n\t\tif (!suggestOptions.showConstants) { result.add(CompletionItemKind.Constant); }\n\t\tif (!suggestOptions.showEnums) { result.add(CompletionItemKind.Enum); }\n\t\tif (!suggestOptions.showEnumMembers) { result.add(CompletionItemKind.EnumMember); }\n\t\tif (!suggestOptions.showKeywords) { result.add(CompletionItemKind.Keyword); }\n\t\tif (!suggestOptions.showWords) { result.add(CompletionItemKind.Text); }\n\t\tif (!suggestOptions.showColors) { result.add(CompletionItemKind.Color); }\n\t\tif (!suggestOptions.showFiles) { result.add(CompletionItemKind.File); }\n\t\tif (!suggestOptions.showReferences) { result.add(CompletionItemKind.Reference); }\n\t\tif (!suggestOptions.showColors) { result.add(CompletionItemKind.Customcolor); }\n\t\tif (!suggestOptions.showFolders) { result.add(CompletionItemKind.Folder); }\n\t\tif (!suggestOptions.showTypeParameters) { result.add(CompletionItemKind.TypeParameter); }\n\t\tif (!suggestOptions.showSnippets) { result.add(CompletionItemKind.Snippet); }\n\t\tif (!suggestOptions.showUsers) { result.add(CompletionItemKind.User); }\n\t\tif (!suggestOptions.showIssues) { result.add(CompletionItemKind.Issue); }\n\n\t\treturn { itemKind: result, showDeprecated: suggestOptions.showDeprecated };\n\t}\n\n\tprivate _onNewContext(ctx: LineContext): void {\n\n\t\tif (!this._context) {\n\t\t\t// happens when 24x7 IntelliSense is enabled and still in its delay\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.lineNumber !== this._context.lineNumber) {\n\t\t\t// e.g. happens when pressing Enter while IntelliSense is computed\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (getLeadingWhitespace(ctx.leadingLineContent) !== getLeadingWhitespace(this._context.leadingLineContent)) {\n\t\t\t// cancel IntelliSense when line start changes\n\t\t\t// happens when the current word gets outdented\n\t\t\tthis.cancel();\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.column < this._context.column) {\n\t\t\t// typed -> moved cursor LEFT -> retrigger if still on a word\n\t\t\tif (ctx.leadingWord.word) {\n\t\t\t\tthis.trigger({ auto: this._context.triggerOptions.auto, retrigger: true });\n\t\t\t} else {\n\t\t\t\tthis.cancel();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._completionModel) {\n\t\t\t// happens when IntelliSense is not yet computed\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.leadingWord.word.length !== 0 && ctx.leadingWord.startColumn > this._context.leadingWord.startColumn) {\n\t\t\t// started a new word while IntelliSense shows -> retrigger but reuse all items that we currently have\n\t\t\tconst shouldAutoTrigger = LineContext.shouldAutoTrigger(this._editor);\n\t\t\tif (shouldAutoTrigger && this._context) {\n\t\t\t\t// shouldAutoTrigger forces tokenization, which can cause pending cursor change events to be emitted, which can cause\n\t\t\t\t// suggestions to be cancelled, which causes `this._context` to be undefined\n\t\t\t\tconst map = this._completionModel.getItemsByProvider();\n\t\t\t\tthis.trigger({\n\t\t\t\t\tauto: this._context.triggerOptions.auto,\n\t\t\t\t\tretrigger: true,\n\t\t\t\t\tclipboardText: this._completionModel.clipboardText,\n\t\t\t\t\tcompletionOptions: { providerItemsToReuse: map }\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (ctx.column > this._context.column && this._completionModel.getIncompleteProvider().size > 0 && ctx.leadingWord.word.length !== 0) {\n\t\t\t// typed -> moved cursor RIGHT & incomple model & still on a word -> retrigger\n\n\t\t\tconst providerItemsToReuse = new Map<CompletionItemProvider, CompletionItem[]>();\n\t\t\tconst providerFilter = new Set<CompletionItemProvider>();\n\t\t\tfor (const [provider, items] of this._completionModel.getItemsByProvider()) {\n\t\t\t\tif (items.length > 0 && items[0].container.incomplete) {\n\t\t\t\t\tproviderFilter.add(provider);\n\t\t\t\t} else {\n\t\t\t\t\tproviderItemsToReuse.set(provider, items);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.trigger({\n\t\t\t\tauto: this._context.triggerOptions.auto,\n\t\t\t\ttriggerKind: CompletionTriggerKind.TriggerForIncompleteCompletions,\n\t\t\t\tretrigger: true,\n\t\t\t\tclipboardText: this._completionModel.clipboardText,\n\t\t\t\tcompletionOptions: { providerFilter, providerItemsToReuse }\n\t\t\t});\n\n\t\t} else {\n\t\t\t// typed -> moved cursor RIGHT -> update UI\n\t\t\tconst oldLineContext = this._completionModel.lineContext;\n\t\t\tlet isFrozen = false;\n\n\t\t\tthis._completionModel.lineContext = {\n\t\t\t\tleadingLineContent: ctx.leadingLineContent,\n\t\t\t\tcharacterCountDelta: ctx.column - this._context.column\n\t\t\t};\n\n\t\t\tif (this._completionModel.items.length === 0) {\n\n\t\t\t\tconst shouldAutoTrigger = LineContext.shouldAutoTrigger(this._editor);\n\t\t\t\tif (!this._context) {\n\t\t\t\t\t// shouldAutoTrigger forces tokenization, which can cause pending cursor change events to be emitted, which can cause\n\t\t\t\t\t// suggestions to be cancelled, which causes `this._context` to be undefined\n\t\t\t\t\tthis.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (shouldAutoTrigger && this._context.leadingWord.endColumn < ctx.leadingWord.startColumn) {\n\t\t\t\t\t// retrigger when heading into a new word\n\t\t\t\t\tthis.trigger({ auto: this._context.triggerOptions.auto, retrigger: true });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this._context.triggerOptions.auto) {\n\t\t\t\t\t// freeze when IntelliSense was manually requested\n\t\t\t\t\tthis._completionModel.lineContext = oldLineContext;\n\t\t\t\t\tisFrozen = this._completionModel.items.length > 0;\n\n\t\t\t\t\tif (isFrozen && ctx.leadingWord.word.length === 0) {\n\t\t\t\t\t\t// there were results before but now there aren't\n\t\t\t\t\t\t// and also we are not on a word anymore -> cancel\n\t\t\t\t\t\tthis.cancel();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// nothing left\n\t\t\t\t\tthis.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._onDidSuggest.fire({\n\t\t\t\tcompletionModel: this._completionModel,\n\t\t\t\ttriggerOptions: ctx.triggerOptions,\n\t\t\t\tisFrozen,\n\t\t\t});\n\t\t}\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;AAEhG,OAAO,EAAE,YAAY,EAAE,MAAM,kCAAkC,CAAC;AAChE,OAAO,EAAE,uBAAuB,EAAE,MAAM,yCAAyC,CAAC;AAClF,OAAO,EAAE,iBAAiB,EAAE,MAAM,mCAAmC,CAAC;AACtE,OAAO,EAAE,OAAO,EAAS,MAAM,kCAAkC,CAAC;AAClE,OAAO,EAAE,eAAe,EAAE,OAAO,EAAe,MAAM,sCAAsC,CAAC;AAC7F,OAAO,EAAE,oBAAoB,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,oCAAoC,CAAC;AAK3G,OAAO,EAAE,SAAS,EAAE,MAAM,mCAAmC,CAAC;AAG9D,OAAO,EAAE,oBAAoB,EAAE,MAAM,0CAA0C,CAAC;AAChF,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;AACjD,OAAO,EAAE,iBAAiB,EAAE,MAAM,2DAA2D,CAAC;AAC9F,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,kBAAkB,EAAE,MAAM,sDAAsD,CAAC;AAC1F,OAAO,EAAE,WAAW,EAAE,MAAM,wCAAwC,CAAC;AACrE,OAAO,EAAE,iBAAiB,EAAE,MAAM,oDAAoD,CAAC;AACvF,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,EAAuC,iBAAiB,EAAE,wBAAwB,EAAE,sBAAsB,EAAE,uBAAuB,EAAoB,MAAM,cAAc,CAAC;AAEnL,OAAO,EAAE,wBAAwB,EAAE,MAAM,8CAA8C,CAAC;AACxF,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AACvE,OAAO,EAAE,UAAU,EAAE,MAAM,kCAAkC,CAAC;AAC9D,OAAO,EAAE,2BAA2B,EAAE,MAAM,2EAA2E,CAAC;AACxH,OAAO,EAAE,kBAAkB,EAAE,MAAM,6CAA6C,CAAC;AACjF,OAAO,EAAE,mBAAmB,EAAE,MAAM,wDAAwD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BvF,MAAO,WAAW;IAEvB,MAAM,CAAC,iBAAiB,CAAC,MAAmB,EAAA;QAC3C,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC;YACxB,OAAO,KAAK,CAAC;QACd,CAAC;QACD,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAChC,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC;QACjC,KAAK,CAAC,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAEnD,MAAM,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,EAAE,CAAC;YACX,OAAO,KAAK,CAAC;QACd,CAAC;QACD,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,CAAC,MAAM,IAChC,IAAI,CAAC,WAAW,GAAG,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,iDAAA,EAAmD,GAAE,CAAC;YAC1F,OAAO,KAAK,CAAC;QACd,CAAC;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;YAC/B,OAAO,KAAK,CAAC;QACd,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAQD,YAAY,KAAiB,EAAE,QAAkB,EAAE,cAAqC,CAAA;QACvF,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACtC,CAAC;CACD;AAQD,SAAS,mBAAmB,CAAC,MAAmB,EAAE,iBAAqC,EAAE,oBAA2C;IACnI,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,8QAA2B,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;QAC7G,0CAA0C;QAC1C,OAAO,IAAI,CAAC;IACb,CAAC;IACD,MAAM,mBAAmB,GAAG,iBAAiB,CAAC,kBAAkB,CAAsB,8QAA2B,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IAC3I,IAAI,mBAAmB,KAAK,SAAS,EAAE,CAAC;QACvC,OAAO,CAAC,mBAAmB,CAAC;IAC7B,CAAC;IACD,OAAO,CAAC,MAAM,CAAC,SAAS,CAAA,GAAA,8BAAA,GAA4B,EAAC,mBAAmB,CAAC;AAC1E,CAAC;AAED,SAAS,iCAAiC,CAAC,MAAmB,EAAE,iBAAqC,EAAE,oBAA2C;IACjJ,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,yBAAyB,CAAC,CAAC,EAAE,CAAC;QAC/E,0CAA0C;QAC1C,OAAO,IAAI,CAAC;IACb,CAAC;IACD,MAAM,mBAAmB,GAAG,iBAAiB,CAAC,kBAAkB,CAAsB,8QAA2B,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IAC3I,IAAI,mBAAmB,KAAK,SAAS,EAAE,CAAC;QACvC,OAAO,CAAC,mBAAmB,CAAC;IAC7B,CAAC;IACD,OAAO,CAAC,MAAM,CAAC,SAAS,CAAA,GAAA,8BAAA,GAA4B,EAAC,mBAAmB,CAAC;AAC1E,CAAC;AAEM,IAAM,YAAY,GAAA,iBAAlB,MAAM,YAAY;IAqBxB,YACkB,OAAoB,EACf,oBAA2D,EAC9D,iBAAqD,EACrD,iBAAqD,EAC3D,WAAyC,EAClC,kBAAuD,EACpD,qBAA6D,EAC1D,wBAAmE,EACxE,WAAiD,CAAA;QARrD,IAAA,CAAA,OAAO,GAAP,OAAO,CAAa;QACE,IAAA,CAAA,oBAAoB,GAApB,oBAAoB,CAAsB;QAC7C,IAAA,CAAA,iBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,IAAA,CAAA,iBAAiB,GAAjB,iBAAiB,CAAmB;QAC1C,IAAA,CAAA,WAAW,GAAX,WAAW,CAAa;QACjB,IAAA,CAAA,kBAAkB,GAAlB,kBAAkB,CAAoB;QACnC,IAAA,CAAA,qBAAqB,GAArB,qBAAqB,CAAuB;QACzC,IAAA,CAAA,wBAAwB,GAAxB,wBAAwB,CAA0B;QACvD,IAAA,CAAA,WAAW,GAAX,WAAW,CAAqB;QA5BtD,IAAA,CAAA,UAAU,GAAG,IAAI,+LAAe,EAAE,CAAC;QACnC,IAAA,CAAA,yBAAyB,GAAG,IAAI,+LAAe,EAAE,CAAC;QAClD,IAAA,CAAA,oBAAoB,GAAG,IAAI,wLAAY,EAAE,CAAC;QAEnD,IAAA,CAAA,aAAa,GAAsC,SAAS,CAAC;QAMpD,IAAA,CAAA,sBAAsB,GAAG,IAAI,+LAAe,EAAE,CAAC;QAC/C,IAAA,CAAA,YAAY,GAAG,IAAI,mLAAO,EAAgB,CAAC;QAC3C,IAAA,CAAA,aAAa,GAAG,IAAI,mLAAO,EAAiB,CAAC;QAC7C,IAAA,CAAA,aAAa,GAAG,IAAI,mLAAO,EAAiB,CAAC;QAErD,IAAA,CAAA,WAAW,GAAwB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QAC3D,IAAA,CAAA,YAAY,GAAyB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAC9D,IAAA,CAAA,YAAY,GAAyB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;QAatE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,IAAI,mMAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAElF,4BAA4B;QAC5B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,EAAE;YACtD,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,GAAG,EAAE;YAC9D,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,MAAM,EAAE,CAAC;QACf,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,GAAG,EAAE;YAC9D,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,WAAW,CAAC,GAAG,EAAE;YACrF,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,iBAAiB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,GAAG,EAAE;YAC3D,iBAAiB,GAAG,IAAI,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,EAAE;YACzD,iBAAiB,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,0BAA0B,EAAC,CAAC,CAAC,EAAE;YAC/D,mEAAmE;YACnE,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACxB,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC,GAAG,EAAE;YAC7D,sEAAsE;YACtE,8BAA8B;YAC9B,6DAA6D;YAC7D,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;gBAC5D,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACjC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,wBAAwB,EAAE,CAAC;IACjC,CAAC;IAED,OAAO,GAAA;YACN,uLAAO,EAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACxC,uLAAO,EAAC;YAAC,IAAI,CAAC,YAAY;YAAE,IAAI,CAAC,aAAa;YAAE,IAAI,CAAC,aAAa;YAAE,IAAI,CAAC,oBAAoB;SAAC,CAAC,CAAC;QAChG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC1B,IAAI,CAAC,sBAAsB,CAAC,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,MAAM,EAAE,CAAC;IACf,CAAC;IAEO,wBAAwB,GAAA;QAC/B,IAAI,CAAC,yBAAyB,CAAC,KAAK,EAAE,CAAC;QAEvC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,yBAAA,GAAuB,KAC7C,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IACxB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,2CAAA,GAAyC,GAAE,CAAC;YAEtE,OAAO;QACR,CAAC;QAED,MAAM,0BAA0B,GAAG,IAAI,GAAG,EAAuC,CAAC;QAClF,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAE,CAAC;YACrG,KAAK,MAAM,EAAE,IAAI,OAAO,CAAC,iBAAiB,IAAI,EAAE,CAAE,CAAC;gBAClD,IAAI,GAAG,GAAG,0BAA0B,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;gBAC7C,IAAI,CAAC,GAAG,EAAE,CAAC;oBACV,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;oBAChB,MAAM,cAAc,OAAG,+NAAwB,EAAE,CAAC;oBAClD,IAAI,cAAc,EAAE,CAAC;wBACpB,GAAG,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;oBACzB,CAAC;oBACD,0BAA0B,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;gBACzC,CAAC;gBACD,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAClB,CAAC;QACF,CAAC;QAGD,MAAM,qBAAqB,GAAG,CAAC,IAAa,EAAE,EAAE;YAE/C,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;gBAC3G,OAAO;YACR,CAAC;YAED,IAAI,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;gBACjD,4EAA4E;gBAC5E,OAAO;YACR,CAAC;YAED,IAAI,CAAC,IAAI,EAAE,CAAC;gBACX,0CAA0C;gBAC1C,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAG,CAAC;gBAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAG,CAAC;gBACvC,IAAI,GAAG,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACjF,CAAC;YAED,IAAI,QAAQ,GAAG,EAAE,CAAC;YAClB,QAAI,4LAAc,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;gBACtD,QAAI,6LAAe,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;oBACvD,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBACzC,CAAC;YACF,CAAC,MAAM,CAAC;gBACP,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACzC,CAAC;YAED,MAAM,QAAQ,GAAG,0BAA0B,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC1D,IAAI,QAAQ,EAAE,CAAC;gBAEd,qDAAqD;gBACrD,8CAA8C;gBAC9C,MAAM,oBAAoB,GAAG,IAAI,GAAG,EAA4C,CAAC;gBACjF,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;oBAC3B,KAAK,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAE,CAAC;wBAC5E,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;4BAC7B,oBAAoB,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;wBAC3C,CAAC;oBACF,CAAC;gBACF,CAAC;gBAED,IAAI,CAAC,OAAO,CAAC;oBACZ,IAAI,EAAE,IAAI;oBACV,WAAW,EAAA,EAAA,0CAAA,EAAwC;oBACnD,gBAAgB,EAAE,QAAQ;oBAC1B,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBACzC,aAAa,EAAE,IAAI,CAAC,gBAAgB,EAAE,aAAa;oBACnD,iBAAiB,EAAE;wBAAE,cAAc,EAAE,QAAQ;wBAAE,oBAAoB;oBAAA,CAAE;iBACrE,CAAC,CAAC;YACJ,CAAC;QACF,CAAC,CAAC;QAEF,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,yBAAyB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAG,CAAD,oBAAsB,EAAE,CAAC,CAAC,CAAC;IACrG,CAAC;IAED,uCAAuC;IAEvC,IAAI,KAAK,GAAA;QACR,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,OAAA,EAAA,cAAA,GAAkB;QACnB,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YACrC,OAAA,EAAA,gBAAA,GAAoB;QACrB,CAAC,MAAM,CAAC;YACP,OAAA,EAAA,cAAA,GAAkB;QACnB,CAAC;IACF,CAAC;IAED,MAAM,CAAC,YAAqB,KAAK,EAAA;QAChC,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;YACtC,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC;YACnC,IAAI,CAAC,aAAa,EAAE,MAAM,EAAE,CAAC;YAC7B,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;YAC/B,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;YAC/B,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;YAClC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;YAAA,CAAE,CAAC,CAAC;QACvC,CAAC;IACF,CAAC;IAED,KAAK,GAAA;QACJ,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,CAAC;IACrC,CAAC;IAEO,2BAA2B,GAAA;QAClC,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC;gBAChH,IAAI,CAAC,MAAM,EAAE,CAAC;YACf,CAAC,MAAM,CAAC;gBACP,IAAI,CAAC,OAAO,CAAC;oBAAE,IAAI,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI;oBAAE,SAAS,EAAE,IAAI;gBAAA,CAAE,CAAC,CAAC;YAClE,CAAC;QACF,CAAC;IACF,CAAC;IAEO,eAAe,CAAC,CAA+B,EAAA;QAEtD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC9B,OAAO;QACR,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC7C,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAErD,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,EAAE,IACrB,CAAC,CAAC,MAAM,KAAA,EAAA,6BAAA,EAA8B,KAAI,CAAC,CAAC,MAAM,KAAA,EAAA,+BAAA,EAAgC,CAAC,IACnF,CAAC,CAAC,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,KAAK,YAAY,CAAC,CACxD,CAAC;YACF,0CAA0C;YAC1C,8GAA8G;YAC9G,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO;QACR,CAAC;QAGD,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,IAAI,CAAC,CAAC,MAAM,KAAA,EAAA,6BAAA,EAA8B,GAAE,CAAC;YAChF,IAAI,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,aAAa,CAAC,cAAc,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;gBACjJ,+DAA+D;gBAC/D,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC/B,CAAC;QAEF,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,IAAI,CAAC,CAAC,MAAM,KAAA,EAAA,+BAAA,EAAgC,GAAE,CAAC;YACzF,oEAAoE;YACpE,6DAA6D;YAC7D,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACjC,CAAC;IACF,CAAC;IAEO,iBAAiB,GAAA;QACxB,4CAA4C;QAC5C,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;YACtC,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC/B,CAAC,MAAM,CAAC;YACP,IAAI,CAAC,wBAAwB,EAAE,CAAC;QACjC,CAAC;IACF,CAAC;IAEO,sBAAsB,GAAA;QAE7B,IAAI,8NAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,iCAAA,GAA+B,CAAC,GAAE,CAAC;YAC7F,cAAc;YACd,OAAO;QACR,CAAC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,wBAAA,GAAsB,EAAC,+BAA+B,IAAI,oOAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,WAAW,EAAE,EAAE,CAAC;YACzI,2CAA2C;YAC3C,OAAO;QACR,CAAC;QAED,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,GAAG,EAAE;YAC3C,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;gBACtC,OAAO;YACR,CAAC;YACD,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;gBAClD,OAAO;YACR,CAAC;YACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;gBAChE,OAAO;YACR,CAAC;YACD,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtC,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;YACvC,uBAAuB;YACvB,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,iCAAA,GAA+B,CAAC;YACrE,IAAI,8NAAuB,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;gBAC9C,OAAO;YACR,CAAC;YAED,IAAI,CAAC,8NAAuB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;gBAC9C,kDAAkD;gBAClD,KAAK,CAAC,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACnD,MAAM,UAAU,GAAG,KAAK,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACpE,MAAM,SAAS,GAAG,UAAU,CAAC,oBAAoB,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtH,IAAI,8NAAuB,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;oBAClE,OAAO;gBACR,CAAC;YACF,CAAC;YAED,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC;gBAC7F,mEAAmE;gBACnE,OAAO;YACR,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC;gBAClE,OAAO;YACR,CAAC;YAED,sCAAsC;YACtC,IAAI,CAAC,OAAO,CAAC;gBAAE,IAAI,EAAE,IAAI;YAAA,CAAE,CAAC,CAAC;QAE9B,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,sCAAA,GAAoC,CAAC,CAAC;IAChE,CAAC;IAEO,wBAAwB,GAAA;YAC/B,sLAAU,EAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YACpC,sLAAU,EAAC,IAAI,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC;QAE7C,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;QAC5C,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,KAAK,EAAE,QAAQ,EAAE;YAAE,GAAG,IAAI,CAAC,aAAa;YAAE,QAAQ,EAAE,IAAI;QAAA,CAAE,CAAC,CAAC;QACxF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACzB,CAAC;IAED,OAAO,CAAC,OAA8B,EAAA;QACrC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;YAC9B,OAAO;QACR,CAAC;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QACtC,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,OAAO,CAAC,CAAC;QAExE,qDAAqD;QACrD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YAAE,IAAI,EAAE,OAAO,CAAC,IAAI;YAAE,GAAG,EAAE,OAAO,CAAC,GAAG,IAAI,KAAK;YAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;QAAA,CAAE,CAAC,CAAC;QAEjH,wCAAwC;QACxC,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;QAEpB,4BAA4B;QAC5B,IAAI,UAAU,GAAsB;YAAE,WAAW,EAAE,OAAO,CAAC,WAAW,IAAA,EAAA,gCAAA,EAAgC;QAAA,CAAE,CAAC;QACzG,IAAI,OAAO,CAAC,gBAAgB,EAAE,CAAC;YAC9B,UAAU,GAAG;gBACZ,WAAW,EAAA,EAAA,0CAAA,EAAwC;gBACnD,gBAAgB,EAAE,OAAO,CAAC,gBAAgB;aAC1C,CAAC;QACH,CAAC;QAED,IAAI,CAAC,aAAa,GAAG,IAAI,0MAAuB,EAAE,CAAC;QAEnD,qCAAqC;QACrC,MAAM,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,mCAAA,GAAiC,CAAC;QACnF,IAAI,gBAAgB,GAAA,EAAA,2BAAA,EAA0B,CAAC;QAC/C,OAAQ,kBAAkB,EAAE,CAAC;YAC5B,KAAK,KAAK;gBACT,gBAAgB,GAAA,EAAA,wBAAA,EAAuB,CAAC;gBACxC,MAAM;YACP,mCAAmC;YACnC,iBAAiB;YACjB,+CAA+C;YAC/C,UAAU;YACV,KAAK,QAAQ;gBACZ,gBAAgB,GAAA,EAAA,2BAAA,EAA0B,CAAC;gBAC3C,MAAM;QACR,CAAC;QAED,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,cAAY,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpG,MAAM,iBAAiB,GAAG,IAAI,wNAAiB,CAAC,gBAAgB,EAAE,OAAO,CAAC,iBAAiB,EAAE,UAAU,IAAI,cAAc,EAAE,OAAO,CAAC,iBAAiB,EAAE,cAAc,EAAE,OAAO,CAAC,iBAAiB,EAAE,oBAAoB,EAAE,cAAc,CAAC,CAAC;QACvO,MAAM,YAAY,GAAG,wNAAY,CAAC,MAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAElF,MAAM,WAAW,OAAG,6NAAsB,EACzC,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,EAChD,KAAK,EACL,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAC1B,iBAAiB,EACjB,UAAU,EACV,IAAI,CAAC,aAAa,CAAC,KAAK,CACxB,CAAC;QAEF,OAAO,CAAC,GAAG,CAAC;YAAC,WAAW;YAAE,YAAY;SAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,WAAW,EAAE,YAAY,CAAC,EAAE,EAAE;YAEnF,IAAI,CAAC,aAAa,EAAE,OAAO,EAAE,CAAC;YAE9B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;gBAC9B,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;gBACjC,OAAO;YACR,CAAC;YAED,IAAI,aAAa,GAAG,OAAO,EAAE,aAAa,CAAC;YAC3C,IAAI,CAAC,aAAa,IAAI,WAAW,CAAC,cAAc,EAAE,CAAC;gBAClD,aAAa,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;YACzD,CAAC;YAED,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE,CAAC;gBACtC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;gBACjC,OAAO;YACR,CAAC;YAED,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtC,mCAAmC;YAEnC,kBAAkB;YAClB,4DAA4D;YAC5D,qDAAqD;YACrD,IAAI;YAEJ,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,OAAO,CAAC,CAAC;YACxE,MAAM,kBAAkB,GAAG;gBAC1B,GAAG,+LAAiB,CAAC,OAAO;gBAC5B,mBAAmB,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,wBAAA,GAAsB,EAAC,oBAAoB;aACvF,CAAC;YACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,8NAAe,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,QAAS,CAAC,MAAM,EAAE;gBACrF,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;gBAC1C,mBAAmB,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAS,CAAC,MAAM;aACvD,EACA,YAAY,EACZ,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,wBAAA,GAAsB,GAC5C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAA,IAAA,mCAAA,GAAiC,GACvD,kBAAkB,EAClB,aAAa,CACb,CAAC;YAEF,sDAAsD;YACtD,IAAI,CAAC,sBAAsB,CAAC,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YAExD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAExB,2CAA2C;YAC3C,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAEtD,uCAAuC;YACvC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,CAAC,sBAAsB,EAAE,CAAC;gBAC1E,KAAK,MAAM,IAAI,IAAI,WAAW,CAAC,KAAK,CAAE,CAAC;oBACtC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;wBACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA,kDAAA,EAAqD,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;oBAChI,CAAC;gBACF,CAAC;YACF,CAAC;QAEF,CAAC,CAAC,CAAC,KAAK,CAAC,8LAAiB,CAAC,CAAC;IAC7B,CAAC;IAED;;;OAGG,CACK,yBAAyB,CAAC,SAA8B,EAAA;QAC/D,IAAI,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,EAAE,CAAC,CAAC,QAAQ;YACrC,OAAO;QACR,CAAC;QAED,UAAU,CAAC,GAAG,EAAE;YAOf,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAqC,wBAAwB,EAAE;gBAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;YAAA,CAAE,CAAC,CAAC;YACrI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,wBAAwB,EAAE,SAAS,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,mBAAmB,CAAC,MAAmB,EAAA;QAC7C,qCAAqC;QACrC,MAAM,MAAM,GAAG,IAAI,GAAG,EAAsB,CAAC;QAE7C,kBAAkB;QAClB,MAAM,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAA,IAAA,mCAAA,GAAiC,CAAC;QAC7E,IAAI,kBAAkB,KAAK,MAAM,EAAE,CAAC;YACnC,MAAM,CAAC,GAAG,CAAA,GAAA,8BAAA,GAA4B,CAAC;QACxC,CAAC;QAED,eAAe;QACf,MAAM,cAAc,GAAG,MAAM,CAAC,SAAS,CAAA,IAAA,wBAAA,GAAsB,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,6BAAA,GAA2B,CAAC;QAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,+BAAA,GAA6B,CAAC;QAAC,CAAC;QAC/E,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,kCAAA,GAAgC,CAAC;QAAC,CAAC;QACrF,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QACzE,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,+BAAA,GAA6B,CAAC;QAAC,CAAC;QAC/E,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QAC1E,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,6BAAA,GAA2B,CAAC;QAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,gCAAA,GAA8B,CAAC;QAAC,CAAC;QACjF,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,6BAAA,GAA2B,CAAC;QAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,EAAA,+BAAA,GAA6B,CAAC;QAAC,CAAC;QAChF,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QACzE,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,+BAAA,GAA6B,CAAC;QAAC,CAAC;QAC/E,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,2BAAA,GAAyB,CAAC;QAAC,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QACzE,IAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,+BAAA,GAA6B,CAAC;QAAC,CAAC;QAC/E,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,2BAAA,GAAyB,CAAC;QAAC,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,iCAAA,GAA+B,CAAC;QAAC,CAAC;QACnF,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,8BAAA,GAA4B,CAAC;QAAC,CAAC;QAC7E,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,2BAAA,GAAyB,CAAC;QAAC,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QACzE,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,2BAAA,GAAyB,CAAC;QAAC,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,gCAAA,GAA8B,CAAC;QAAC,CAAC;QACjF,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,kCAAA,GAAgC,CAAC;QAAC,CAAC;QAC/E,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,6BAAA,GAA2B,CAAC;QAAC,CAAC;QAC3E,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,oCAAA,GAAkC,CAAC;QAAC,CAAC;QACzF,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,8BAAA,GAA4B,CAAC;QAAC,CAAC;QAC7E,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,2BAAA,GAAyB,CAAC;QAAC,CAAC;QACvE,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;YAAC,MAAM,CAAC,GAAG,CAAA,GAAA,4BAAA,GAA0B,CAAC;QAAC,CAAC;QAEzE,OAAO;YAAE,QAAQ,EAAE,MAAM;YAAE,cAAc,EAAE,cAAc,CAAC,cAAc;QAAA,CAAE,CAAC;IAC5E,CAAC;IAEO,aAAa,CAAC,GAAgB,EAAA;QAErC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACpB,mEAAmE;YACnE,OAAO;QACR,CAAC;QAED,IAAI,GAAG,CAAC,UAAU,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;YACjD,kEAAkE;YAClE,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO;QACR,CAAC;QAED,QAAI,kMAAoB,EAAC,GAAG,CAAC,kBAAkB,CAAC,SAAK,kMAAoB,EAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,CAAC;YAC7G,8CAA8C;YAC9C,+CAA+C;YAC/C,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,OAAO;QACR,CAAC;QAED,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACvC,6DAA6D;YAC7D,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;gBAC1B,IAAI,CAAC,OAAO,CAAC;oBAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI;oBAAE,SAAS,EAAE,IAAI;gBAAA,CAAE,CAAC,CAAC;YAC5E,CAAC,MAAM,CAAC;gBACP,IAAI,CAAC,MAAM,EAAE,CAAC;YACf,CAAC;YACD,OAAO;QACR,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC5B,gDAAgD;YAChD,OAAO;QACR,CAAC;QAED,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAC9G,sGAAsG;YACtG,MAAM,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACtE,IAAI,iBAAiB,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACxC,qHAAqH;gBACrH,4EAA4E;gBAC5E,MAAM,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAC;gBACvD,IAAI,CAAC,OAAO,CAAC;oBACZ,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI;oBACvC,SAAS,EAAE,IAAI;oBACf,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAC,aAAa;oBAClD,iBAAiB,EAAE;wBAAE,oBAAoB,EAAE,GAAG;oBAAA,CAAE;iBAChD,CAAC,CAAC;YACJ,CAAC;YACD,OAAO;QACR,CAAC;QAED,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;YACtI,8EAA8E;YAE9E,MAAM,oBAAoB,GAAG,IAAI,GAAG,EAA4C,CAAC;YACjF,MAAM,cAAc,GAAG,IAAI,GAAG,EAA0B,CAAC;YACzD,KAAK,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAE,CAAC;gBAC5E,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;oBACvD,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC9B,CAAC,MAAM,CAAC;oBACP,oBAAoB,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;gBAC3C,CAAC;YACF,CAAC;YAED,IAAI,CAAC,OAAO,CAAC;gBACZ,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI;gBACvC,WAAW,EAAA,EAAA,yDAAA,EAAuD;gBAClE,SAAS,EAAE,IAAI;gBACf,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAC,aAAa;gBAClD,iBAAiB,EAAE;oBAAE,cAAc;oBAAE,oBAAoB;gBAAA,CAAE;aAC3D,CAAC,CAAC;QAEJ,CAAC,MAAM,CAAC;YACP,2CAA2C;YAC3C,MAAM,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC;YACzD,IAAI,QAAQ,GAAG,KAAK,CAAC;YAErB,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG;gBACnC,kBAAkB,EAAE,GAAG,CAAC,kBAAkB;gBAC1C,mBAAmB,EAAE,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;aACtD,CAAC;YAEF,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAE9C,MAAM,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACtE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACpB,qHAAqH;oBACrH,4EAA4E;oBAC5E,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,OAAO;gBACR,CAAC;gBAED,IAAI,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,GAAG,GAAG,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;oBAC5F,yCAAyC;oBACzC,IAAI,CAAC,OAAO,CAAC;wBAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI;wBAAE,SAAS,EAAE,IAAI;oBAAA,CAAE,CAAC,CAAC;oBAC3E,OAAO;gBACR,CAAC;gBAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;oBACxC,kDAAkD;oBAClD,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG,cAAc,CAAC;oBACnD,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBAElD,IAAI,QAAQ,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;wBACnD,iDAAiD;wBACjD,kDAAkD;wBAClD,IAAI,CAAC,MAAM,EAAE,CAAC;wBACd,OAAO;oBACR,CAAC;gBAEF,CAAC,MAAM,CAAC;oBACP,eAAe;oBACf,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,OAAO;gBACR,CAAC;YACF,CAAC;YAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;gBACvB,eAAe,EAAE,IAAI,CAAC,gBAAgB;gBACtC,cAAc,EAAE,GAAG,CAAC,cAAc;gBAClC,QAAQ;aACR,CAAC,CAAC;QACJ,CAAC;IACF,CAAC;CACD,CAAA;AAhnBY,YAAY,GAAA,iBAAA,WAAA;IAuBtB,QAAA,GAAA,qNAAoB,CAAA;IACpB,QAAA,GAAA,yNAAiB,CAAA;IACjB,QAAA,GAAA,kNAAiB,CAAA;IACjB,QAAA,GAAA,gMAAW,CAAA;IACX,QAAA,GAAA,qNAAkB,CAAA;IAClB,QAAA,GAAA,8NAAqB,CAAA;IACrB,QAAA,GAAA,6NAAwB,CAAA;IACxB,QAAA,GAAA,wNAAmB,CAAA;GA9BT,YAAY,CAgnBxB","debugId":null}},
    {"offset": {"line": 1968, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestOvertypingCapturer.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestOvertypingCapturer.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestOvertypingCapturer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { SuggestModel } from './suggestModel.js';\n\nexport class OvertypingCapturer implements IDisposable {\n\n\tprivate static readonly _maxSelectionLength = 51200;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _lastOvertyped: { value: string; multiline: boolean }[] = [];\n\tprivate _locked: boolean = false;\n\n\tconstructor(editor: ICodeEditor, suggestModel: SuggestModel) {\n\n\t\tthis._disposables.add(editor.onWillType(() => {\n\t\t\tif (this._locked || !editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selections = editor.getSelections();\n\t\t\tconst selectionsLength = selections.length;\n\n\t\t\t// Check if it will overtype any selections\n\t\t\tlet willOvertype = false;\n\t\t\tfor (let i = 0; i < selectionsLength; i++) {\n\t\t\t\tif (!selections[i].isEmpty()) {\n\t\t\t\t\twillOvertype = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!willOvertype) {\n\t\t\t\tif (this._lastOvertyped.length !== 0) {\n\t\t\t\t\tthis._lastOvertyped.length = 0;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._lastOvertyped = [];\n\t\t\tconst model = editor.getModel();\n\t\t\tfor (let i = 0; i < selectionsLength; i++) {\n\t\t\t\tconst selection = selections[i];\n\t\t\t\t// Check for overtyping capturer restrictions\n\t\t\t\tif (model.getValueLengthInRange(selection) > OvertypingCapturer._maxSelectionLength) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastOvertyped[i] = { value: model.getValueInRange(selection), multiline: selection.startLineNumber !== selection.endLineNumber };\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(suggestModel.onDidTrigger(e => {\n\t\t\tthis._locked = true;\n\t\t}));\n\n\t\tthis._disposables.add(suggestModel.onDidCancel(e => {\n\t\t\tthis._locked = false;\n\t\t}));\n\t}\n\n\tgetLastOvertypedInfo(idx: number): { value: string; multiline: boolean } | undefined {\n\t\tif (idx >= 0 && idx < this._lastOvertyped.length) {\n\t\t\treturn this._lastOvertyped[idx];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tdispose() {\n\t\tthis._disposables.dispose();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { SuggestModel } from './suggestModel.js';\n\nexport class OvertypingCapturer implements IDisposable {\n\n\tprivate static readonly _maxSelectionLength = 51200;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate _lastOvertyped: { value: string; multiline: boolean }[] = [];\n\tprivate _locked: boolean = false;\n\n\tconstructor(editor: ICodeEditor, suggestModel: SuggestModel) {\n\n\t\tthis._disposables.add(editor.onWillType(() => {\n\t\t\tif (this._locked || !editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selections = editor.getSelections();\n\t\t\tconst selectionsLength = selections.length;\n\n\t\t\t// Check if it will overtype any selections\n\t\t\tlet willOvertype = false;\n\t\t\tfor (let i = 0; i < selectionsLength; i++) {\n\t\t\t\tif (!selections[i].isEmpty()) {\n\t\t\t\t\twillOvertype = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!willOvertype) {\n\t\t\t\tif (this._lastOvertyped.length !== 0) {\n\t\t\t\t\tthis._lastOvertyped.length = 0;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._lastOvertyped = [];\n\t\t\tconst model = editor.getModel();\n\t\t\tfor (let i = 0; i < selectionsLength; i++) {\n\t\t\t\tconst selection = selections[i];\n\t\t\t\t// Check for overtyping capturer restrictions\n\t\t\t\tif (model.getValueLengthInRange(selection) > OvertypingCapturer._maxSelectionLength) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastOvertyped[i] = { value: model.getValueInRange(selection), multiline: selection.startLineNumber !== selection.endLineNumber };\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(suggestModel.onDidTrigger(e => {\n\t\t\tthis._locked = true;\n\t\t}));\n\n\t\tthis._disposables.add(suggestModel.onDidCancel(e => {\n\t\t\tthis._locked = false;\n\t\t}));\n\t}\n\n\tgetLastOvertypedInfo(idx: number): { value: string; multiline: boolean } | undefined {\n\t\tif (idx >= 0 && idx < this._lastOvertyped.length) {\n\t\t\treturn this._lastOvertyped[idx];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tdispose() {\n\t\tthis._disposables.dispose();\n\t}\n}\n"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;AAEhG,OAAO,EAAE,eAAe,EAAe,MAAM,sCAAsC,CAAC;;AAI9E,MAAO,kBAAkB;;QAEN,IAAA,CAAA,mBAAmB,GAAG,KAAH,AAAQ,CAAC;IAAA,CAAA;IAMpD,YAAY,MAAmB,EAAE,YAA0B,CAAA;QAL1C,IAAA,CAAA,YAAY,GAAG,IAAI,+LAAe,EAAE,CAAC;QAE9C,IAAA,CAAA,cAAc,GAA4C,EAAE,CAAC;QAC7D,IAAA,CAAA,OAAO,GAAY,KAAK,CAAC;QAIhC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YAC5C,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACxC,OAAO;YACR,CAAC;YAED,MAAM,UAAU,GAAG,MAAM,CAAC,aAAa,EAAE,CAAC;YAC1C,MAAM,gBAAgB,GAAG,UAAU,CAAC,MAAM,CAAC;YAE3C,2CAA2C;YAC3C,IAAI,YAAY,GAAG,KAAK,CAAC;YACzB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,EAAE,CAAC,EAAE,CAAE,CAAC;gBAC3C,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC;oBAC9B,YAAY,GAAG,IAAI,CAAC;oBACpB,MAAM;gBACP,CAAC;YACF,CAAC;YACD,IAAI,CAAC,YAAY,EAAE,CAAC;gBACnB,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACtC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChC,CAAC;gBACD,OAAO;YACR,CAAC;YAED,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;YAChC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,EAAE,CAAC,EAAE,CAAE,CAAC;gBAC3C,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;gBAChC,6CAA6C;gBAC7C,IAAI,KAAK,CAAC,qBAAqB,CAAC,SAAS,CAAC,GAAG,kBAAkB,CAAC,mBAAmB,EAAE,CAAC;oBACrF,OAAO;gBACR,CAAC;gBACD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG;oBAAE,KAAK,EAAE,KAAK,CAAC,eAAe,CAAC,SAAS,CAAC;oBAAE,SAAS,EAAE,SAAS,CAAC,eAAe,KAAK,SAAS,CAAC,aAAa;gBAAA,CAAE,CAAC;YACxI,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,YAAY,EAAC,CAAC,CAAC,EAAE;YACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,WAAW,EAAC,CAAC,CAAC,EAAE;YAClD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oBAAoB,CAAC,GAAW,EAAA;QAC/B,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;YAClD,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,OAAO,GAAA;QACN,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC","debugId":null}},
    {"offset": {"line": 2040, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidgetStatus.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestWidgetStatus.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestWidgetStatus.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar, IActionViewItemProvider } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { TextOnlyMenuEntryActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId, MenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\n\nexport class SuggestWidgetStatus {\n\n\treadonly element: HTMLElement;\n\n\tprivate readonly _leftActions: ActionBar;\n\tprivate readonly _rightActions: ActionBar;\n\tprivate readonly _menuDisposables = new DisposableStore();\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _menuId: MenuId,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IMenuService private _menuService: IMenuService,\n\t\t@IContextKeyService private _contextKeyService: IContextKeyService,\n\t) {\n\t\tthis.element = dom.append(container, dom.$('.suggest-status-bar'));\n\n\t\tconst actionViewItemProvider = <IActionViewItemProvider>(action => {\n\t\t\treturn action instanceof MenuItemAction ? instantiationService.createInstance(TextOnlyMenuEntryActionViewItem, action, { useComma: false }) : undefined;\n\t\t});\n\t\tthis._leftActions = new ActionBar(this.element, { actionViewItemProvider });\n\t\tthis._rightActions = new ActionBar(this.element, { actionViewItemProvider });\n\n\t\tthis._leftActions.domNode.classList.add('left');\n\t\tthis._rightActions.domNode.classList.add('right');\n\t}\n\n\tdispose(): void {\n\t\tthis._menuDisposables.dispose();\n\t\tthis._leftActions.dispose();\n\t\tthis._rightActions.dispose();\n\t\tthis.element.remove();\n\t}\n\n\tshow(): void {\n\t\tconst menu = this._menuService.createMenu(this._menuId, this._contextKeyService);\n\t\tconst renderMenu = () => {\n\t\t\tconst left: IAction[] = [];\n\t\t\tconst right: IAction[] = [];\n\t\t\tfor (const [group, actions] of menu.getActions()) {\n\t\t\t\tif (group === 'left') {\n\t\t\t\t\tleft.push(...actions);\n\t\t\t\t} else {\n\t\t\t\t\tright.push(...actions);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._leftActions.clear();\n\t\t\tthis._leftActions.push(left);\n\t\t\tthis._rightActions.clear();\n\t\t\tthis._rightActions.push(right);\n\t\t};\n\t\tthis._menuDisposables.add(menu.onDidChange(() => renderMenu()));\n\t\tthis._menuDisposables.add(menu);\n\t}\n\n\thide(): void {\n\t\tthis._menuDisposables.clear();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar, IActionViewItemProvider } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { TextOnlyMenuEntryActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId, MenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\n\nexport class SuggestWidgetStatus {\n\n\treadonly element: HTMLElement;\n\n\tprivate readonly _leftActions: ActionBar;\n\tprivate readonly _rightActions: ActionBar;\n\tprivate readonly _menuDisposables = new DisposableStore();\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _menuId: MenuId,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IMenuService private _menuService: IMenuService,\n\t\t@IContextKeyService private _contextKeyService: IContextKeyService,\n\t) {\n\t\tthis.element = dom.append(container, dom.$('.suggest-status-bar'));\n\n\t\tconst actionViewItemProvider = <IActionViewItemProvider>(action => {\n\t\t\treturn action instanceof MenuItemAction ? instantiationService.createInstance(TextOnlyMenuEntryActionViewItem, action, { useComma: false }) : undefined;\n\t\t});\n\t\tthis._leftActions = new ActionBar(this.element, { actionViewItemProvider });\n\t\tthis._rightActions = new ActionBar(this.element, { actionViewItemProvider });\n\n\t\tthis._leftActions.domNode.classList.add('left');\n\t\tthis._rightActions.domNode.classList.add('right');\n\t}\n\n\tdispose(): void {\n\t\tthis._menuDisposables.dispose();\n\t\tthis._leftActions.dispose();\n\t\tthis._rightActions.dispose();\n\t\tthis.element.remove();\n\t}\n\n\tshow(): void {\n\t\tconst menu = this._menuService.createMenu(this._menuId, this._contextKeyService);\n\t\tconst renderMenu = () => {\n\t\t\tconst left: IAction[] = [];\n\t\t\tconst right: IAction[] = [];\n\t\t\tfor (const [group, actions] of menu.getActions()) {\n\t\t\t\tif (group === 'left') {\n\t\t\t\t\tleft.push(...actions);\n\t\t\t\t} else {\n\t\t\t\t\tright.push(...actions);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._leftActions.clear();\n\t\t\tthis._leftActions.push(left);\n\t\t\tthis._rightActions.clear();\n\t\t\tthis._rightActions.push(right);\n\t\t};\n\t\tthis._menuDisposables.add(menu.onDidChange(() => renderMenu()));\n\t\tthis._menuDisposables.add(menu);\n\t}\n\n\thide(): void {\n\t\tthis._menuDisposables.clear();\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2134, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidgetDetails.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestWidgetDetails.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { ICodeEditor, IOverlayWidget, IOverlayWidgetPosition } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport * as nls from '../../../../nls.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { CompletionItem } from './suggest.js';\n\nexport function canExpandCompletionItem(item: CompletionItem | undefined): boolean {\n\treturn !!item && Boolean(item.completion.documentation || item.completion.detail && item.completion.detail !== item.completion.label);\n}\n\nexport class SuggestDetailsWidget {\n\n\treadonly domNode: HTMLDivElement;\n\n\tprivate readonly _onDidClose = new Emitter<void>();\n\treadonly onDidClose: Event<void> = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeContents = new Emitter<this>();\n\treadonly onDidChangeContents: Event<this> = this._onDidChangeContents.event;\n\n\tprivate readonly _close: HTMLElement;\n\tprivate readonly _scrollbar: DomScrollableElement;\n\tprivate readonly _body: HTMLElement;\n\tprivate readonly _header: HTMLElement;\n\tprivate readonly _type: HTMLElement;\n\tprivate readonly _docs: HTMLElement;\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate readonly _markdownRenderer: MarkdownRenderer;\n\tprivate readonly _renderDisposeable = new DisposableStore();\n\tprivate _borderWidth: number = 1;\n\tprivate _size = new dom.Dimension(330, 0);\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IInstantiationService instaService: IInstantiationService,\n\t) {\n\t\tthis.domNode = dom.$('.suggest-details');\n\t\tthis.domNode.classList.add('no-docs');\n\n\t\tthis._markdownRenderer = instaService.createInstance(MarkdownRenderer, { editor: _editor });\n\n\t\tthis._body = dom.$('.body');\n\n\t\tthis._scrollbar = new DomScrollableElement(this._body, {\n\t\t\talwaysConsumeMouseWheel: true,\n\t\t});\n\t\tdom.append(this.domNode, this._scrollbar.getDomNode());\n\t\tthis._disposables.add(this._scrollbar);\n\n\t\tthis._header = dom.append(this._body, dom.$('.header'));\n\t\tthis._close = dom.append(this._header, dom.$('span' + ThemeIcon.asCSSSelector(Codicon.close)));\n\t\tthis._close.title = nls.localize('details.close', \"Close\");\n\t\tthis._close.role = 'button';\n\t\tthis._close.tabIndex = -1;\n\t\tthis._type = dom.append(this._header, dom.$('p.type'));\n\n\t\tthis._docs = dom.append(this._body, dom.$('p.docs'));\n\n\t\tthis._configureFont();\n\n\t\tthis._disposables.add(this._editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis._configureFont();\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._renderDisposeable.dispose();\n\t}\n\n\tprivate _configureFont(): void {\n\t\tconst options = this._editor.getOptions();\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst fontFamily = fontInfo.getMassagedFontFamily();\n\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\tconst fontWeight = fontInfo.fontWeight;\n\t\tconst fontSizePx = `${fontSize}px`;\n\t\tconst lineHeightPx = `${lineHeight}px`;\n\n\t\tthis.domNode.style.fontSize = fontSizePx;\n\t\tthis.domNode.style.lineHeight = `${lineHeight / fontSize}`;\n\t\tthis.domNode.style.fontWeight = fontWeight;\n\t\tthis.domNode.style.fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\tthis._type.style.fontFamily = fontFamily;\n\t\tthis._close.style.height = lineHeightPx;\n\t\tthis._close.style.width = lineHeightPx;\n\t}\n\n\tgetLayoutInfo() {\n\t\tconst lineHeight = this._editor.getOption(EditorOption.suggestLineHeight) || this._editor.getOption(EditorOption.fontInfo).lineHeight;\n\t\tconst borderWidth = this._borderWidth;\n\t\tconst borderHeight = borderWidth * 2;\n\t\treturn {\n\t\t\tlineHeight,\n\t\t\tborderWidth,\n\t\t\tborderHeight,\n\t\t\tverticalPadding: 22,\n\t\t\thorizontalPadding: 14\n\t\t};\n\t}\n\n\n\trenderLoading(): void {\n\t\tthis._type.textContent = nls.localize('loading', \"Loading...\");\n\t\tthis._docs.textContent = '';\n\t\tthis.domNode.classList.remove('no-docs', 'no-type');\n\t\tthis.layout(this.size.width, this.getLayoutInfo().lineHeight * 2);\n\t\tthis._onDidChangeContents.fire(this);\n\t}\n\n\trenderItem(item: CompletionItem, explainMode: boolean): void {\n\t\tthis._renderDisposeable.clear();\n\n\t\tlet { detail, documentation } = item.completion;\n\n\t\tif (explainMode) {\n\t\t\tlet md = '';\n\t\t\tmd += `score: ${item.score[0]}\\n`;\n\t\t\tmd += `prefix: ${item.word ?? '(no prefix)'}\\n`;\n\t\t\tmd += `word: ${item.completion.filterText ? item.completion.filterText + ' (filterText)' : item.textLabel}\\n`;\n\t\t\tmd += `distance: ${item.distance} (localityBonus-setting)\\n`;\n\t\t\tmd += `index: ${item.idx}, based on ${item.completion.sortText && `sortText: \"${item.completion.sortText}\"` || 'label'}\\n`;\n\t\t\tmd += `commit_chars: ${item.completion.commitCharacters?.join('')}\\n`;\n\t\t\tdocumentation = new MarkdownString().appendCodeblock('empty', md);\n\t\t\tdetail = `Provider: ${item.provider._debugDisplayName}`;\n\t\t}\n\n\t\tif (!explainMode && !canExpandCompletionItem(item)) {\n\t\t\tthis.clearContents();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.domNode.classList.remove('no-docs', 'no-type');\n\n\t\t// --- details\n\n\t\tif (detail) {\n\t\t\tconst cappedDetail = detail.length > 100000 ? `${detail.substr(0, 100000)}…` : detail;\n\t\t\tthis._type.textContent = cappedDetail;\n\t\t\tthis._type.title = cappedDetail;\n\t\t\tdom.show(this._type);\n\t\t\tthis._type.classList.toggle('auto-wrap', !/\\r?\\n^\\s+/gmi.test(cappedDetail));\n\t\t} else {\n\t\t\tdom.clearNode(this._type);\n\t\t\tthis._type.title = '';\n\t\t\tdom.hide(this._type);\n\t\t\tthis.domNode.classList.add('no-type');\n\t\t}\n\n\t\t// --- documentation\n\t\tdom.clearNode(this._docs);\n\t\tif (typeof documentation === 'string') {\n\t\t\tthis._docs.classList.remove('markdown-docs');\n\t\t\tthis._docs.textContent = documentation;\n\n\t\t} else if (documentation) {\n\t\t\tthis._docs.classList.add('markdown-docs');\n\t\t\tdom.clearNode(this._docs);\n\t\t\tconst renderedContents = this._markdownRenderer.render(documentation, {\n\t\t\t\tasyncRenderCallback: () => {\n\t\t\t\t\tthis.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n\t\t\t\t\tthis._onDidChangeContents.fire(this);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._docs.appendChild(renderedContents.element);\n\t\t\tthis._renderDisposeable.add(renderedContents);\n\t\t}\n\n\t\tthis.domNode.classList.toggle('detail-and-doc', !!detail && !!documentation);\n\n\t\tthis.domNode.style.userSelect = 'text';\n\t\tthis.domNode.tabIndex = -1;\n\n\t\tthis._close.onmousedown = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t};\n\t\tthis._close.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis._onDidClose.fire();\n\t\t};\n\n\t\tthis._body.scrollTop = 0;\n\n\t\tthis.layout(this._size.width, this._type.clientHeight + this._docs.clientHeight);\n\t\tthis._onDidChangeContents.fire(this);\n\t}\n\n\tclearContents() {\n\t\tthis.domNode.classList.add('no-docs');\n\t\tthis._type.textContent = '';\n\t\tthis._docs.textContent = '';\n\t}\n\n\tget isEmpty(): boolean {\n\t\treturn this.domNode.classList.contains('no-docs');\n\t}\n\n\tget size() {\n\t\treturn this._size;\n\t}\n\n\tlayout(width: number, height: number): void {\n\t\tconst newSize = new dom.Dimension(width, height);\n\t\tif (!dom.Dimension.equals(newSize, this._size)) {\n\t\t\tthis._size = newSize;\n\t\t\tdom.size(this.domNode, width, height);\n\t\t}\n\t\tthis._scrollbar.scanDomNode();\n\t}\n\n\tscrollDown(much = 8): void {\n\t\tthis._body.scrollTop += much;\n\t}\n\n\tscrollUp(much = 8): void {\n\t\tthis._body.scrollTop -= much;\n\t}\n\n\tscrollTop(): void {\n\t\tthis._body.scrollTop = 0;\n\t}\n\n\tscrollBottom(): void {\n\t\tthis._body.scrollTop = this._body.scrollHeight;\n\t}\n\n\tpageDown(): void {\n\t\tthis.scrollDown(80);\n\t}\n\n\tpageUp(): void {\n\t\tthis.scrollUp(80);\n\t}\n\n\tset borderWidth(width: number) {\n\t\tthis._borderWidth = width;\n\t}\n\n\tget borderWidth() {\n\t\treturn this._borderWidth;\n\t}\n\n\tfocus() {\n\t\tthis.domNode.focus();\n\t}\n}\n\ninterface TopLeftPosition {\n\ttop: number;\n\tleft: number;\n}\n\nexport class SuggestDetailsOverlay implements IOverlayWidget {\n\n\treadonly allowEditorOverflow = true;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _resizable: ResizableHTMLElement;\n\n\tprivate _added: boolean = false;\n\tprivate _anchorBox?: dom.IDomNodePagePosition;\n\tprivate _preferAlignAtTop: boolean = true;\n\tprivate _userSize?: dom.Dimension;\n\tprivate _topLeft?: TopLeftPosition;\n\n\tconstructor(\n\t\treadonly widget: SuggestDetailsWidget,\n\t\tprivate readonly _editor: ICodeEditor\n\t) {\n\n\t\tthis._resizable = new ResizableHTMLElement();\n\t\tthis._resizable.domNode.classList.add('suggest-details-container');\n\t\tthis._resizable.domNode.appendChild(widget.domNode);\n\t\tthis._resizable.enableSashes(false, true, true, false);\n\n\t\tlet topLeftNow: TopLeftPosition | undefined;\n\t\tlet sizeNow: dom.Dimension | undefined;\n\t\tlet deltaTop: number = 0;\n\t\tlet deltaLeft: number = 0;\n\t\tthis._disposables.add(this._resizable.onDidWillResize(() => {\n\t\t\ttopLeftNow = this._topLeft;\n\t\t\tsizeNow = this._resizable.size;\n\t\t}));\n\n\t\tthis._disposables.add(this._resizable.onDidResize(e => {\n\t\t\tif (topLeftNow && sizeNow) {\n\t\t\t\tthis.widget.layout(e.dimension.width, e.dimension.height);\n\n\t\t\t\tlet updateTopLeft = false;\n\t\t\t\tif (e.west) {\n\t\t\t\t\tdeltaLeft = sizeNow.width - e.dimension.width;\n\t\t\t\t\tupdateTopLeft = true;\n\t\t\t\t}\n\t\t\t\tif (e.north) {\n\t\t\t\t\tdeltaTop = sizeNow.height - e.dimension.height;\n\t\t\t\t\tupdateTopLeft = true;\n\t\t\t\t}\n\t\t\t\tif (updateTopLeft) {\n\t\t\t\t\tthis._applyTopLeft({\n\t\t\t\t\t\ttop: topLeftNow.top + deltaTop,\n\t\t\t\t\t\tleft: topLeftNow.left + deltaLeft,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (e.done) {\n\t\t\t\ttopLeftNow = undefined;\n\t\t\t\tsizeNow = undefined;\n\t\t\t\tdeltaTop = 0;\n\t\t\t\tdeltaLeft = 0;\n\t\t\t\tthis._userSize = e.dimension;\n\t\t\t}\n\t\t}));\n\n\t\tthis._disposables.add(this.widget.onDidChangeContents(() => {\n\t\t\tif (this._anchorBox) {\n\t\t\t\tthis._placeAtAnchor(this._anchorBox, this._userSize ?? this.widget.size, this._preferAlignAtTop);\n\t\t\t}\n\t\t}));\n\t}\n\n\tdispose(): void {\n\t\tthis._resizable.dispose();\n\t\tthis._disposables.dispose();\n\t\tthis.hide();\n\t}\n\n\tgetId(): string {\n\t\treturn 'suggest.details';\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this._resizable.domNode;\n\t}\n\n\tgetPosition(): IOverlayWidgetPosition | null {\n\t\treturn this._topLeft ? { preference: this._topLeft } : null;\n\t}\n\n\tshow(): void {\n\t\tif (!this._added) {\n\t\t\tthis._editor.addOverlayWidget(this);\n\t\t\tthis._added = true;\n\t\t}\n\t}\n\n\thide(sessionEnded: boolean = false): void {\n\t\tthis._resizable.clearSashHoverState();\n\n\t\tif (this._added) {\n\t\t\tthis._editor.removeOverlayWidget(this);\n\t\t\tthis._added = false;\n\t\t\tthis._anchorBox = undefined;\n\t\t\tthis._topLeft = undefined;\n\t\t}\n\t\tif (sessionEnded) {\n\t\t\tthis._userSize = undefined;\n\t\t\tthis.widget.clearContents();\n\t\t}\n\t}\n\n\tplaceAtAnchor(anchor: HTMLElement, preferAlignAtTop: boolean) {\n\t\tconst anchorBox = anchor.getBoundingClientRect();\n\t\tthis._anchorBox = anchorBox;\n\t\tthis._preferAlignAtTop = preferAlignAtTop;\n\t\tthis._placeAtAnchor(this._anchorBox, this._userSize ?? this.widget.size, preferAlignAtTop);\n\t}\n\n\t_placeAtAnchor(anchorBox: dom.IDomNodePagePosition, size: dom.Dimension, preferAlignAtTop: boolean) {\n\t\tconst bodyBox = dom.getClientArea(this.getDomNode().ownerDocument.body);\n\n\t\tconst info = this.widget.getLayoutInfo();\n\n\t\tconst defaultMinSize = new dom.Dimension(220, 2 * info.lineHeight);\n\t\tconst defaultTop = anchorBox.top;\n\n\t\ttype Placement = { top: number; left: number; fit: number; maxSizeTop: dom.Dimension; maxSizeBottom: dom.Dimension; minSize: dom.Dimension };\n\n\t\t// EAST\n\t\tconst eastPlacement: Placement = (function () {\n\t\t\tconst width = bodyBox.width - (anchorBox.left + anchorBox.width + info.borderWidth + info.horizontalPadding);\n\t\t\tconst left = -info.borderWidth + anchorBox.left + anchorBox.width;\n\t\t\tconst maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n\t\t\tconst maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n\t\t\treturn { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n\t\t})();\n\n\t\t// WEST\n\t\tconst westPlacement: Placement = (function () {\n\t\t\tconst width = anchorBox.left - info.borderWidth - info.horizontalPadding;\n\t\t\tconst left = Math.max(info.horizontalPadding, anchorBox.left - size.width - info.borderWidth);\n\t\t\tconst maxSizeTop = new dom.Dimension(width, bodyBox.height - anchorBox.top - info.borderHeight - info.verticalPadding);\n\t\t\tconst maxSizeBottom = maxSizeTop.with(undefined, anchorBox.top + anchorBox.height - info.borderHeight - info.verticalPadding);\n\t\t\treturn { top: defaultTop, left, fit: width - size.width, maxSizeTop, maxSizeBottom, minSize: defaultMinSize.with(Math.min(width, defaultMinSize.width)) };\n\t\t})();\n\n\t\t// SOUTH\n\t\tconst southPacement: Placement = (function () {\n\t\t\tconst left = anchorBox.left;\n\t\t\tconst top = -info.borderWidth + anchorBox.top + anchorBox.height;\n\t\t\tconst maxSizeBottom = new dom.Dimension(anchorBox.width - info.borderHeight, bodyBox.height - anchorBox.top - anchorBox.height - info.verticalPadding);\n\t\t\treturn { top, left, fit: maxSizeBottom.height - size.height, maxSizeBottom, maxSizeTop: maxSizeBottom, minSize: defaultMinSize.with(maxSizeBottom.width) };\n\t\t})();\n\n\t\t// take first placement that fits or the first with \"least bad\" fit\n\t\tconst placements = [eastPlacement, westPlacement, southPacement];\n\t\tconst placement = placements.find(p => p.fit >= 0) ?? placements.sort((a, b) => b.fit - a.fit)[0];\n\n\t\t// top/bottom placement\n\t\tconst bottom = anchorBox.top + anchorBox.height - info.borderHeight;\n\t\tlet alignAtTop: boolean;\n\t\tlet height = size.height;\n\t\tconst maxHeight = Math.max(placement.maxSizeTop.height, placement.maxSizeBottom.height);\n\t\tif (height > maxHeight) {\n\t\t\theight = maxHeight;\n\t\t}\n\t\tlet maxSize: dom.Dimension;\n\t\tif (preferAlignAtTop) {\n\t\t\tif (height <= placement.maxSizeTop.height) {\n\t\t\t\talignAtTop = true;\n\t\t\t\tmaxSize = placement.maxSizeTop;\n\t\t\t} else {\n\t\t\t\talignAtTop = false;\n\t\t\t\tmaxSize = placement.maxSizeBottom;\n\t\t\t}\n\t\t} else {\n\t\t\tif (height <= placement.maxSizeBottom.height) {\n\t\t\t\talignAtTop = false;\n\t\t\t\tmaxSize = placement.maxSizeBottom;\n\t\t\t} else {\n\t\t\t\talignAtTop = true;\n\t\t\t\tmaxSize = placement.maxSizeTop;\n\t\t\t}\n\t\t}\n\n\t\tlet { top, left } = placement;\n\t\tif (!alignAtTop && height > anchorBox.height) {\n\t\t\ttop = bottom - height;\n\t\t}\n\t\tconst editorDomNode = this._editor.getDomNode();\n\t\tif (editorDomNode) {\n\t\t\t// get bounding rectangle of the suggest widget relative to the editor\n\t\t\tconst editorBoundingBox = editorDomNode.getBoundingClientRect();\n\t\t\ttop -= editorBoundingBox.top;\n\t\t\tleft -= editorBoundingBox.left;\n\t\t}\n\t\tthis._applyTopLeft({ left, top });\n\n\t\tthis._resizable.enableSashes(!alignAtTop, placement === eastPlacement, alignAtTop, placement !== eastPlacement);\n\n\t\tthis._resizable.minSize = placement.minSize;\n\t\tthis._resizable.maxSize = maxSize;\n\t\tthis._resizable.layout(height, Math.min(maxSize.width, size.width));\n\t\tthis.widget.layout(this._resizable.size.width, this._resizable.size.height);\n\t}\n\n\tprivate _applyTopLeft(topLeft: TopLeftPosition): void {\n\t\tthis._topLeft = topLeft;\n\t\tthis._editor.layoutOverlayWidget(this);\n\t}\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2579, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidgetRenderer.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestWidgetRenderer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append, hide, show } from '../../../../base/browser/dom.js';\nimport { IconLabel, IIconLabelValueOptions } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { IListRenderer } from '../../../../base/browser/ui/list/list.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { createMatches } from '../../../../base/common/filters.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { CompletionItemKind, CompletionItemKinds, CompletionItemTag } from '../../../common/languages.js';\nimport { getIconClasses } from '../../../common/services/getIconClasses.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport * as nls from '../../../../nls.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CompletionItem } from './suggest.js';\nimport { canExpandCompletionItem } from './suggestWidgetDetails.js';\n\nconst suggestMoreInfoIcon = registerIcon('suggest-more-info', Codicon.chevronRight, nls.localize('suggestMoreInfoIcon', 'Icon for more information in the suggest widget.'));\n\nconst _completionItemColor = new class ColorExtractor {\n\n\tprivate static _regexRelaxed = /(#([\\da-fA-F]{3}){1,2}|(rgb|hsl)a\\(\\s*(\\d{1,3}%?\\s*,\\s*){3}(1|0?\\.\\d+)\\)|(rgb|hsl)\\(\\s*\\d{1,3}%?(\\s*,\\s*\\d{1,3}%?){2}\\s*\\))/;\n\tprivate static _regexStrict = new RegExp(`^${ColorExtractor._regexRelaxed.source}$`, 'i');\n\n\textract(item: CompletionItem, out: string[]): boolean {\n\t\tif (item.textLabel.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.textLabel;\n\t\t\treturn true;\n\t\t}\n\t\tif (item.completion.detail && item.completion.detail.match(ColorExtractor._regexStrict)) {\n\t\t\tout[0] = item.completion.detail;\n\t\t\treturn true;\n\t\t}\n\n\t\tif (item.completion.documentation) {\n\t\t\tconst value = typeof item.completion.documentation === 'string'\n\t\t\t\t? item.completion.documentation\n\t\t\t\t: item.completion.documentation.value;\n\n\t\t\tconst match = ColorExtractor._regexRelaxed.exec(value);\n\t\t\tif (match && (match.index === 0 || match.index + match[0].length === value.length)) {\n\t\t\t\tout[0] = match[0];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\n\nexport interface ISuggestionTemplateData {\n\treadonly root: HTMLElement;\n\n\t/**\n\t * Flexbox\n\t * < ------------- left ------------ >     < --- right -- >\n\t * <icon><label><signature><qualifier>     <type><readmore>\n\t */\n\treadonly left: HTMLElement;\n\treadonly right: HTMLElement;\n\n\treadonly icon: HTMLElement;\n\treadonly colorspan: HTMLElement;\n\treadonly iconLabel: IconLabel;\n\treadonly iconContainer: HTMLElement;\n\treadonly parametersLabel: HTMLElement;\n\treadonly qualifierLabel: HTMLElement;\n\t/**\n\t * Showing either `CompletionItem#details` or `CompletionItemLabel#type`\n\t */\n\treadonly detailsLabel: HTMLElement;\n\treadonly readMore: HTMLElement;\n\treadonly disposables: DisposableStore;\n\n\treadonly configureFont: () => void;\n}\n\nexport class ItemRenderer implements IListRenderer<CompletionItem, ISuggestionTemplateData> {\n\n\tprivate readonly _onDidToggleDetails = new Emitter<void>();\n\treadonly onDidToggleDetails: Event<void> = this._onDidToggleDetails.event;\n\n\treadonly templateId = 'suggestion';\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@IThemeService private readonly _themeService: IThemeService\n\t) { }\n\n\tdispose(): void {\n\t\tthis._onDidToggleDetails.dispose();\n\t}\n\n\trenderTemplate(container: HTMLElement): ISuggestionTemplateData {\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst root = container;\n\t\troot.classList.add('show-file-icons');\n\n\t\tconst icon = append(container, $('.icon'));\n\t\tconst colorspan = append(icon, $('span.colorspan'));\n\n\t\tconst text = append(container, $('.contents'));\n\t\tconst main = append(text, $('.main'));\n\n\t\tconst iconContainer = append(main, $('.icon-label.codicon'));\n\t\tconst left = append(main, $('span.left'));\n\t\tconst right = append(main, $('span.right'));\n\n\t\tconst iconLabel = new IconLabel(left, { supportHighlights: true, supportIcons: true });\n\t\tdisposables.add(iconLabel);\n\n\t\tconst parametersLabel = append(left, $('span.signature-label'));\n\t\tconst qualifierLabel = append(left, $('span.qualifier-label'));\n\t\tconst detailsLabel = append(right, $('span.details-label'));\n\n\t\tconst readMore = append(right, $('span.readMore' + ThemeIcon.asCSSSelector(suggestMoreInfoIcon)));\n\t\treadMore.title = nls.localize('readMore', \"Read More\");\n\n\t\tconst configureFont = () => {\n\t\t\tconst options = this._editor.getOptions();\n\t\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\t\tconst fontFamily = fontInfo.getMassagedFontFamily();\n\t\t\tconst fontFeatureSettings = fontInfo.fontFeatureSettings;\n\t\t\tconst fontVariationSettings = fontInfo.fontVariationSettings;\n\t\t\tconst fontSize = options.get(EditorOption.suggestFontSize) || fontInfo.fontSize;\n\t\t\tconst lineHeight = options.get(EditorOption.suggestLineHeight) || fontInfo.lineHeight;\n\t\t\tconst fontWeight = fontInfo.fontWeight;\n\t\t\tconst letterSpacing = fontInfo.letterSpacing;\n\t\t\tconst fontSizePx = `${fontSize}px`;\n\t\t\tconst lineHeightPx = `${lineHeight}px`;\n\t\t\tconst letterSpacingPx = `${letterSpacing}px`;\n\n\t\t\troot.style.fontSize = fontSizePx;\n\t\t\troot.style.fontWeight = fontWeight;\n\t\t\troot.style.letterSpacing = letterSpacingPx;\n\t\t\tmain.style.fontFamily = fontFamily;\n\t\t\tmain.style.fontFeatureSettings = fontFeatureSettings;\n\t\t\tmain.style.fontVariationSettings = fontVariationSettings;\n\t\t\tmain.style.lineHeight = lineHeightPx;\n\t\t\ticon.style.height = lineHeightPx;\n\t\t\ticon.style.width = lineHeightPx;\n\t\t\treadMore.style.height = lineHeightPx;\n\t\t\treadMore.style.width = lineHeightPx;\n\t\t};\n\n\t\treturn { root, left, right, icon, colorspan, iconLabel, iconContainer, parametersLabel, qualifierLabel, detailsLabel, readMore, disposables, configureFont };\n\t}\n\n\trenderElement(element: CompletionItem, index: number, data: ISuggestionTemplateData): void {\n\n\n\t\tdata.configureFont();\n\n\t\tconst { completion } = element;\n\t\tdata.colorspan.style.backgroundColor = '';\n\n\t\tconst labelOptions: IIconLabelValueOptions = {\n\t\t\tlabelEscapeNewLines: true,\n\t\t\tmatches: createMatches(element.score)\n\t\t};\n\n\t\tconst color: string[] = [];\n\t\tif (completion.kind === CompletionItemKind.Color && _completionItemColor.extract(element, color)) {\n\t\t\t// special logic for 'color' completion items\n\t\t\tdata.icon.className = 'icon customcolor';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tdata.colorspan.style.backgroundColor = color[0];\n\n\t\t} else if (completion.kind === CompletionItemKind.File && this._themeService.getFileIconTheme().hasFileIcons) {\n\t\t\t// special logic for 'file' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tconst labelClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FILE);\n\t\t\tconst detailClasses = getIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FILE);\n\t\t\tlabelOptions.extraClasses = labelClasses.length > detailClasses.length ? labelClasses : detailClasses;\n\n\t\t} else if (completion.kind === CompletionItemKind.Folder && this._themeService.getFileIconTheme().hasFolderIcons) {\n\t\t\t// special logic for 'folder' completion items\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = 'icon hide';\n\t\t\tlabelOptions.extraClasses = [\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: element.textLabel }), FileKind.FOLDER),\n\t\t\t\tgetIconClasses(this._modelService, this._languageService, URI.from({ scheme: 'fake', path: completion.detail }), FileKind.FOLDER)\n\t\t\t].flat();\n\t\t} else {\n\t\t\t// normal icon\n\t\t\tdata.icon.className = 'icon hide';\n\t\t\tdata.iconContainer.className = '';\n\t\t\tdata.iconContainer.classList.add('suggest-icon', ...ThemeIcon.asClassNameArray(CompletionItemKinds.toIcon(completion.kind)));\n\t\t}\n\n\t\tif (completion.tags && completion.tags.indexOf(CompletionItemTag.Deprecated) >= 0) {\n\t\t\tlabelOptions.extraClasses = (labelOptions.extraClasses || []).concat(['deprecated']);\n\t\t\tlabelOptions.matches = [];\n\t\t}\n\n\t\tdata.iconLabel.setLabel(element.textLabel, undefined, labelOptions);\n\t\tif (typeof completion.label === 'string') {\n\t\t\tdata.parametersLabel.textContent = '';\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.detail || '');\n\t\t\tdata.root.classList.add('string-label');\n\t\t} else {\n\t\t\tdata.parametersLabel.textContent = stripNewLines(completion.label.detail || '');\n\t\t\tdata.detailsLabel.textContent = stripNewLines(completion.label.description || '');\n\t\t\tdata.root.classList.remove('string-label');\n\t\t}\n\n\t\tif (this._editor.getOption(EditorOption.suggest).showInlineDetails) {\n\t\t\tshow(data.detailsLabel);\n\t\t} else {\n\t\t\thide(data.detailsLabel);\n\t\t}\n\n\t\tif (canExpandCompletionItem(element)) {\n\t\t\tdata.right.classList.add('can-expand-details');\n\t\t\tshow(data.readMore);\n\t\t\tdata.readMore.onmousedown = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t};\n\t\t\tdata.readMore.onclick = e => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidToggleDetails.fire();\n\t\t\t};\n\t\t} else {\n\t\t\tdata.right.classList.remove('can-expand-details');\n\t\t\thide(data.readMore);\n\t\t\tdata.readMore.onmousedown = null;\n\t\t\tdata.readMore.onclick = null;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISuggestionTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\nfunction stripNewLines(str: string): string {\n\treturn str.replace(/\\r\\n|\\r|\\n/g, '');\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2838, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestWidget.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport '../../../../base/browser/ui/codicons/codiconStyles.js'; // The codicon symbol styles are defined here and must be loaded\nimport { IListEvent, IListGestureEvent, IListMouseEvent } from '../../../../base/browser/ui/list/list.js';\nimport { List } from '../../../../base/browser/ui/list/listWidget.js';\nimport { CancelablePromise, createCancelablePromise, disposableTimeout, TimeoutTimer } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event, PauseableEmitter } from '../../../../base/common/event.js';\nimport { DisposableStore, IDisposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { clamp } from '../../../../base/common/numbers.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport './media/suggest.css';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition, IEditorMouseEvent } from '../../../browser/editorBrowser.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { IPosition } from '../../../common/core/position.js';\nimport { SuggestWidgetStatus } from './suggestWidgetStatus.js';\nimport '../../symbolIcons/browser/symbolIcons.js'; // The codicon symbol colors are defined here and must be loaded to get colors\nimport * as nls from '../../../../nls.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { activeContrastBorder, editorForeground, editorWidgetBackground, editorWidgetBorder, listFocusHighlightForeground, listHighlightForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { isHighContrast } from '../../../../platform/theme/common/theme.js';\nimport { IColorTheme, IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CompletionModel } from './completionModel.js';\nimport { ResizableHTMLElement } from '../../../../base/browser/ui/resizable/resizable.js';\nimport { CompletionItem, Context as SuggestContext, suggestWidgetStatusbarMenu } from './suggest.js';\nimport { canExpandCompletionItem, SuggestDetailsOverlay, SuggestDetailsWidget } from './suggestWidgetDetails.js';\nimport { ItemRenderer } from './suggestWidgetRenderer.js';\nimport { getListStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\nimport { CompletionItemKinds } from '../../../common/languages.js';\nimport { isWindows } from '../../../../base/common/platform.js';\n\n/**\n * Suggest widget colors\n */\nregisterColor('editorSuggestWidget.background', editorWidgetBackground, nls.localize('editorSuggestWidgetBackground', 'Background color of the suggest widget.'));\nregisterColor('editorSuggestWidget.border', editorWidgetBorder, nls.localize('editorSuggestWidgetBorder', 'Border color of the suggest widget.'));\nexport const editorSuggestWidgetForeground = registerColor('editorSuggestWidget.foreground', editorForeground, nls.localize('editorSuggestWidgetForeground', 'Foreground color of the suggest widget.'));\nregisterColor('editorSuggestWidget.selectedForeground', quickInputListFocusForeground, nls.localize('editorSuggestWidgetSelectedForeground', 'Foreground color of the selected entry in the suggest widget.'));\nregisterColor('editorSuggestWidget.selectedIconForeground', quickInputListFocusIconForeground, nls.localize('editorSuggestWidgetSelectedIconForeground', 'Icon foreground color of the selected entry in the suggest widget.'));\nexport const editorSuggestWidgetSelectedBackground = registerColor('editorSuggestWidget.selectedBackground', quickInputListFocusBackground, nls.localize('editorSuggestWidgetSelectedBackground', 'Background color of the selected entry in the suggest widget.'));\nregisterColor('editorSuggestWidget.highlightForeground', listHighlightForeground, nls.localize('editorSuggestWidgetHighlightForeground', 'Color of the match highlights in the suggest widget.'));\nregisterColor('editorSuggestWidget.focusHighlightForeground', listFocusHighlightForeground, nls.localize('editorSuggestWidgetFocusHighlightForeground', 'Color of the match highlights in the suggest widget when an item is focused.'));\nregisterColor('editorSuggestWidgetStatus.foreground', transparent(editorSuggestWidgetForeground, .5), nls.localize('editorSuggestWidgetStatusForeground', 'Foreground color of the suggest widget status.'));\n\nconst enum State {\n\tHidden,\n\tLoading,\n\tEmpty,\n\tOpen,\n\tFrozen,\n\tDetails,\n\tonDetailsKeyDown\n}\n\nexport interface ISelectedSuggestion {\n\titem: CompletionItem;\n\tindex: number;\n\tmodel: CompletionModel;\n}\n\nclass PersistedWidgetSize {\n\n\tprivate readonly _key: string;\n\n\tconstructor(\n\t\tprivate readonly _service: IStorageService,\n\t\teditor: ICodeEditor\n\t) {\n\t\tthis._key = `suggestWidget.size/${editor.getEditorType()}/${editor instanceof EmbeddedCodeEditorWidget}`;\n\t}\n\n\trestore(): dom.Dimension | undefined {\n\t\tconst raw = this._service.get(this._key, StorageScope.PROFILE) ?? '';\n\t\ttry {\n\t\t\tconst obj = JSON.parse(raw);\n\t\t\tif (dom.Dimension.is(obj)) {\n\t\t\t\treturn dom.Dimension.lift(obj);\n\t\t\t}\n\t\t} catch {\n\t\t\t// ignore\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tstore(size: dom.Dimension) {\n\t\tthis._service.store(this._key, JSON.stringify(size), StorageScope.PROFILE, StorageTarget.MACHINE);\n\t}\n\n\treset(): void {\n\t\tthis._service.remove(this._key, StorageScope.PROFILE);\n\t}\n}\n\nexport class SuggestWidget implements IDisposable {\n\n\tprivate static LOADING_MESSAGE: string = nls.localize('suggestWidget.loading', \"Loading...\");\n\tprivate static NO_SUGGESTIONS_MESSAGE: string = nls.localize('suggestWidget.noSuggestions', \"No suggestions.\");\n\n\tprivate _state: State = State.Hidden;\n\tprivate _isAuto: boolean = false;\n\tprivate _loadingTimeout?: IDisposable;\n\tprivate readonly _pendingLayout = new MutableDisposable();\n\tprivate readonly _pendingShowDetails = new MutableDisposable();\n\tprivate _currentSuggestionDetails?: CancelablePromise<void>;\n\tprivate _focusedItem?: CompletionItem;\n\tprivate _ignoreFocusEvents: boolean = false;\n\tprivate _completionModel?: CompletionModel;\n\tprivate _cappedHeight?: { wanted: number; capped: number };\n\tprivate _forceRenderingAbove: boolean = false;\n\tprivate _explainMode: boolean = false;\n\n\treadonly element: ResizableHTMLElement;\n\tprivate readonly _messageElement: HTMLElement;\n\tprivate readonly _listElement: HTMLElement;\n\tprivate readonly _list: List<CompletionItem>;\n\tprivate readonly _status: SuggestWidgetStatus;\n\tprivate readonly _details: SuggestDetailsOverlay;\n\tprivate readonly _contentWidget: SuggestContentWidget;\n\tprivate readonly _persistedSize: PersistedWidgetSize;\n\n\tprivate readonly _ctxSuggestWidgetVisible: IContextKey<boolean>;\n\tprivate readonly _ctxSuggestWidgetDetailsVisible: IContextKey<boolean>;\n\tprivate readonly _ctxSuggestWidgetMultipleSuggestions: IContextKey<boolean>;\n\tprivate readonly _ctxSuggestWidgetHasFocusedSuggestion: IContextKey<boolean>;\n\n\tprivate readonly _showTimeout = new TimeoutTimer();\n\tprivate readonly _disposables = new DisposableStore();\n\n\n\tprivate readonly _onDidSelect = new PauseableEmitter<ISelectedSuggestion>();\n\tprivate readonly _onDidFocus = new PauseableEmitter<ISelectedSuggestion>();\n\tprivate readonly _onDidHide = new Emitter<this>();\n\tprivate readonly _onDidShow = new Emitter<this>();\n\n\treadonly onDidSelect: Event<ISelectedSuggestion> = this._onDidSelect.event;\n\treadonly onDidFocus: Event<ISelectedSuggestion> = this._onDidFocus.event;\n\treadonly onDidHide: Event<this> = this._onDidHide.event;\n\treadonly onDidShow: Event<this> = this._onDidShow.event;\n\n\tprivate readonly _onDetailsKeydown = new Emitter<IKeyboardEvent>();\n\treadonly onDetailsKeyDown: Event<IKeyboardEvent> = this._onDetailsKeydown.event;\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IContextKeyService _contextKeyService: IContextKeyService,\n\t\t@IThemeService _themeService: IThemeService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tthis.element = new ResizableHTMLElement();\n\t\tthis.element.domNode.classList.add('editor-widget', 'suggest-widget');\n\n\t\tthis._contentWidget = new SuggestContentWidget(this, editor);\n\t\tthis._persistedSize = new PersistedWidgetSize(_storageService, editor);\n\n\t\tclass ResizeState {\n\t\t\tconstructor(\n\t\t\t\treadonly persistedSize: dom.Dimension | undefined,\n\t\t\t\treadonly currentSize: dom.Dimension,\n\t\t\t\tpublic persistHeight = false,\n\t\t\t\tpublic persistWidth = false,\n\t\t\t) { }\n\t\t}\n\n\t\tlet state: ResizeState | undefined;\n\t\tthis._disposables.add(this.element.onDidWillResize(() => {\n\t\t\tthis._contentWidget.lockPreference();\n\t\t\tstate = new ResizeState(this._persistedSize.restore(), this.element.size);\n\t\t}));\n\t\tthis._disposables.add(this.element.onDidResize(e => {\n\n\t\t\tthis._resize(e.dimension.width, e.dimension.height);\n\n\t\t\tif (state) {\n\t\t\t\tstate.persistHeight = state.persistHeight || !!e.north || !!e.south;\n\t\t\t\tstate.persistWidth = state.persistWidth || !!e.east || !!e.west;\n\t\t\t}\n\n\t\t\tif (!e.done) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (state) {\n\t\t\t\t// only store width or height value that have changed and also\n\t\t\t\t// only store changes that are above a certain threshold\n\t\t\t\tconst { itemHeight, defaultSize } = this.getLayoutInfo();\n\t\t\t\tconst threshold = Math.round(itemHeight / 2);\n\t\t\t\tlet { width, height } = this.element.size;\n\t\t\t\tif (!state.persistHeight || Math.abs(state.currentSize.height - height) <= threshold) {\n\t\t\t\t\theight = state.persistedSize?.height ?? defaultSize.height;\n\t\t\t\t}\n\t\t\t\tif (!state.persistWidth || Math.abs(state.currentSize.width - width) <= threshold) {\n\t\t\t\t\twidth = state.persistedSize?.width ?? defaultSize.width;\n\t\t\t\t}\n\t\t\t\tthis._persistedSize.store(new dom.Dimension(width, height));\n\t\t\t}\n\n\t\t\t// reset working state\n\t\t\tthis._contentWidget.unlockPreference();\n\t\t\tstate = undefined;\n\t\t}));\n\n\t\tthis._messageElement = dom.append(this.element.domNode, dom.$('.message'));\n\t\tthis._listElement = dom.append(this.element.domNode, dom.$('.tree'));\n\n\t\tconst details = this._disposables.add(instantiationService.createInstance(SuggestDetailsWidget, this.editor));\n\t\tdetails.onDidClose(() => this.toggleDetails(), this, this._disposables);\n\t\tthis._details = new SuggestDetailsOverlay(details, this.editor);\n\n\t\tconst applyIconStyle = () => this.element.domNode.classList.toggle('no-icons', !this.editor.getOption(EditorOption.suggest).showIcons);\n\t\tapplyIconStyle();\n\n\t\tconst renderer = instantiationService.createInstance(ItemRenderer, this.editor);\n\t\tthis._disposables.add(renderer);\n\t\tthis._disposables.add(renderer.onDidToggleDetails(() => this.toggleDetails()));\n\n\t\tthis._list = new List('SuggestWidget', this._listElement, {\n\t\t\tgetHeight: (_element: CompletionItem): number => this.getLayoutInfo().itemHeight,\n\t\t\tgetTemplateId: (_element: CompletionItem): string => 'suggestion'\n\t\t}, [renderer], {\n\t\t\talwaysConsumeMouseWheel: true,\n\t\t\tuseShadows: false,\n\t\t\tmouseSupport: false,\n\t\t\tmultipleSelectionSupport: false,\n\t\t\taccessibilityProvider: {\n\t\t\t\tgetRole: () => isWindows ? 'listitem' : 'option',\n\t\t\t\tgetWidgetAriaLabel: () => nls.localize('suggest', \"Suggest\"),\n\t\t\t\tgetWidgetRole: () => 'listbox',\n\t\t\t\tgetAriaLabel: (item: CompletionItem) => {\n\n\t\t\t\t\tlet label = item.textLabel;\n\t\t\t\t\tconst kindLabel = CompletionItemKinds.toLabel(item.completion.kind);\n\t\t\t\t\tif (typeof item.completion.label !== 'string') {\n\t\t\t\t\t\tconst { detail, description } = item.completion.label;\n\t\t\t\t\t\tif (detail && description) {\n\t\t\t\t\t\t\tlabel = nls.localize('label.full', '{0} {1}, {2}, {3}', label, detail, description, kindLabel);\n\t\t\t\t\t\t} else if (detail) {\n\t\t\t\t\t\t\tlabel = nls.localize('label.detail', '{0} {1}, {2}', label, detail, kindLabel);\n\t\t\t\t\t\t} else if (description) {\n\t\t\t\t\t\t\tlabel = nls.localize('label.desc', '{0}, {1}, {2}', label, description, kindLabel);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabel = nls.localize('label', '{0}, {1}', label, kindLabel);\n\t\t\t\t\t}\n\t\t\t\t\tif (!item.isResolved || !this._isDetailsVisible()) {\n\t\t\t\t\t\treturn label;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst { documentation, detail } = item.completion;\n\t\t\t\t\tconst docs = strings.format(\n\t\t\t\t\t\t'{0}{1}',\n\t\t\t\t\t\tdetail || '',\n\t\t\t\t\t\tdocumentation ? (typeof documentation === 'string' ? documentation : documentation.value) : '');\n\n\t\t\t\t\treturn nls.localize('ariaCurrenttSuggestionReadDetails', \"{0}, docs: {1}\", label, docs);\n\t\t\t\t},\n\t\t\t}\n\t\t});\n\t\tthis._list.style(getListStyles({\n\t\t\tlistInactiveFocusBackground: editorSuggestWidgetSelectedBackground,\n\t\t\tlistInactiveFocusOutline: activeContrastBorder\n\t\t}));\n\n\t\tthis._status = instantiationService.createInstance(SuggestWidgetStatus, this.element.domNode, suggestWidgetStatusbarMenu);\n\t\tconst applyStatusBarStyle = () => this.element.domNode.classList.toggle('with-status-bar', this.editor.getOption(EditorOption.suggest).showStatusBar);\n\t\tapplyStatusBarStyle();\n\n\t\tthis._disposables.add(_themeService.onDidColorThemeChange(t => this._onThemeChange(t)));\n\t\tthis._onThemeChange(_themeService.getColorTheme());\n\n\t\tthis._disposables.add(this._list.onMouseDown(e => this._onListMouseDownOrTap(e)));\n\t\tthis._disposables.add(this._list.onTap(e => this._onListMouseDownOrTap(e)));\n\t\tthis._disposables.add(this._list.onDidChangeSelection(e => this._onListSelection(e)));\n\t\tthis._disposables.add(this._list.onDidChangeFocus(e => this._onListFocus(e)));\n\t\tthis._disposables.add(this.editor.onDidChangeCursorSelection(() => this._onCursorSelectionChanged()));\n\t\tthis._disposables.add(this.editor.onDidChangeConfiguration(e => {\n\t\t\tif (e.hasChanged(EditorOption.suggest)) {\n\t\t\t\tapplyStatusBarStyle();\n\t\t\t\tapplyIconStyle();\n\t\t\t}\n\t\t\tif (this._completionModel && (e.hasChanged(EditorOption.fontInfo) || e.hasChanged(EditorOption.suggestFontSize) || e.hasChanged(EditorOption.suggestLineHeight))) {\n\t\t\t\tthis._list.splice(0, this._list.length, this._completionModel.items);\n\t\t\t}\n\t\t}));\n\n\t\tthis._ctxSuggestWidgetVisible = SuggestContext.Visible.bindTo(_contextKeyService);\n\t\tthis._ctxSuggestWidgetDetailsVisible = SuggestContext.DetailsVisible.bindTo(_contextKeyService);\n\t\tthis._ctxSuggestWidgetMultipleSuggestions = SuggestContext.MultipleSuggestions.bindTo(_contextKeyService);\n\t\tthis._ctxSuggestWidgetHasFocusedSuggestion = SuggestContext.HasFocusedSuggestion.bindTo(_contextKeyService);\n\n\t\tthis._disposables.add(dom.addStandardDisposableListener(this._details.widget.domNode, 'keydown', e => {\n\t\t\tthis._onDetailsKeydown.fire(e);\n\t\t}));\n\n\t\tthis._disposables.add(this.editor.onMouseDown((e: IEditorMouseEvent) => this._onEditorMouseDown(e)));\n\t}\n\n\tdispose(): void {\n\t\tthis._details.widget.dispose();\n\t\tthis._details.dispose();\n\t\tthis._list.dispose();\n\t\tthis._status.dispose();\n\t\tthis._disposables.dispose();\n\t\tthis._loadingTimeout?.dispose();\n\t\tthis._pendingLayout.dispose();\n\t\tthis._pendingShowDetails.dispose();\n\t\tthis._showTimeout.dispose();\n\t\tthis._contentWidget.dispose();\n\t\tthis.element.dispose();\n\t}\n\n\tprivate _onEditorMouseDown(mouseEvent: IEditorMouseEvent): void {\n\t\tif (this._details.widget.domNode.contains(mouseEvent.target.element)) {\n\t\t\t// Clicking inside details\n\t\t\tthis._details.widget.domNode.focus();\n\t\t} else {\n\t\t\t// Clicking outside details and inside suggest\n\t\t\tif (this.element.domNode.contains(mouseEvent.target.element)) {\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _onCursorSelectionChanged(): void {\n\t\tif (this._state !== State.Hidden) {\n\t\t\tthis._contentWidget.layout();\n\t\t}\n\t}\n\n\tprivate _onListMouseDownOrTap(e: IListMouseEvent<CompletionItem> | IListGestureEvent<CompletionItem>): void {\n\t\tif (typeof e.element === 'undefined' || typeof e.index === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\t// prevent stealing browser focus from the editor\n\t\te.browserEvent.preventDefault();\n\t\te.browserEvent.stopPropagation();\n\n\t\tthis._select(e.element, e.index);\n\t}\n\n\tprivate _onListSelection(e: IListEvent<CompletionItem>): void {\n\t\tif (e.elements.length) {\n\t\t\tthis._select(e.elements[0], e.indexes[0]);\n\t\t}\n\t}\n\n\tprivate _select(item: CompletionItem, index: number): void {\n\t\tconst completionModel = this._completionModel;\n\t\tif (completionModel) {\n\t\t\tthis._onDidSelect.fire({ item, index, model: completionModel });\n\t\t\tthis.editor.focus();\n\t\t}\n\t}\n\n\tprivate _onThemeChange(theme: IColorTheme) {\n\t\tthis._details.widget.borderWidth = isHighContrast(theme.type) ? 2 : 1;\n\t}\n\n\tprivate _onListFocus(e: IListEvent<CompletionItem>): void {\n\t\tif (this._ignoreFocusEvents) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._state === State.Details) {\n\t\t\t// This can happen when focus is in the details-panel and when\n\t\t\t// arrow keys are pressed to select next/prev items\n\t\t\tthis._setState(State.Open);\n\t\t}\n\n\t\tif (!e.elements.length) {\n\t\t\tif (this._currentSuggestionDetails) {\n\t\t\t\tthis._currentSuggestionDetails.cancel();\n\t\t\t\tthis._currentSuggestionDetails = undefined;\n\t\t\t\tthis._focusedItem = undefined;\n\t\t\t}\n\n\t\t\tthis.editor.setAriaOptions({ activeDescendant: undefined });\n\t\t\tthis._ctxSuggestWidgetHasFocusedSuggestion.set(false);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._completionModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._ctxSuggestWidgetHasFocusedSuggestion.set(true);\n\t\tconst item = e.elements[0];\n\t\tconst index = e.indexes[0];\n\n\t\tif (item !== this._focusedItem) {\n\n\t\t\tthis._currentSuggestionDetails?.cancel();\n\t\t\tthis._currentSuggestionDetails = undefined;\n\n\t\t\tthis._focusedItem = item;\n\n\t\t\tthis._list.reveal(index);\n\n\t\t\tthis._currentSuggestionDetails = createCancelablePromise(async token => {\n\t\t\t\tconst loading = disposableTimeout(() => {\n\t\t\t\t\tif (this._isDetailsVisible()) {\n\t\t\t\t\t\tthis._showDetails(true, false);\n\t\t\t\t\t}\n\t\t\t\t}, 250);\n\t\t\t\tconst sub = token.onCancellationRequested(() => loading.dispose());\n\t\t\t\ttry {\n\t\t\t\t\treturn await item.resolve(token);\n\t\t\t\t} finally {\n\t\t\t\t\tloading.dispose();\n\t\t\t\t\tsub.dispose();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._currentSuggestionDetails.then(() => {\n\t\t\t\tif (index >= this._list.length || item !== this._list.element(index)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// item can have extra information, so re-render\n\t\t\t\tthis._ignoreFocusEvents = true;\n\t\t\t\tthis._list.splice(index, 1, [item]);\n\t\t\t\tthis._list.setFocus([index]);\n\t\t\t\tthis._ignoreFocusEvents = false;\n\n\t\t\t\tif (this._isDetailsVisible()) {\n\t\t\t\t\tthis._showDetails(false, false);\n\t\t\t\t} else {\n\t\t\t\t\tthis.element.domNode.classList.remove('docs-side');\n\t\t\t\t}\n\n\t\t\t\tthis.editor.setAriaOptions({ activeDescendant: this._list.getElementID(index) });\n\t\t\t}).catch(onUnexpectedError);\n\t\t}\n\n\t\t// emit an event\n\t\tthis._onDidFocus.fire({ item, index, model: this._completionModel });\n\t}\n\n\tprivate _setState(state: State): void {\n\n\t\tif (this._state === state) {\n\t\t\treturn;\n\t\t}\n\t\tthis._state = state;\n\n\t\tthis.element.domNode.classList.toggle('frozen', state === State.Frozen);\n\t\tthis.element.domNode.classList.remove('message');\n\n\t\tswitch (state) {\n\t\t\tcase State.Hidden:\n\t\t\t\tdom.hide(this._messageElement, this._listElement, this._status.element);\n\t\t\t\tthis._details.hide(true);\n\t\t\t\tthis._status.hide();\n\t\t\t\tthis._contentWidget.hide();\n\t\t\t\tthis._ctxSuggestWidgetVisible.reset();\n\t\t\t\tthis._ctxSuggestWidgetMultipleSuggestions.reset();\n\t\t\t\tthis._ctxSuggestWidgetHasFocusedSuggestion.reset();\n\t\t\t\tthis._showTimeout.cancel();\n\t\t\t\tthis.element.domNode.classList.remove('visible');\n\t\t\t\tthis._list.splice(0, this._list.length);\n\t\t\t\tthis._focusedItem = undefined;\n\t\t\t\tthis._cappedHeight = undefined;\n\t\t\t\tthis._explainMode = false;\n\t\t\t\tbreak;\n\t\t\tcase State.Loading:\n\t\t\t\tthis.element.domNode.classList.add('message');\n\t\t\t\tthis._messageElement.textContent = SuggestWidget.LOADING_MESSAGE;\n\t\t\t\tdom.hide(this._listElement, this._status.element);\n\t\t\t\tdom.show(this._messageElement);\n\t\t\t\tthis._details.hide();\n\t\t\t\tthis._show();\n\t\t\t\tthis._focusedItem = undefined;\n\t\t\t\tstatus(SuggestWidget.LOADING_MESSAGE);\n\t\t\t\tbreak;\n\t\t\tcase State.Empty:\n\t\t\t\tthis.element.domNode.classList.add('message');\n\t\t\t\tthis._messageElement.textContent = SuggestWidget.NO_SUGGESTIONS_MESSAGE;\n\t\t\t\tdom.hide(this._listElement, this._status.element);\n\t\t\t\tdom.show(this._messageElement);\n\t\t\t\tthis._details.hide();\n\t\t\t\tthis._show();\n\t\t\t\tthis._focusedItem = undefined;\n\t\t\t\tstatus(SuggestWidget.NO_SUGGESTIONS_MESSAGE);\n\t\t\t\tbreak;\n\t\t\tcase State.Open:\n\t\t\t\tdom.hide(this._messageElement);\n\t\t\t\tdom.show(this._listElement, this._status.element);\n\t\t\t\tthis._show();\n\t\t\t\tbreak;\n\t\t\tcase State.Frozen:\n\t\t\t\tdom.hide(this._messageElement);\n\t\t\t\tdom.show(this._listElement, this._status.element);\n\t\t\t\tthis._show();\n\t\t\t\tbreak;\n\t\t\tcase State.Details:\n\t\t\t\tdom.hide(this._messageElement);\n\t\t\t\tdom.show(this._listElement, this._status.element);\n\t\t\t\tthis._details.show();\n\t\t\t\tthis._show();\n\t\t\t\tthis._details.widget.focus();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate _show(): void {\n\t\tthis._status.show();\n\t\tthis._contentWidget.show();\n\t\tthis._layout(this._persistedSize.restore());\n\t\tthis._ctxSuggestWidgetVisible.set(true);\n\n\t\tthis._showTimeout.cancelAndSet(() => {\n\t\t\tthis.element.domNode.classList.add('visible');\n\t\t\tthis._onDidShow.fire(this);\n\t\t}, 100);\n\t}\n\n\tshowTriggered(auto: boolean, delay: number) {\n\t\tif (this._state !== State.Hidden) {\n\t\t\treturn;\n\t\t}\n\t\tthis._contentWidget.setPosition(this.editor.getPosition());\n\t\tthis._isAuto = !!auto;\n\n\t\tif (!this._isAuto) {\n\t\t\tthis._loadingTimeout = disposableTimeout(() => this._setState(State.Loading), delay);\n\t\t}\n\t}\n\n\tshowSuggestions(completionModel: CompletionModel, selectionIndex: number, isFrozen: boolean, isAuto: boolean, noFocus: boolean): void {\n\n\t\tthis._contentWidget.setPosition(this.editor.getPosition());\n\t\tthis._loadingTimeout?.dispose();\n\n\t\tthis._currentSuggestionDetails?.cancel();\n\t\tthis._currentSuggestionDetails = undefined;\n\n\t\tif (this._completionModel !== completionModel) {\n\t\t\tthis._completionModel = completionModel;\n\t\t}\n\n\t\tif (isFrozen && this._state !== State.Empty && this._state !== State.Hidden) {\n\t\t\tthis._setState(State.Frozen);\n\t\t\treturn;\n\t\t}\n\n\t\tconst visibleCount = this._completionModel.items.length;\n\t\tconst isEmpty = visibleCount === 0;\n\t\tthis._ctxSuggestWidgetMultipleSuggestions.set(visibleCount > 1);\n\n\t\tif (isEmpty) {\n\t\t\tthis._setState(isAuto ? State.Hidden : State.Empty);\n\t\t\tthis._completionModel = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._focusedItem = undefined;\n\n\t\t// calling list.splice triggers focus event which this widget forwards. That can lead to\n\t\t// suggestions being cancelled and the widget being cleared (and hidden). All this happens\n\t\t// before revealing and focusing is done which means revealing and focusing will fail when\n\t\t// they get run.\n\t\tthis._onDidFocus.pause();\n\t\tthis._onDidSelect.pause();\n\t\ttry {\n\t\t\tthis._list.splice(0, this._list.length, this._completionModel.items);\n\t\t\tthis._setState(isFrozen ? State.Frozen : State.Open);\n\t\t\tthis._list.reveal(selectionIndex, 0, selectionIndex === 0 ? 0 : this.getLayoutInfo().itemHeight * 0.33);\n\t\t\tthis._list.setFocus(noFocus ? [] : [selectionIndex]);\n\t\t} finally {\n\t\t\tthis._onDidFocus.resume();\n\t\t\tthis._onDidSelect.resume();\n\t\t}\n\n\t\tthis._pendingLayout.value = dom.runAtThisOrScheduleAtNextAnimationFrame(dom.getWindow(this.element.domNode), () => {\n\t\t\tthis._pendingLayout.clear();\n\t\t\tthis._layout(this.element.size);\n\t\t\t// Reset focus border\n\t\t\tthis._details.widget.domNode.classList.remove('focused');\n\t\t});\n\t}\n\n\tfocusSelected(): void {\n\t\tif (this._list.length > 0) {\n\t\t\tthis._list.setFocus([0]);\n\t\t}\n\t}\n\n\tselectNextPage(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Details:\n\t\t\t\tthis._details.widget.pageDown();\n\t\t\t\treturn true;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusNextPage();\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tselectNext(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusNext(1, true);\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tselectLast(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Details:\n\t\t\t\tthis._details.widget.scrollBottom();\n\t\t\t\treturn true;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusLast();\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tselectPreviousPage(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Details:\n\t\t\t\tthis._details.widget.pageUp();\n\t\t\t\treturn true;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusPreviousPage();\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tselectPrevious(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusPrevious(1, true);\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tselectFirst(): boolean {\n\t\tswitch (this._state) {\n\t\t\tcase State.Hidden:\n\t\t\t\treturn false;\n\t\t\tcase State.Details:\n\t\t\t\tthis._details.widget.scrollTop();\n\t\t\t\treturn true;\n\t\t\tcase State.Loading:\n\t\t\t\treturn !this._isAuto;\n\t\t\tdefault:\n\t\t\t\tthis._list.focusFirst();\n\t\t\t\treturn true;\n\t\t}\n\t}\n\n\tgetFocusedItem(): ISelectedSuggestion | undefined {\n\t\tif (this._state !== State.Hidden\n\t\t\t&& this._state !== State.Empty\n\t\t\t&& this._state !== State.Loading\n\t\t\t&& this._completionModel\n\t\t\t&& this._list.getFocus().length > 0\n\t\t) {\n\n\t\t\treturn {\n\t\t\t\titem: this._list.getFocusedElements()[0],\n\t\t\t\tindex: this._list.getFocus()[0],\n\t\t\t\tmodel: this._completionModel\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}\n\n\ttoggleDetailsFocus(): void {\n\t\tif (this._state === State.Details) {\n\t\t\t// Should return the focus to the list item.\n\t\t\tthis._list.setFocus(this._list.getFocus());\n\t\t\tthis._setState(State.Open);\n\t\t} else if (this._state === State.Open) {\n\t\t\tthis._setState(State.Details);\n\t\t\tif (!this._isDetailsVisible()) {\n\t\t\t\tthis.toggleDetails(true);\n\t\t\t} else {\n\t\t\t\tthis._details.widget.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleDetails(focused: boolean = false): void {\n\t\tif (this._isDetailsVisible()) {\n\t\t\t// hide details widget\n\t\t\tthis._pendingShowDetails.clear();\n\t\t\tthis._ctxSuggestWidgetDetailsVisible.set(false);\n\t\t\tthis._setDetailsVisible(false);\n\t\t\tthis._details.hide();\n\t\t\tthis.element.domNode.classList.remove('shows-details');\n\n\t\t} else if ((canExpandCompletionItem(this._list.getFocusedElements()[0]) || this._explainMode) && (this._state === State.Open || this._state === State.Details || this._state === State.Frozen)) {\n\t\t\t// show details widget (iff possible)\n\t\t\tthis._ctxSuggestWidgetDetailsVisible.set(true);\n\t\t\tthis._setDetailsVisible(true);\n\t\t\tthis._showDetails(false, focused);\n\t\t}\n\t}\n\n\tprivate _showDetails(loading: boolean, focused: boolean): void {\n\t\tthis._pendingShowDetails.value = dom.runAtThisOrScheduleAtNextAnimationFrame(dom.getWindow(this.element.domNode), () => {\n\t\t\tthis._pendingShowDetails.clear();\n\t\t\tthis._details.show();\n\t\t\tlet didFocusDetails = false;\n\t\t\tif (loading) {\n\t\t\t\tthis._details.widget.renderLoading();\n\t\t\t} else {\n\t\t\t\tthis._details.widget.renderItem(this._list.getFocusedElements()[0], this._explainMode);\n\t\t\t}\n\t\t\tif (!this._details.widget.isEmpty) {\n\t\t\t\tthis._positionDetails();\n\t\t\t\tthis.element.domNode.classList.add('shows-details');\n\t\t\t\tif (focused) {\n\t\t\t\t\tthis._details.widget.focus();\n\t\t\t\t\tdidFocusDetails = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._details.hide();\n\t\t\t}\n\t\t\tif (!didFocusDetails) {\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggleExplainMode(): void {\n\t\tif (this._list.getFocusedElements()[0]) {\n\t\t\tthis._explainMode = !this._explainMode;\n\t\t\tif (!this._isDetailsVisible()) {\n\t\t\t\tthis.toggleDetails();\n\t\t\t} else {\n\t\t\t\tthis._showDetails(false, false);\n\t\t\t}\n\t\t}\n\t}\n\n\tresetPersistedSize(): void {\n\t\tthis._persistedSize.reset();\n\t}\n\n\thideWidget(): void {\n\t\tthis._pendingLayout.clear();\n\t\tthis._pendingShowDetails.clear();\n\t\tthis._loadingTimeout?.dispose();\n\n\t\tthis._setState(State.Hidden);\n\t\tthis._onDidHide.fire(this);\n\t\tthis.element.clearSashHoverState();\n\n\t\t// ensure that a reasonable widget height is persisted so that\n\t\t// accidential \"resize-to-single-items\" cases aren't happening\n\t\tconst dim = this._persistedSize.restore();\n\t\tconst minPersistedHeight = Math.ceil(this.getLayoutInfo().itemHeight * 4.3);\n\t\tif (dim && dim.height < minPersistedHeight) {\n\t\t\tthis._persistedSize.store(dim.with(undefined, minPersistedHeight));\n\t\t}\n\t}\n\n\tisFrozen(): boolean {\n\t\treturn this._state === State.Frozen;\n\t}\n\n\t_afterRender(position: ContentWidgetPositionPreference | null) {\n\t\tif (position === null) {\n\t\t\tif (this._isDetailsVisible()) {\n\t\t\t\tthis._details.hide(); //todo@jrieken soft-hide\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this._state === State.Empty || this._state === State.Loading) {\n\t\t\t// no special positioning when widget isn't showing list\n\t\t\treturn;\n\t\t}\n\t\tif (this._isDetailsVisible() && !this._details.widget.isEmpty) {\n\t\t\tthis._details.show();\n\t\t}\n\t\tthis._positionDetails();\n\t}\n\n\tprivate _layout(size: dom.Dimension | undefined): void {\n\t\tif (!this.editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.editor.getDomNode()) {\n\t\t\t// happens when running tests\n\t\t\treturn;\n\t\t}\n\n\t\tconst bodyBox = dom.getClientArea(this.element.domNode.ownerDocument.body);\n\t\tconst info = this.getLayoutInfo();\n\n\t\tif (!size) {\n\t\t\tsize = info.defaultSize;\n\t\t}\n\n\t\tlet height = size.height;\n\t\tlet width = size.width;\n\n\t\t// status bar\n\t\tthis._status.element.style.height = `${info.itemHeight}px`;\n\n\t\tif (this._state === State.Empty || this._state === State.Loading) {\n\t\t\t// showing a message only\n\t\t\theight = info.itemHeight + info.borderHeight;\n\t\t\twidth = info.defaultSize.width / 2;\n\t\t\tthis.element.enableSashes(false, false, false, false);\n\t\t\tthis.element.minSize = this.element.maxSize = new dom.Dimension(width, height);\n\t\t\tthis._contentWidget.setPreference(ContentWidgetPositionPreference.BELOW);\n\n\t\t} else {\n\t\t\t// showing items\n\n\t\t\t// width math\n\t\t\tconst maxWidth = bodyBox.width - info.borderHeight - 2 * info.horizontalPadding;\n\t\t\tif (width > maxWidth) {\n\t\t\t\twidth = maxWidth;\n\t\t\t}\n\t\t\tconst preferredWidth = this._completionModel ? this._completionModel.stats.pLabelLen * info.typicalHalfwidthCharacterWidth : width;\n\n\t\t\t// height math\n\t\t\tconst fullHeight = info.statusBarHeight + this._list.contentHeight + info.borderHeight;\n\t\t\tconst minHeight = info.itemHeight + info.statusBarHeight;\n\t\t\tconst editorBox = dom.getDomNodePagePosition(this.editor.getDomNode());\n\t\t\tconst cursorBox = this.editor.getScrolledVisiblePosition(this.editor.getPosition());\n\t\t\tconst cursorBottom = editorBox.top + cursorBox.top + cursorBox.height;\n\t\t\tconst maxHeightBelow = Math.min(bodyBox.height - cursorBottom - info.verticalPadding, fullHeight);\n\t\t\tconst availableSpaceAbove = editorBox.top + cursorBox.top - info.verticalPadding;\n\t\t\tconst maxHeightAbove = Math.min(availableSpaceAbove, fullHeight);\n\t\t\tlet maxHeight = Math.min(Math.max(maxHeightAbove, maxHeightBelow) + info.borderHeight, fullHeight);\n\n\t\t\tif (height === this._cappedHeight?.capped) {\n\t\t\t\t// Restore the old (wanted) height when the current\n\t\t\t\t// height is capped to fit\n\t\t\t\theight = this._cappedHeight.wanted;\n\t\t\t}\n\n\t\t\tif (height < minHeight) {\n\t\t\t\theight = minHeight;\n\t\t\t}\n\t\t\tif (height > maxHeight) {\n\t\t\t\theight = maxHeight;\n\t\t\t}\n\n\t\t\tconst forceRenderingAboveRequiredSpace = 150;\n\t\t\tif (height > maxHeightBelow || (this._forceRenderingAbove && availableSpaceAbove > forceRenderingAboveRequiredSpace)) {\n\t\t\t\tthis._contentWidget.setPreference(ContentWidgetPositionPreference.ABOVE);\n\t\t\t\tthis.element.enableSashes(true, true, false, false);\n\t\t\t\tmaxHeight = maxHeightAbove;\n\t\t\t} else {\n\t\t\t\tthis._contentWidget.setPreference(ContentWidgetPositionPreference.BELOW);\n\t\t\t\tthis.element.enableSashes(false, true, true, false);\n\t\t\t\tmaxHeight = maxHeightBelow;\n\t\t\t}\n\t\t\tthis.element.preferredSize = new dom.Dimension(preferredWidth, info.defaultSize.height);\n\t\t\tthis.element.maxSize = new dom.Dimension(maxWidth, maxHeight);\n\t\t\tthis.element.minSize = new dom.Dimension(220, minHeight);\n\n\t\t\t// Know when the height was capped to fit and remember\n\t\t\t// the wanted height for later. This is required when going\n\t\t\t// left to widen suggestions.\n\t\t\tthis._cappedHeight = height === fullHeight\n\t\t\t\t? { wanted: this._cappedHeight?.wanted ?? size.height, capped: height }\n\t\t\t\t: undefined;\n\t\t}\n\t\tthis._resize(width, height);\n\t}\n\n\tprivate _resize(width: number, height: number): void {\n\n\t\tconst { width: maxWidth, height: maxHeight } = this.element.maxSize;\n\t\twidth = Math.min(maxWidth, width);\n\t\theight = Math.min(maxHeight, height);\n\n\t\tconst { statusBarHeight } = this.getLayoutInfo();\n\t\tthis._list.layout(height - statusBarHeight, width);\n\t\tthis._listElement.style.height = `${height - statusBarHeight}px`;\n\t\tthis.element.layout(height, width);\n\t\tthis._contentWidget.layout();\n\n\t\tthis._positionDetails();\n\t}\n\n\tprivate _positionDetails(): void {\n\t\tif (this._isDetailsVisible()) {\n\t\t\tthis._details.placeAtAnchor(this.element.domNode, this._contentWidget.getPosition()?.preference[0] === ContentWidgetPositionPreference.BELOW);\n\t\t}\n\t}\n\n\tgetLayoutInfo() {\n\t\tconst fontInfo = this.editor.getOption(EditorOption.fontInfo);\n\t\tconst itemHeight = clamp(this.editor.getOption(EditorOption.suggestLineHeight) || fontInfo.lineHeight, 8, 1000);\n\t\tconst statusBarHeight = !this.editor.getOption(EditorOption.suggest).showStatusBar || this._state === State.Empty || this._state === State.Loading ? 0 : itemHeight;\n\t\tconst borderWidth = this._details.widget.borderWidth;\n\t\tconst borderHeight = 2 * borderWidth;\n\n\t\treturn {\n\t\t\titemHeight,\n\t\t\tstatusBarHeight,\n\t\t\tborderWidth,\n\t\t\tborderHeight,\n\t\t\ttypicalHalfwidthCharacterWidth: fontInfo.typicalHalfwidthCharacterWidth,\n\t\t\tverticalPadding: 22,\n\t\t\thorizontalPadding: 14,\n\t\t\tdefaultSize: new dom.Dimension(430, statusBarHeight + 12 * itemHeight)\n\t\t};\n\t}\n\n\tprivate _isDetailsVisible(): boolean {\n\t\treturn this._storageService.getBoolean('expandSuggestionDocs', StorageScope.PROFILE, false);\n\t}\n\n\tprivate _setDetailsVisible(value: boolean) {\n\t\tthis._storageService.store('expandSuggestionDocs', value, StorageScope.PROFILE, StorageTarget.USER);\n\t}\n\n\tforceRenderingAbove() {\n\t\tif (!this._forceRenderingAbove) {\n\t\t\tthis._forceRenderingAbove = true;\n\t\t\tthis._layout(this._persistedSize.restore());\n\t\t}\n\t}\n\n\tstopForceRenderingAbove() {\n\t\tthis._forceRenderingAbove = false;\n\t}\n}\n\nexport class SuggestContentWidget implements IContentWidget {\n\n\treadonly allowEditorOverflow = true;\n\treadonly suppressMouseDown = false;\n\n\tprivate _position?: IPosition | null;\n\tprivate _preference?: ContentWidgetPositionPreference;\n\tprivate _preferenceLocked = false;\n\n\tprivate _added: boolean = false;\n\tprivate _hidden: boolean = false;\n\n\tconstructor(\n\t\tprivate readonly _widget: SuggestWidget,\n\t\tprivate readonly _editor: ICodeEditor\n\t) { }\n\n\tdispose(): void {\n\t\tif (this._added) {\n\t\t\tthis._added = false;\n\t\t\tthis._editor.removeContentWidget(this);\n\t\t}\n\t}\n\n\tgetId(): string {\n\t\treturn 'editor.widget.suggestWidget';\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this._widget.element.domNode;\n\t}\n\n\tshow(): void {\n\t\tthis._hidden = false;\n\t\tif (!this._added) {\n\t\t\tthis._added = true;\n\t\t\tthis._editor.addContentWidget(this);\n\t\t}\n\t}\n\n\thide(): void {\n\t\tif (!this._hidden) {\n\t\t\tthis._hidden = true;\n\t\t\tthis.layout();\n\t\t}\n\t}\n\n\tlayout(): void {\n\t\tthis._editor.layoutContentWidget(this);\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\tif (this._hidden || !this._position || !this._preference) {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\tposition: this._position,\n\t\t\tpreference: [this._preference]\n\t\t};\n\t}\n\n\tbeforeRender() {\n\t\tconst { height, width } = this._widget.element.size;\n\t\tconst { borderWidth, horizontalPadding } = this._widget.getLayoutInfo();\n\t\treturn new dom.Dimension(width + 2 * borderWidth + horizontalPadding, height + 2 * borderWidth);\n\t}\n\n\tafterRender(position: ContentWidgetPositionPreference | null) {\n\t\tthis._widget._afterRender(position);\n\t}\n\n\tsetPreference(preference: ContentWidgetPositionPreference) {\n\t\tif (!this._preferenceLocked) {\n\t\t\tthis._preference = preference;\n\t\t}\n\t}\n\n\tlockPreference() {\n\t\tthis._preferenceLocked = true;\n\t}\n\n\tunlockPreference() {\n\t\tthis._preferenceLocked = false;\n\t}\n\n\tsetPosition(position: IPosition | null): void {\n\t\tthis._position = position;\n\t}\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3778, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestController.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestController.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../../base/common/keybindings.js';\nimport { DisposableStore, dispose, IDisposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { assertType, isObject } from '../../../../base/common/types.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction, EditorCommand, EditorContributionInstantiation, registerEditorAction, registerEditorCommand, registerEditorContribution, ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IEditorContribution, ScrollType } from '../../../common/editorCommon.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ITextModel, TrackedRangeStickiness } from '../../../common/model.js';\nimport { CompletionItemInsertTextRule, CompletionItemProvider, CompletionTriggerKind, ProviderId } from '../../../common/languages.js';\nimport { SnippetController2 } from '../../snippet/browser/snippetController2.js';\nimport { SnippetParser } from '../../snippet/browser/snippetParser.js';\nimport { ISuggestMemoryService } from './suggestMemory.js';\nimport { WordContextKey } from './wordContextKey.js';\nimport * as nls from '../../../../nls.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { CompletionItem, Context as SuggestContext, ISuggestItemPreselector, suggestWidgetStatusbarMenu } from './suggest.js';\nimport { SuggestAlternatives } from './suggestAlternatives.js';\nimport { CommitCharacterController } from './suggestCommitCharacters.js';\nimport { State, SuggestModel } from './suggestModel.js';\nimport { OvertypingCapturer } from './suggestOvertypingCapturer.js';\nimport { ISelectedSuggestion, SuggestWidget } from './suggestWidget.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { basename, extname } from '../../../../base/common/resources.js';\nimport { hash } from '../../../../base/common/hash.js';\nimport { WindowIdleValue, getWindow } from '../../../../base/browser/dom.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { EditSources } from '../../../common/textModelEditSource.js';\n\n// sticky suggest widget which doesn't disappear on focus out and such\nconst _sticky = false\n\t// || Boolean(\"true\") // done \"weirdly\" so that a lint warning prevents you from pushing this\n\t;\n\nclass LineSuffix {\n\n\tprivate readonly _decorationOptions = ModelDecorationOptions.register({\n\t\tdescription: 'suggest-line-suffix',\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t});\n\n\tprivate _marker: string | undefined;\n\n\tconstructor(private readonly _model: ITextModel, private readonly _position: IPosition) {\n\t\t// spy on what's happening right of the cursor. two cases:\n\t\t// 1. end of line -> check that it's still end of line\n\t\t// 2. mid of line -> add a marker and compute the delta\n\t\tconst maxColumn = _model.getLineMaxColumn(_position.lineNumber);\n\t\tif (maxColumn !== _position.column) {\n\t\t\tconst offset = _model.getOffsetAt(_position);\n\t\t\tconst end = _model.getPositionAt(offset + 1);\n\t\t\t_model.changeDecorations(accessor => {\n\t\t\t\tif (this._marker) {\n\t\t\t\t\taccessor.removeDecoration(this._marker);\n\t\t\t\t}\n\t\t\t\tthis._marker = accessor.addDecoration(Range.fromPositions(_position, end), this._decorationOptions);\n\t\t\t});\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tif (this._marker && !this._model.isDisposed()) {\n\t\t\tthis._model.changeDecorations(accessor => {\n\t\t\t\taccessor.removeDecoration(this._marker!);\n\t\t\t\tthis._marker = undefined;\n\t\t\t});\n\t\t}\n\t}\n\n\tdelta(position: IPosition): number {\n\t\tif (this._model.isDisposed() || this._position.lineNumber !== position.lineNumber) {\n\t\t\t// bail out early if things seems fishy\n\t\t\treturn 0;\n\t\t}\n\t\t// read the marker (in case suggest was triggered at line end) or compare\n\t\t// the cursor to the line end.\n\t\tif (this._marker) {\n\t\t\tconst range = this._model.getDecorationRange(this._marker);\n\t\t\tconst end = this._model.getOffsetAt(range!.getStartPosition());\n\t\t\treturn end - this._model.getOffsetAt(position);\n\t\t} else {\n\t\t\treturn this._model.getLineMaxColumn(position.lineNumber) - position.column;\n\t\t}\n\t}\n}\n\nconst enum InsertFlags {\n\tNone = 0,\n\tNoBeforeUndoStop = 1,\n\tNoAfterUndoStop = 2,\n\tKeepAlternativeSuggestions = 4,\n\tAlternativeOverwriteConfig = 8\n}\n\nexport class SuggestController implements IEditorContribution {\n\n\tpublic static readonly ID: string = 'editor.contrib.suggestController';\n\n\tpublic static get(editor: ICodeEditor): SuggestController | null {\n\t\treturn editor.getContribution<SuggestController>(SuggestController.ID);\n\t}\n\n\treadonly editor: ICodeEditor;\n\treadonly model: SuggestModel;\n\treadonly widget: WindowIdleValue<SuggestWidget>;\n\n\tprivate readonly _alternatives: WindowIdleValue<SuggestAlternatives>;\n\tprivate readonly _lineSuffix = new MutableDisposable<LineSuffix>();\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate readonly _overtypingCapturer: WindowIdleValue<OvertypingCapturer>;\n\tprivate readonly _selectors = new PriorityRegistry<ISuggestItemPreselector>(s => s.priority);\n\n\tprivate readonly _onWillInsertSuggestItem = new Emitter<{ item: CompletionItem }>();\n\tget onWillInsertSuggestItem() { return this._onWillInsertSuggestItem.event; }\n\n\tprivate _wantsForceRenderingAbove = false;\n\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\t@ISuggestMemoryService private readonly _memoryService: ISuggestMemoryService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t) {\n\t\tthis.editor = editor;\n\t\tthis.model = _instantiationService.createInstance(SuggestModel, this.editor,);\n\n\t\t// default selector\n\t\tthis._selectors.register({\n\t\t\tpriority: 0,\n\t\t\tselect: (model, pos, items) => this._memoryService.select(model, pos, items)\n\t\t});\n\n\t\t// context key: update insert/replace mode\n\t\tconst ctxInsertMode = SuggestContext.InsertMode.bindTo(_contextKeyService);\n\t\tctxInsertMode.set(editor.getOption(EditorOption.suggest).insertMode);\n\t\tthis._toDispose.add(this.model.onDidTrigger(() => ctxInsertMode.set(editor.getOption(EditorOption.suggest).insertMode)));\n\n\t\tthis.widget = this._toDispose.add(new WindowIdleValue(getWindow(editor.getDomNode()), () => {\n\n\t\t\tconst widget = this._instantiationService.createInstance(SuggestWidget, this.editor);\n\n\t\t\tthis._toDispose.add(widget);\n\t\t\tthis._toDispose.add(widget.onDidSelect(item => this._insertSuggestion(item, InsertFlags.None), this));\n\n\t\t\t// Wire up logic to accept a suggestion on certain characters\n\t\t\tconst commitCharacterController = new CommitCharacterController(this.editor, widget, this.model, item => this._insertSuggestion(item, InsertFlags.NoAfterUndoStop));\n\t\t\tthis._toDispose.add(commitCharacterController);\n\n\n\t\t\t// Wire up makes text edit context key\n\t\t\tconst ctxMakesTextEdit = SuggestContext.MakesTextEdit.bindTo(this._contextKeyService);\n\t\t\tconst ctxHasInsertAndReplace = SuggestContext.HasInsertAndReplaceRange.bindTo(this._contextKeyService);\n\t\t\tconst ctxCanResolve = SuggestContext.CanResolve.bindTo(this._contextKeyService);\n\n\t\t\tthis._toDispose.add(toDisposable(() => {\n\t\t\t\tctxMakesTextEdit.reset();\n\t\t\t\tctxHasInsertAndReplace.reset();\n\t\t\t\tctxCanResolve.reset();\n\t\t\t}));\n\n\t\t\tthis._toDispose.add(widget.onDidFocus(({ item }) => {\n\n\t\t\t\t// (ctx: makesTextEdit)\n\t\t\t\tconst position = this.editor.getPosition()!;\n\t\t\t\tconst startColumn = item.editStart.column;\n\t\t\t\tconst endColumn = position.column;\n\t\t\t\tlet value = true;\n\t\t\t\tif (\n\t\t\t\t\tthis.editor.getOption(EditorOption.acceptSuggestionOnEnter) === 'smart'\n\t\t\t\t\t&& this.model.state === State.Auto\n\t\t\t\t\t&& !item.completion.additionalTextEdits\n\t\t\t\t\t&& !(item.completion.insertTextRules! & CompletionItemInsertTextRule.InsertAsSnippet)\n\t\t\t\t\t&& endColumn - startColumn === item.completion.insertText.length\n\t\t\t\t) {\n\t\t\t\t\tconst oldText = this.editor.getModel()!.getValueInRange({\n\t\t\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\t\t\tstartColumn,\n\t\t\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\t\t\tendColumn\n\t\t\t\t\t});\n\t\t\t\t\tvalue = oldText !== item.completion.insertText;\n\t\t\t\t}\n\t\t\t\tctxMakesTextEdit.set(value);\n\n\t\t\t\t// (ctx: hasInsertAndReplaceRange)\n\t\t\t\tctxHasInsertAndReplace.set(!Position.equals(item.editInsertEnd, item.editReplaceEnd));\n\n\t\t\t\t// (ctx: canResolve)\n\t\t\t\tctxCanResolve.set(Boolean(item.provider.resolveCompletionItem) || Boolean(item.completion.documentation) || item.completion.detail !== item.completion.label);\n\t\t\t}));\n\n\t\t\tthis._toDispose.add(widget.onDetailsKeyDown(e => {\n\t\t\t\t// cmd + c on macOS, ctrl + c on Win / Linux\n\t\t\t\tif (\n\t\t\t\t\te.toKeyCodeChord().equals(new KeyCodeChord(true, false, false, false, KeyCode.KeyC)) ||\n\t\t\t\t\t(platform.isMacintosh && e.toKeyCodeChord().equals(new KeyCodeChord(false, false, false, true, KeyCode.KeyC)))\n\t\t\t\t) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!e.toKeyCodeChord().isModifierKey()) {\n\t\t\t\t\tthis.editor.focus();\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tif (this._wantsForceRenderingAbove) {\n\t\t\t\twidget.forceRenderingAbove();\n\t\t\t}\n\n\t\t\treturn widget;\n\t\t}));\n\n\t\t// Wire up text overtyping capture\n\t\tthis._overtypingCapturer = this._toDispose.add(new WindowIdleValue(getWindow(editor.getDomNode()), () => {\n\t\t\treturn this._toDispose.add(new OvertypingCapturer(this.editor, this.model));\n\t\t}));\n\n\t\tthis._alternatives = this._toDispose.add(new WindowIdleValue(getWindow(editor.getDomNode()), () => {\n\t\t\treturn this._toDispose.add(new SuggestAlternatives(this.editor, this._contextKeyService));\n\t\t}));\n\n\t\tthis._toDispose.add(_instantiationService.createInstance(WordContextKey, editor));\n\n\t\tthis._toDispose.add(this.model.onDidTrigger(e => {\n\t\t\tthis.widget.value.showTriggered(e.auto, e.shy ? 250 : 50);\n\t\t\tthis._lineSuffix.value = new LineSuffix(this.editor.getModel()!, e.position);\n\t\t}));\n\t\tthis._toDispose.add(this.model.onDidSuggest(e => {\n\t\t\tif (e.triggerOptions.shy) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet index = -1;\n\t\t\tfor (const selector of this._selectors.itemsOrderedByPriorityDesc) {\n\t\t\t\tindex = selector.select(this.editor.getModel()!, this.editor.getPosition()!, e.completionModel.items);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (index === -1) {\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\tif (this.model.state === State.Idle) {\n\t\t\t\t// selecting an item can \"pump\" out selection/cursor change events\n\t\t\t\t// which can cancel suggest halfway through this function. therefore\n\t\t\t\t// we need to check again and bail if the session has been canceled\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet noFocus = false;\n\t\t\tif (e.triggerOptions.auto) {\n\t\t\t\t// don't \"focus\" item when configured to do\n\t\t\t\tconst options = this.editor.getOption(EditorOption.suggest);\n\t\t\t\tif (options.selectionMode === 'never' || options.selectionMode === 'always') {\n\t\t\t\t\t// simple: always or never\n\t\t\t\t\tnoFocus = options.selectionMode === 'never';\n\n\t\t\t\t} else if (options.selectionMode === 'whenTriggerCharacter') {\n\t\t\t\t\t// on with trigger character\n\t\t\t\t\tnoFocus = e.triggerOptions.triggerKind !== CompletionTriggerKind.TriggerCharacter;\n\n\t\t\t\t} else if (options.selectionMode === 'whenQuickSuggestion') {\n\t\t\t\t\t// without trigger character or when refiltering\n\t\t\t\t\tnoFocus = e.triggerOptions.triggerKind === CompletionTriggerKind.TriggerCharacter && !e.triggerOptions.refilter;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis.widget.value.showSuggestions(e.completionModel, index, e.isFrozen, e.triggerOptions.auto, noFocus);\n\t\t}));\n\t\tthis._toDispose.add(this.model.onDidCancel(e => {\n\t\t\tif (!e.retrigger) {\n\t\t\t\tthis.widget.value.hideWidget();\n\t\t\t}\n\t\t}));\n\t\tthis._toDispose.add(this.editor.onDidBlurEditorWidget(() => {\n\t\t\tif (!_sticky) {\n\t\t\t\tthis.model.cancel();\n\t\t\t\tthis.model.clear();\n\t\t\t}\n\t\t}));\n\n\t\t// Manage the acceptSuggestionsOnEnter context key\n\t\tconst acceptSuggestionsOnEnter = SuggestContext.AcceptSuggestionsOnEnter.bindTo(_contextKeyService);\n\t\tconst updateFromConfig = () => {\n\t\t\tconst acceptSuggestionOnEnter = this.editor.getOption(EditorOption.acceptSuggestionOnEnter);\n\t\t\tacceptSuggestionsOnEnter.set(acceptSuggestionOnEnter === 'on' || acceptSuggestionOnEnter === 'smart');\n\t\t};\n\t\tthis._toDispose.add(this.editor.onDidChangeConfiguration(() => updateFromConfig()));\n\t\tupdateFromConfig();\n\t}\n\n\tdispose(): void {\n\t\tthis._alternatives.dispose();\n\t\tthis._toDispose.dispose();\n\t\tthis.widget.dispose();\n\t\tthis.model.dispose();\n\t\tthis._lineSuffix.dispose();\n\t\tthis._onWillInsertSuggestItem.dispose();\n\t}\n\n\tprotected _insertSuggestion(\n\t\tevent: ISelectedSuggestion | undefined,\n\t\tflags: InsertFlags\n\t): void {\n\t\tif (!event || !event.item) {\n\t\t\tthis._alternatives.value.reset();\n\t\t\tthis.model.cancel();\n\t\t\tthis.model.clear();\n\t\t\treturn;\n\t\t}\n\t\tif (!this.editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tconst snippetController = SnippetController2.get(this.editor);\n\t\tif (!snippetController) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onWillInsertSuggestItem.fire({ item: event.item });\n\n\t\tconst model = this.editor.getModel();\n\t\tconst modelVersionNow = model.getAlternativeVersionId();\n\t\tconst { item } = event;\n\n\t\t//\n\t\tconst tasks: Promise<any>[] = [];\n\t\tconst cts = new CancellationTokenSource();\n\n\t\t// pushing undo stops *before* additional text edits and\n\t\t// *after* the main edit\n\t\tif (!(flags & InsertFlags.NoBeforeUndoStop)) {\n\t\t\tthis.editor.pushUndoStop();\n\t\t}\n\n\t\t// compute overwrite[Before|After] deltas BEFORE applying extra edits\n\t\tconst info = this.getOverwriteInfo(item, Boolean(flags & InsertFlags.AlternativeOverwriteConfig));\n\n\t\t// keep item in memory\n\t\tthis._memoryService.memorize(model, this.editor.getPosition(), item);\n\n\t\tconst isResolved = item.isResolved;\n\n\t\t// telemetry data points: duration of command execution, info about async additional edits (-1=n/a, -2=none, 1=success, 0=failed)\n\t\tlet _commandExectionDuration = -1;\n\t\tlet _additionalEditsAppliedAsync = -1;\n\n\t\tif (Array.isArray(item.completion.additionalTextEdits)) {\n\n\t\t\t// cancel -> stops all listening and closes widget\n\t\t\tthis.model.cancel();\n\n\t\t\t// sync additional edits\n\t\t\tconst scrollState = StableEditorScrollState.capture(this.editor);\n\t\t\tthis.editor.executeEdits(\n\t\t\t\t'suggestController.additionalTextEdits.sync',\n\t\t\t\titem.completion.additionalTextEdits.map(edit => {\n\t\t\t\t\tlet range = Range.lift(edit.range);\n\t\t\t\t\tif (range.startLineNumber === item.position.lineNumber && range.startColumn > item.position.column) {\n\t\t\t\t\t\t// shift additional edit when it is \"after\" the completion insertion position\n\t\t\t\t\t\tconst columnDelta = this.editor.getPosition()!.column - item.position.column;\n\t\t\t\t\t\tconst startColumnDelta = columnDelta;\n\t\t\t\t\t\tconst endColumnDelta = Range.spansMultipleLines(range) ? 0 : columnDelta;\n\t\t\t\t\t\trange = new Range(range.startLineNumber, range.startColumn + startColumnDelta, range.endLineNumber, range.endColumn + endColumnDelta);\n\t\t\t\t\t}\n\t\t\t\t\treturn EditOperation.replaceMove(range, edit.text);\n\t\t\t\t})\n\t\t\t);\n\t\t\tscrollState.restoreRelativeVerticalPositionOfCursor(this.editor);\n\n\t\t} else if (!isResolved) {\n\t\t\t// async additional edits\n\t\t\tconst sw = new StopWatch();\n\t\t\tlet position: IPosition | undefined;\n\n\t\t\tconst docListener = model.onDidChangeContent(e => {\n\t\t\t\tif (e.isFlush) {\n\t\t\t\t\tcts.cancel();\n\t\t\t\t\tdocListener.dispose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (const change of e.changes) {\n\t\t\t\t\tconst thisPosition = Range.getEndPosition(change.range);\n\t\t\t\t\tif (!position || Position.isBefore(thisPosition, position)) {\n\t\t\t\t\t\tposition = thisPosition;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst oldFlags = flags;\n\t\t\tflags |= InsertFlags.NoAfterUndoStop;\n\t\t\tlet didType = false;\n\t\t\tconst typeListener = this.editor.onWillType(() => {\n\t\t\t\ttypeListener.dispose();\n\t\t\t\tdidType = true;\n\t\t\t\tif (!(oldFlags & InsertFlags.NoAfterUndoStop)) {\n\t\t\t\t\tthis.editor.pushUndoStop();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\ttasks.push(item.resolve(cts.token).then(() => {\n\t\t\t\tif (!item.completion.additionalTextEdits || cts.token.isCancellationRequested) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tif (position && item.completion.additionalTextEdits.some(edit => Position.isBefore(position!, Range.getStartPosition(edit.range)))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (didType) {\n\t\t\t\t\tthis.editor.pushUndoStop();\n\t\t\t\t}\n\t\t\t\tconst scrollState = StableEditorScrollState.capture(this.editor);\n\t\t\t\tthis.editor.executeEdits(\n\t\t\t\t\t'suggestController.additionalTextEdits.async',\n\t\t\t\t\titem.completion.additionalTextEdits.map(edit => EditOperation.replaceMove(Range.lift(edit.range), edit.text))\n\t\t\t\t);\n\t\t\t\tscrollState.restoreRelativeVerticalPositionOfCursor(this.editor);\n\t\t\t\tif (didType || !(oldFlags & InsertFlags.NoAfterUndoStop)) {\n\t\t\t\t\tthis.editor.pushUndoStop();\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}).then(applied => {\n\t\t\t\tthis._logService.trace('[suggest] async resolving of edits DONE (ms, applied?)', sw.elapsed(), applied);\n\t\t\t\t_additionalEditsAppliedAsync = applied === true ? 1 : applied === false ? 0 : -2;\n\t\t\t}).finally(() => {\n\t\t\t\tdocListener.dispose();\n\t\t\t\ttypeListener.dispose();\n\t\t\t}));\n\t\t}\n\n\t\tlet { insertText } = item.completion;\n\t\tif (!(item.completion.insertTextRules! & CompletionItemInsertTextRule.InsertAsSnippet)) {\n\t\t\tinsertText = SnippetParser.escape(insertText);\n\t\t}\n\n\t\t// cancel -> stops all listening and closes widget\n\t\tthis.model.cancel();\n\n\t\tsnippetController.insert(insertText, {\n\t\t\toverwriteBefore: info.overwriteBefore,\n\t\t\toverwriteAfter: info.overwriteAfter,\n\t\t\tundoStopBefore: false,\n\t\t\tundoStopAfter: false,\n\t\t\tadjustWhitespace: !(item.completion.insertTextRules! & CompletionItemInsertTextRule.KeepWhitespace),\n\t\t\tclipboardText: event.model.clipboardText,\n\t\t\tovertypingCapturer: this._overtypingCapturer.value,\n\t\t\treason: EditSources.suggest({ providerId: ProviderId.fromExtensionId(item.extensionId?.value) }),\n\t\t});\n\n\t\tif (!(flags & InsertFlags.NoAfterUndoStop)) {\n\t\t\tthis.editor.pushUndoStop();\n\t\t}\n\n\t\tif (item.completion.command) {\n\t\t\tif (item.completion.command.id === TriggerSuggestAction.id) {\n\t\t\t\t// retigger\n\t\t\t\tthis.model.trigger({ auto: true, retrigger: true });\n\t\t\t} else {\n\t\t\t\t// exec command, done\n\t\t\t\tconst sw = new StopWatch();\n\t\t\t\ttasks.push(this._commandService.executeCommand(item.completion.command.id, ...(item.completion.command.arguments ? [...item.completion.command.arguments] : [])).catch(e => {\n\t\t\t\t\tif (item.completion.extensionId) {\n\t\t\t\t\t\tonUnexpectedExternalError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUnexpectedError(e);\n\t\t\t\t\t}\n\t\t\t\t}).finally(() => {\n\t\t\t\t\t_commandExectionDuration = sw.elapsed();\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tif (flags & InsertFlags.KeepAlternativeSuggestions) {\n\t\t\tthis._alternatives.value.set(event, next => {\n\n\t\t\t\t// cancel resolving of additional edits\n\t\t\t\tcts.cancel();\n\n\t\t\t\t// this is not so pretty. when inserting the 'next'\n\t\t\t\t// suggestion we undo until we are at the state at\n\t\t\t\t// which we were before inserting the previous suggestion...\n\t\t\t\twhile (model.canUndo()) {\n\t\t\t\t\tif (modelVersionNow !== model.getAlternativeVersionId()) {\n\t\t\t\t\t\tmodel.undo();\n\t\t\t\t\t}\n\t\t\t\t\tthis._insertSuggestion(\n\t\t\t\t\t\tnext,\n\t\t\t\t\t\tInsertFlags.NoBeforeUndoStop | InsertFlags.NoAfterUndoStop | (flags & InsertFlags.AlternativeOverwriteConfig ? InsertFlags.AlternativeOverwriteConfig : 0)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis._alertCompletionItem(item);\n\n\t\t// clear only now - after all tasks are done\n\t\tPromise.all(tasks).finally(() => {\n\t\t\tthis._reportSuggestionAcceptedTelemetry(item, model, isResolved, _commandExectionDuration, _additionalEditsAppliedAsync, event.index, event.model.items);\n\n\t\t\tthis.model.clear();\n\t\t\tcts.dispose();\n\t\t});\n\t}\n\n\tprivate _reportSuggestionAcceptedTelemetry(item: CompletionItem, model: ITextModel, itemResolved: boolean, commandExectionDuration: number, additionalEditsAppliedAsync: number, index: number, completionItems: CompletionItem[]): void {\n\t\tif (Math.random() > 0.0001) { // 0.01%\n\t\t\treturn;\n\t\t}\n\n\t\tconst labelMap = new Map<string, number[]>();\n\n\t\tfor (let i = 0; i < Math.min(30, completionItems.length); i++) {\n\t\t\tconst label = completionItems[i].textLabel;\n\n\t\t\tif (labelMap.has(label)) {\n\t\t\t\tlabelMap.get(label)!.push(i);\n\t\t\t} else {\n\t\t\t\tlabelMap.set(label, [i]);\n\t\t\t}\n\t\t}\n\n\t\tconst firstIndexArray = labelMap.get(item.textLabel);\n\t\tconst hasDuplicates = firstIndexArray && firstIndexArray.length > 1;\n\t\tconst firstIndex = hasDuplicates ? firstIndexArray[0] : -1;\n\n\t\ttype AcceptedSuggestion = {\n\t\t\textensionId: string; providerId: string;\n\t\t\tfileExtension: string; languageId: string; basenameHash: string; kind: number;\n\t\t\tresolveInfo: number; resolveDuration: number;\n\t\t\tcommandDuration: number;\n\t\t\tadditionalEditsAsync: number;\n\t\t\tindex: number; firstIndex: number;\n\t\t};\n\t\ttype AcceptedSuggestionClassification = {\n\t\t\towner: 'jrieken';\n\t\t\tcomment: 'Information accepting completion items';\n\t\t\textensionId: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'Extension contributing the completions item' };\n\t\t\tproviderId: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'Provider of the completions item' };\n\t\t\tbasenameHash: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'Hash of the basename of the file into which the completion was inserted' };\n\t\t\tfileExtension: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'File extension of the file into which the completion was inserted' };\n\t\t\tlanguageId: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Language type of the file into which the completion was inserted' };\n\t\t\tkind: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The completion item kind' };\n\t\t\tresolveInfo: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'If the item was inserted before resolving was done' };\n\t\t\tresolveDuration: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'How long resolving took to finish' };\n\t\t\tcommandDuration: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'How long a completion item command took' };\n\t\t\tadditionalEditsAsync: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Info about asynchronously applying additional edits' };\n\t\t\tindex: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The index of the completion item in the sorted list.' };\n\t\t\tfirstIndex: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'When there are multiple completions, the index of the first instance.' };\n\t\t};\n\n\t\tthis._telemetryService.publicLog2<AcceptedSuggestion, AcceptedSuggestionClassification>('suggest.acceptedSuggestion', {\n\t\t\textensionId: item.extensionId?.value ?? 'unknown',\n\t\t\tproviderId: item.provider._debugDisplayName ?? 'unknown',\n\t\t\tkind: item.completion.kind,\n\t\t\tbasenameHash: hash(basename(model.uri)).toString(16),\n\t\t\tlanguageId: model.getLanguageId(),\n\t\t\tfileExtension: extname(model.uri),\n\t\t\tresolveInfo: !item.provider.resolveCompletionItem ? -1 : itemResolved ? 1 : 0,\n\t\t\tresolveDuration: item.resolveDuration,\n\t\t\tcommandDuration: commandExectionDuration,\n\t\t\tadditionalEditsAsync: additionalEditsAppliedAsync,\n\t\t\tindex,\n\t\t\tfirstIndex,\n\t\t});\n\t}\n\n\tgetOverwriteInfo(item: CompletionItem, toggleMode: boolean): { overwriteBefore: number; overwriteAfter: number } {\n\t\tassertType(this.editor.hasModel());\n\n\t\tlet replace = this.editor.getOption(EditorOption.suggest).insertMode === 'replace';\n\t\tif (toggleMode) {\n\t\t\treplace = !replace;\n\t\t}\n\t\tconst overwriteBefore = item.position.column - item.editStart.column;\n\t\tconst overwriteAfter = (replace ? item.editReplaceEnd.column : item.editInsertEnd.column) - item.position.column;\n\t\tconst columnDelta = this.editor.getPosition().column - item.position.column;\n\t\tconst suffixDelta = this._lineSuffix.value ? this._lineSuffix.value.delta(this.editor.getPosition()) : 0;\n\n\t\treturn {\n\t\t\toverwriteBefore: overwriteBefore + columnDelta,\n\t\t\toverwriteAfter: overwriteAfter + suffixDelta\n\t\t};\n\t}\n\n\tprivate _alertCompletionItem(item: CompletionItem): void {\n\t\tif (isNonEmptyArray(item.completion.additionalTextEdits)) {\n\t\t\tconst msg = nls.localize('aria.alert.snippet', \"Accepting '{0}' made {1} additional edits\", item.textLabel, item.completion.additionalTextEdits.length);\n\t\t\talert(msg);\n\t\t}\n\t}\n\n\ttriggerSuggest(onlyFrom?: Set<CompletionItemProvider>, auto?: boolean, noFilter?: boolean): void {\n\t\tif (this.editor.hasModel()) {\n\t\t\tthis.model.trigger({\n\t\t\t\tauto: auto ?? false,\n\t\t\t\tcompletionOptions: { providerFilter: onlyFrom, kindFilter: noFilter ? new Set() : undefined }\n\t\t\t});\n\t\t\tthis.editor.revealPosition(this.editor.getPosition(), ScrollType.Smooth);\n\t\t\tthis.editor.focus();\n\t\t}\n\t}\n\n\ttriggerSuggestAndAcceptBest(arg: { fallback: string }): void {\n\t\tif (!this.editor.hasModel()) {\n\t\t\treturn;\n\n\t\t}\n\t\tconst positionNow = this.editor.getPosition();\n\n\t\tconst fallback = () => {\n\t\t\tif (positionNow.equals(this.editor.getPosition()!)) {\n\t\t\t\tthis._commandService.executeCommand(arg.fallback);\n\t\t\t}\n\t\t};\n\n\t\tconst makesTextEdit = (item: CompletionItem): boolean => {\n\t\t\tif (item.completion.insertTextRules! & CompletionItemInsertTextRule.InsertAsSnippet || item.completion.additionalTextEdits) {\n\t\t\t\t// snippet, other editor -> makes edit\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst position = this.editor.getPosition()!;\n\t\t\tconst startColumn = item.editStart.column;\n\t\t\tconst endColumn = position.column;\n\t\t\tif (endColumn - startColumn !== item.completion.insertText.length) {\n\t\t\t\t// unequal lengths -> makes edit\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst textNow = this.editor.getModel()!.getValueInRange({\n\t\t\t\tstartLineNumber: position.lineNumber,\n\t\t\t\tstartColumn,\n\t\t\t\tendLineNumber: position.lineNumber,\n\t\t\t\tendColumn\n\t\t\t});\n\t\t\t// unequal text -> makes edit\n\t\t\treturn textNow !== item.completion.insertText;\n\t\t};\n\n\t\tEvent.once(this.model.onDidTrigger)(_ => {\n\t\t\t// wait for trigger because only then the cancel-event is trustworthy\n\t\t\tconst listener: IDisposable[] = [];\n\n\t\t\tEvent.any<any>(this.model.onDidTrigger, this.model.onDidCancel)(() => {\n\t\t\t\t// retrigger or cancel -> try to type default text\n\t\t\t\tdispose(listener);\n\t\t\t\tfallback();\n\t\t\t}, undefined, listener);\n\n\t\t\tthis.model.onDidSuggest(({ completionModel }) => {\n\t\t\t\tdispose(listener);\n\t\t\t\tif (completionModel.items.length === 0) {\n\t\t\t\t\tfallback();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst index = this._memoryService.select(this.editor.getModel()!, this.editor.getPosition()!, completionModel.items);\n\t\t\t\tconst item = completionModel.items[index];\n\t\t\t\tif (!makesTextEdit(item)) {\n\t\t\t\t\tfallback();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.editor.pushUndoStop();\n\t\t\t\tthis._insertSuggestion({ index, item, model: completionModel }, InsertFlags.KeepAlternativeSuggestions | InsertFlags.NoBeforeUndoStop | InsertFlags.NoAfterUndoStop);\n\n\t\t\t}, undefined, listener);\n\t\t});\n\n\t\tthis.model.trigger({ auto: false, shy: true });\n\t\tthis.editor.revealPosition(positionNow, ScrollType.Smooth);\n\t\tthis.editor.focus();\n\t}\n\n\tacceptSelectedSuggestion(keepAlternativeSuggestions: boolean, alternativeOverwriteConfig: boolean): void {\n\t\tconst item = this.widget.value.getFocusedItem();\n\t\tlet flags = 0;\n\t\tif (keepAlternativeSuggestions) {\n\t\t\tflags |= InsertFlags.KeepAlternativeSuggestions;\n\t\t}\n\t\tif (alternativeOverwriteConfig) {\n\t\t\tflags |= InsertFlags.AlternativeOverwriteConfig;\n\t\t}\n\t\tthis._insertSuggestion(item, flags);\n\t}\n\n\tacceptNextSuggestion() {\n\t\tthis._alternatives.value.next();\n\t}\n\n\tacceptPrevSuggestion() {\n\t\tthis._alternatives.value.prev();\n\t}\n\n\tcancelSuggestWidget(): void {\n\t\tthis.model.cancel();\n\t\tthis.model.clear();\n\t\tthis.widget.value.hideWidget();\n\t}\n\n\tfocusSuggestion(): void {\n\t\tthis.widget.value.focusSelected();\n\t}\n\n\tselectNextSuggestion(): void {\n\t\tthis.widget.value.selectNext();\n\t}\n\n\tselectNextPageSuggestion(): void {\n\t\tthis.widget.value.selectNextPage();\n\t}\n\n\tselectLastSuggestion(): void {\n\t\tthis.widget.value.selectLast();\n\t}\n\n\tselectPrevSuggestion(): void {\n\t\tthis.widget.value.selectPrevious();\n\t}\n\n\tselectPrevPageSuggestion(): void {\n\t\tthis.widget.value.selectPreviousPage();\n\t}\n\n\tselectFirstSuggestion(): void {\n\t\tthis.widget.value.selectFirst();\n\t}\n\n\ttoggleSuggestionDetails(): void {\n\t\tthis.widget.value.toggleDetails();\n\t}\n\n\ttoggleExplainMode(): void {\n\t\tthis.widget.value.toggleExplainMode();\n\t}\n\n\ttoggleSuggestionFocus(): void {\n\t\tthis.widget.value.toggleDetailsFocus();\n\t}\n\n\tresetWidgetSize(): void {\n\t\tthis.widget.value.resetPersistedSize();\n\t}\n\n\tforceRenderingAbove() {\n\t\tif (this.widget.isInitialized) {\n\t\t\tthis.widget.value.forceRenderingAbove();\n\t\t} else {\n\t\t\t// Defer this until the widget is created\n\t\t\tthis._wantsForceRenderingAbove = true;\n\t\t}\n\t}\n\n\tstopForceRenderingAbove() {\n\t\tif (this.widget.isInitialized) {\n\t\t\tthis.widget.value.stopForceRenderingAbove();\n\t\t} else {\n\t\t\tthis._wantsForceRenderingAbove = false;\n\t\t}\n\t}\n\n\tregisterSelector(selector: ISuggestItemPreselector): IDisposable {\n\t\treturn this._selectors.register(selector);\n\t}\n}\n\nclass PriorityRegistry<T> {\n\tprivate readonly _items = new Array<T>();\n\n\tconstructor(private readonly prioritySelector: (item: T) => number) { }\n\n\tregister(value: T): IDisposable {\n\t\tif (this._items.indexOf(value) !== -1) {\n\t\t\tthrow new Error('Value is already registered');\n\t\t}\n\t\tthis._items.push(value);\n\t\tthis._items.sort((s1, s2) => this.prioritySelector(s2) - this.prioritySelector(s1));\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tconst idx = this._items.indexOf(value);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis._items.splice(idx, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tget itemsOrderedByPriorityDesc(): readonly T[] {\n\t\treturn this._items;\n\t}\n}\n\nexport class TriggerSuggestAction extends EditorAction {\n\n\tstatic readonly id = 'editor.action.triggerSuggest';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: TriggerSuggestAction.id,\n\t\t\tlabel: nls.localize2('suggest.trigger.label', \"Trigger Suggest\"),\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasCompletionItemProvider, SuggestContext.Visible.toNegated()),\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Space,\n\t\t\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KeyI],\n\t\t\t\tmac: { primary: KeyMod.WinCtrl | KeyCode.Space, secondary: [KeyMod.Alt | KeyCode.Escape, KeyMod.CtrlCmd | KeyCode.KeyI] },\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\trun(_accessor: ServicesAccessor, editor: ICodeEditor, args: any): void {\n\t\tconst controller = SuggestController.get(editor);\n\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\n\t\ttype TriggerArgs = { auto: boolean };\n\t\tlet auto: boolean | undefined;\n\t\tif (args && typeof args === 'object') {\n\t\t\tif ((<TriggerArgs>args).auto === true) {\n\t\t\t\tauto = true;\n\t\t\t}\n\t\t}\n\n\t\tcontroller.triggerSuggest(undefined, auto, undefined);\n\t}\n}\n\nregisterEditorContribution(SuggestController.ID, SuggestController, EditorContributionInstantiation.BeforeFirstInteraction);\nregisterEditorAction(TriggerSuggestAction);\n\nconst weight = KeybindingWeight.EditorContrib + 90;\n\nconst SuggestCommand = EditorCommand.bindToContribution<SuggestController>(SuggestController.get);\n\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'acceptSelectedSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.HasFocusedSuggestion),\n\thandler(x) {\n\t\tx.acceptSelectedSuggestion(true, false);\n\t},\n\tkbOpts: [{\n\t\t// normal tab\n\t\tprimary: KeyCode.Tab,\n\t\tkbExpr: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus),\n\t\tweight,\n\t}, {\n\t\t// accept on enter has special rules\n\t\tprimary: KeyCode.Enter,\n\t\tkbExpr: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus, SuggestContext.AcceptSuggestionsOnEnter, SuggestContext.MakesTextEdit),\n\t\tweight,\n\t}],\n\tmenuOpts: [{\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\ttitle: nls.localize('accept.insert', \"Insert\"),\n\t\tgroup: 'left',\n\t\torder: 1,\n\t\twhen: SuggestContext.HasInsertAndReplaceRange.toNegated()\n\t}, {\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\ttitle: nls.localize('accept.insert', \"Insert\"),\n\t\tgroup: 'left',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.and(SuggestContext.HasInsertAndReplaceRange, SuggestContext.InsertMode.isEqualTo('insert'))\n\t}, {\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\ttitle: nls.localize('accept.replace', \"Replace\"),\n\t\tgroup: 'left',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.and(SuggestContext.HasInsertAndReplaceRange, SuggestContext.InsertMode.isEqualTo('replace'))\n\t}]\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'acceptAlternativeSelectedSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, EditorContextKeys.textInputFocus, SuggestContext.HasFocusedSuggestion),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\tsecondary: [KeyMod.Shift | KeyCode.Tab],\n\t},\n\thandler(x) {\n\t\tx.acceptSelectedSuggestion(false, true);\n\t},\n\tmenuOpts: [{\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\tgroup: 'left',\n\t\torder: 2,\n\t\twhen: ContextKeyExpr.and(SuggestContext.HasInsertAndReplaceRange, SuggestContext.InsertMode.isEqualTo('insert')),\n\t\ttitle: nls.localize('accept.replace', \"Replace\")\n\t}, {\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\tgroup: 'left',\n\t\torder: 2,\n\t\twhen: ContextKeyExpr.and(SuggestContext.HasInsertAndReplaceRange, SuggestContext.InsertMode.isEqualTo('replace')),\n\t\ttitle: nls.localize('accept.insert', \"Insert\")\n\t}]\n}));\n\n\n// continue to support the old command\nCommandsRegistry.registerCommandAlias('acceptSelectedSuggestionOnEnter', 'acceptSelectedSuggestion');\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'hideSuggestWidget',\n\tprecondition: SuggestContext.Visible,\n\thandler: x => x.cancelSuggestWidget(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.Escape,\n\t\tsecondary: [KeyMod.Shift | KeyCode.Escape]\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectNextSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectNextSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.DownArrow,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.DownArrow],\n\t\tmac: { primary: KeyCode.DownArrow, secondary: [KeyMod.CtrlCmd | KeyCode.DownArrow, KeyMod.WinCtrl | KeyCode.KeyN] }\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectNextPageSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectNextPageSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.PageDown,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.PageDown]\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectLastSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectLastSuggestion()\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectPrevSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectPrevSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.UpArrow,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.UpArrow],\n\t\tmac: { primary: KeyCode.UpArrow, secondary: [KeyMod.CtrlCmd | KeyCode.UpArrow, KeyMod.WinCtrl | KeyCode.KeyP] }\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectPrevPageSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectPrevPageSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.PageUp,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.PageUp]\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'selectFirstSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, ContextKeyExpr.or(SuggestContext.MultipleSuggestions, SuggestContext.HasFocusedSuggestion.negate())),\n\thandler: c => c.selectFirstSuggestion()\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'focusSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.HasFocusedSuggestion.negate()),\n\thandler: x => x.focusSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.Space,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KeyI],\n\t\tmac: { primary: KeyMod.WinCtrl | KeyCode.Space, secondary: [KeyMod.CtrlCmd | KeyCode.KeyI] }\n\t},\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'focusAndAcceptSuggestion',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.HasFocusedSuggestion.negate()),\n\thandler: c => {\n\t\tc.focusSuggestion();\n\t\tc.acceptSelectedSuggestion(true, false);\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'toggleSuggestionDetails',\n\tprecondition: ContextKeyExpr.and(SuggestContext.Visible, SuggestContext.HasFocusedSuggestion),\n\thandler: x => x.toggleSuggestionDetails(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.Space,\n\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KeyI],\n\t\tmac: { primary: KeyMod.WinCtrl | KeyCode.Space, secondary: [KeyMod.CtrlCmd | KeyCode.KeyI] }\n\t},\n\tmenuOpts: [{\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\tgroup: 'right',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.and(SuggestContext.DetailsVisible, SuggestContext.CanResolve),\n\t\ttitle: nls.localize('detail.more', \"Show Less\")\n\t}, {\n\t\tmenuId: suggestWidgetStatusbarMenu,\n\t\tgroup: 'right',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.and(SuggestContext.DetailsVisible.toNegated(), SuggestContext.CanResolve),\n\t\ttitle: nls.localize('detail.less', \"Show More\")\n\t}]\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'toggleExplainMode',\n\tprecondition: SuggestContext.Visible,\n\thandler: x => x.toggleExplainMode(),\n\tkbOpts: {\n\t\tweight: KeybindingWeight.EditorContrib,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.Slash,\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'toggleSuggestionFocus',\n\tprecondition: SuggestContext.Visible,\n\thandler: x => x.toggleSuggestionFocus(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Space,\n\t\tmac: { primary: KeyMod.WinCtrl | KeyMod.Alt | KeyCode.Space }\n\t}\n}));\n\n//#region tab completions\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'insertBestCompletion',\n\tprecondition: ContextKeyExpr.and(\n\t\tEditorContextKeys.textInputFocus,\n\t\tContextKeyExpr.equals('config.editor.tabCompletion', 'on'),\n\t\tWordContextKey.AtEnd,\n\t\tSuggestContext.Visible.toNegated(),\n\t\tSuggestAlternatives.OtherSuggestions.toNegated(),\n\t\tSnippetController2.InSnippetMode.toNegated()\n\t),\n\thandler: (x, arg) => {\n\n\t\tx.triggerSuggestAndAcceptBest(isObject(arg) ? { fallback: 'tab', ...arg } : { fallback: 'tab' });\n\t},\n\tkbOpts: {\n\t\tweight,\n\t\tprimary: KeyCode.Tab\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'insertNextSuggestion',\n\tprecondition: ContextKeyExpr.and(\n\t\tEditorContextKeys.textInputFocus,\n\t\tContextKeyExpr.equals('config.editor.tabCompletion', 'on'),\n\t\tSuggestAlternatives.OtherSuggestions,\n\t\tSuggestContext.Visible.toNegated(),\n\t\tSnippetController2.InSnippetMode.toNegated()\n\t),\n\thandler: x => x.acceptNextSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyCode.Tab\n\t}\n}));\n\nregisterEditorCommand(new SuggestCommand({\n\tid: 'insertPrevSuggestion',\n\tprecondition: ContextKeyExpr.and(\n\t\tEditorContextKeys.textInputFocus,\n\t\tContextKeyExpr.equals('config.editor.tabCompletion', 'on'),\n\t\tSuggestAlternatives.OtherSuggestions,\n\t\tSuggestContext.Visible.toNegated(),\n\t\tSnippetController2.InSnippetMode.toNegated()\n\t),\n\thandler: x => x.acceptPrevSuggestion(),\n\tkbOpts: {\n\t\tweight: weight,\n\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\tprimary: KeyMod.Shift | KeyCode.Tab\n\t}\n}));\n\n\nregisterEditorAction(class extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.resetSuggestSize',\n\t\t\tlabel: nls.localize2('suggest.reset.label', \"Reset Suggest Widget Size\"),\n\t\t\tprecondition: undefined\n\t\t});\n\t}\n\n\trun(_accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tSuggestController.get(editor)?.resetWidgetSize();\n\t}\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4849, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/suggestInlineCompletions.js","sourceRoot":"file:///mnt/vss/_work/1/s/dependencies/vscode/out-editor-src","sources":["file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/file%3A/mnt/vss/_work/1/s/dependencies/vscode/out-editor-src/vs/editor/contrib/suggest/browser/suggestInlineCompletions.ts","file:///Users/liza/Desktop/FrontReady/node_modules/monaco-editor/esm/vs/editor/contrib/suggest/browser/vs/editor/contrib/suggest/browser/suggestInlineCompletions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { Disposable, RefCountedDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { Command, CompletionItemInsertTextRule, CompletionItemProvider, CompletionTriggerKind, InlineCompletion, InlineCompletionContext, InlineCompletions, InlineCompletionsProvider } from '../../../common/languages.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { CompletionModel, LineContext } from './completionModel.js';\nimport { CompletionItem, CompletionItemModel, CompletionOptions, provideSuggestionItems, QuickSuggestionsOptions } from './suggest.js';\nimport { ISuggestMemoryService } from './suggestMemory.js';\nimport { SuggestModel } from './suggestModel.js';\nimport { WordDistance } from './wordDistance.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\n\nclass SuggestInlineCompletion implements InlineCompletion {\n\n\tconstructor(\n\t\treadonly range: IRange,\n\t\treadonly insertText: string | { snippet: string },\n\t\treadonly filterText: string,\n\t\treadonly additionalTextEdits: ISingleEditOperation[] | undefined,\n\t\treadonly command: Command | undefined,\n\t\treadonly action: Command | undefined,\n\t\treadonly completion: CompletionItem,\n\t) { }\n}\n\nclass InlineCompletionResults extends RefCountedDisposable implements InlineCompletions<SuggestInlineCompletion> {\n\n\tconstructor(\n\t\treadonly model: ITextModel,\n\t\treadonly line: number,\n\t\treadonly word: IWordAtPosition,\n\t\treadonly completionModel: CompletionModel,\n\t\tcompletions: CompletionItemModel,\n\t\t@ISuggestMemoryService private readonly _suggestMemoryService: ISuggestMemoryService,\n\t) {\n\t\tsuper(completions.disposable);\n\t}\n\n\tcanBeReused(model: ITextModel, line: number, word: IWordAtPosition) {\n\t\treturn this.model === model // same model\n\t\t\t&& this.line === line\n\t\t\t&& this.word.word.length > 0\n\t\t\t&& this.word.startColumn === word.startColumn && this.word.endColumn < word.endColumn // same word\n\t\t\t&& this.completionModel.getIncompleteProvider().size === 0; // no incomplete results\n\t}\n\n\tget items(): SuggestInlineCompletion[] {\n\t\tconst result: SuggestInlineCompletion[] = [];\n\n\t\t// Split items by preselected index. This ensures the memory-selected item shows first and that better/worst\n\t\t// ranked items are before/after\n\t\tconst { items } = this.completionModel;\n\t\tconst selectedIndex = this._suggestMemoryService.select(this.model, { lineNumber: this.line, column: this.word.endColumn + this.completionModel.lineContext.characterCountDelta }, items);\n\t\tconst first = Iterable.slice(items, selectedIndex);\n\t\tconst second = Iterable.slice(items, 0, selectedIndex);\n\n\t\tlet resolveCount = 5;\n\n\t\tfor (const item of Iterable.concat(first, second)) {\n\n\t\t\tif (item.score === FuzzyScore.Default) {\n\t\t\t\t// skip items that have no overlap\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst range = new Range(\n\t\t\t\titem.editStart.lineNumber, item.editStart.column,\n\t\t\t\titem.editInsertEnd.lineNumber, item.editInsertEnd.column + this.completionModel.lineContext.characterCountDelta // end PLUS character delta\n\t\t\t);\n\t\t\tconst insertText = item.completion.insertTextRules && (item.completion.insertTextRules & CompletionItemInsertTextRule.InsertAsSnippet)\n\t\t\t\t? { snippet: item.completion.insertText }\n\t\t\t\t: item.completion.insertText;\n\n\t\t\tresult.push(new SuggestInlineCompletion(\n\t\t\t\trange,\n\t\t\t\tinsertText,\n\t\t\t\titem.filterTextLow ?? item.labelLow,\n\t\t\t\titem.completion.additionalTextEdits,\n\t\t\t\titem.completion.command,\n\t\t\t\titem.completion.action,\n\t\t\t\titem\n\t\t\t));\n\n\t\t\t// resolve the first N suggestions eagerly\n\t\t\tif (resolveCount-- >= 0) {\n\t\t\t\titem.resolve(CancellationToken.None);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\n\nexport class SuggestInlineCompletions extends Disposable implements InlineCompletionsProvider<InlineCompletionResults> {\n\n\tprivate _lastResult?: InlineCompletionResults;\n\n\tconstructor(\n\t\t@ILanguageFeaturesService private readonly _languageFeatureService: ILanguageFeaturesService,\n\t\t@IClipboardService private readonly _clipboardService: IClipboardService,\n\t\t@ISuggestMemoryService private readonly _suggestMemoryService: ISuggestMemoryService,\n\t\t@ICodeEditorService private readonly _editorService: ICodeEditorService,\n\t) {\n\t\tsuper();\n\t\tthis._store.add(_languageFeatureService.inlineCompletionsProvider.register('*', this));\n\t}\n\n\tasync provideInlineCompletions(model: ITextModel, position: Position, context: InlineCompletionContext, token: CancellationToken): Promise<InlineCompletionResults | undefined> {\n\n\t\tif (context.selectedSuggestionInfo) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet editor: ICodeEditor | undefined;\n\t\tfor (const candidate of this._editorService.listCodeEditors()) {\n\t\t\tif (candidate.getModel() === model) {\n\t\t\t\teditor = candidate;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst config = editor.getOption(EditorOption.quickSuggestions);\n\t\tif (QuickSuggestionsOptions.isAllOff(config)) {\n\t\t\t// quick suggest is off (for this model/language)\n\t\t\treturn;\n\t\t}\n\n\t\tmodel.tokenization.tokenizeIfCheap(position.lineNumber);\n\t\tconst lineTokens = model.tokenization.getLineTokens(position.lineNumber);\n\t\tconst tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(position.column - 1 - 1, 0)));\n\t\tif (QuickSuggestionsOptions.valueFor(config, tokenType) !== 'inline') {\n\t\t\t// quick suggest is off (for this token)\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// We consider non-empty leading words and trigger characters. The latter only\n\t\t// when no word is being typed (word characters superseed trigger characters)\n\t\tlet wordInfo = model.getWordAtPosition(position);\n\t\tlet triggerCharacterInfo: { ch: string; providers: Set<CompletionItemProvider> } | undefined;\n\n\t\tif (!wordInfo?.word) {\n\t\t\ttriggerCharacterInfo = this._getTriggerCharacterInfo(model, position);\n\t\t}\n\n\t\tif (!wordInfo?.word && !triggerCharacterInfo) {\n\t\t\t// not at word, not a trigger character\n\t\t\treturn;\n\t\t}\n\n\t\t// ensure that we have word information and that we are at the end of a word\n\t\t// otherwise we stop because we don't want to do quick suggestions inside words\n\t\tif (!wordInfo) {\n\t\t\twordInfo = model.getWordUntilPosition(position);\n\t\t}\n\t\tif (wordInfo.endColumn !== position.column) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet result: InlineCompletionResults;\n\t\tconst leadingLineContents = model.getValueInRange(new Range(position.lineNumber, 1, position.lineNumber, position.column));\n\t\tif (!triggerCharacterInfo && this._lastResult?.canBeReused(model, position.lineNumber, wordInfo)) {\n\t\t\t// reuse a previous result iff possible, only a refilter is needed\n\t\t\t// TODO@jrieken this can be improved further and only incomplete results can be updated\n\t\t\t// console.log(`REUSE with ${wordInfo.word}`);\n\t\t\tconst newLineContext = new LineContext(leadingLineContents, position.column - this._lastResult.word.endColumn);\n\t\t\tthis._lastResult.completionModel.lineContext = newLineContext;\n\t\t\tthis._lastResult.acquire();\n\t\t\tresult = this._lastResult;\n\n\t\t} else {\n\t\t\t// refesh model is required\n\t\t\tconst completions = await provideSuggestionItems(\n\t\t\t\tthis._languageFeatureService.completionProvider,\n\t\t\t\tmodel, position,\n\t\t\t\tnew CompletionOptions(undefined, SuggestModel.createSuggestFilter(editor).itemKind, triggerCharacterInfo?.providers),\n\t\t\t\ttriggerCharacterInfo && { triggerKind: CompletionTriggerKind.TriggerCharacter, triggerCharacter: triggerCharacterInfo.ch },\n\t\t\t\ttoken\n\t\t\t);\n\n\t\t\tlet clipboardText: string | undefined;\n\t\t\tif (completions.needsClipboard) {\n\t\t\t\tclipboardText = await this._clipboardService.readText();\n\t\t\t}\n\n\t\t\tconst completionModel = new CompletionModel(\n\t\t\t\tcompletions.items,\n\t\t\t\tposition.column,\n\t\t\t\tnew LineContext(leadingLineContents, 0),\n\t\t\t\tWordDistance.None,\n\t\t\t\teditor.getOption(EditorOption.suggest),\n\t\t\t\teditor.getOption(EditorOption.snippetSuggestions),\n\t\t\t\t{ boostFullMatch: false, firstMatchCanBeWeak: false },\n\t\t\t\tclipboardText\n\t\t\t);\n\t\t\tresult = new InlineCompletionResults(model, position.lineNumber, wordInfo, completionModel, completions, this._suggestMemoryService);\n\t\t}\n\n\t\tthis._lastResult = result;\n\t\treturn result;\n\t}\n\n\thandleItemDidShow(_completions: InlineCompletionResults, item: SuggestInlineCompletion): void {\n\t\titem.completion.resolve(CancellationToken.None);\n\t}\n\n\tdisposeInlineCompletions(result: InlineCompletionResults): void {\n\t\tresult.release();\n\t}\n\n\tprivate _getTriggerCharacterInfo(model: ITextModel, position: IPosition) {\n\t\tconst ch = model.getValueInRange(Range.fromPositions({ lineNumber: position.lineNumber, column: position.column - 1 }, position));\n\t\tconst providers = new Set<CompletionItemProvider>();\n\t\tfor (const provider of this._languageFeatureService.completionProvider.all(model)) {\n\t\t\tif (provider.triggerCharacters?.includes(ch)) {\n\t\t\t\tproviders.add(provider);\n\t\t\t}\n\t\t}\n\t\tif (providers.size === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn { providers, ch };\n\t}\n}\n\n\nregisterEditorFeature(SuggestInlineCompletions);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { Disposable, RefCountedDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { IRange, Range } from '../../../common/core/range.js';\nimport { IWordAtPosition } from '../../../common/core/wordHelper.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { Command, CompletionItemInsertTextRule, CompletionItemProvider, CompletionTriggerKind, InlineCompletion, InlineCompletionContext, InlineCompletions, InlineCompletionsProvider } from '../../../common/languages.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { CompletionModel, LineContext } from './completionModel.js';\nimport { CompletionItem, CompletionItemModel, CompletionOptions, provideSuggestionItems, QuickSuggestionsOptions } from './suggest.js';\nimport { ISuggestMemoryService } from './suggestMemory.js';\nimport { SuggestModel } from './suggestModel.js';\nimport { WordDistance } from './wordDistance.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\n\nclass SuggestInlineCompletion implements InlineCompletion {\n\n\tconstructor(\n\t\treadonly range: IRange,\n\t\treadonly insertText: string | { snippet: string },\n\t\treadonly filterText: string,\n\t\treadonly additionalTextEdits: ISingleEditOperation[] | undefined,\n\t\treadonly command: Command | undefined,\n\t\treadonly action: Command | undefined,\n\t\treadonly completion: CompletionItem,\n\t) { }\n}\n\nclass InlineCompletionResults extends RefCountedDisposable implements InlineCompletions<SuggestInlineCompletion> {\n\n\tconstructor(\n\t\treadonly model: ITextModel,\n\t\treadonly line: number,\n\t\treadonly word: IWordAtPosition,\n\t\treadonly completionModel: CompletionModel,\n\t\tcompletions: CompletionItemModel,\n\t\t@ISuggestMemoryService private readonly _suggestMemoryService: ISuggestMemoryService,\n\t) {\n\t\tsuper(completions.disposable);\n\t}\n\n\tcanBeReused(model: ITextModel, line: number, word: IWordAtPosition) {\n\t\treturn this.model === model // same model\n\t\t\t&& this.line === line\n\t\t\t&& this.word.word.length > 0\n\t\t\t&& this.word.startColumn === word.startColumn && this.word.endColumn < word.endColumn // same word\n\t\t\t&& this.completionModel.getIncompleteProvider().size === 0; // no incomplete results\n\t}\n\n\tget items(): SuggestInlineCompletion[] {\n\t\tconst result: SuggestInlineCompletion[] = [];\n\n\t\t// Split items by preselected index. This ensures the memory-selected item shows first and that better/worst\n\t\t// ranked items are before/after\n\t\tconst { items } = this.completionModel;\n\t\tconst selectedIndex = this._suggestMemoryService.select(this.model, { lineNumber: this.line, column: this.word.endColumn + this.completionModel.lineContext.characterCountDelta }, items);\n\t\tconst first = Iterable.slice(items, selectedIndex);\n\t\tconst second = Iterable.slice(items, 0, selectedIndex);\n\n\t\tlet resolveCount = 5;\n\n\t\tfor (const item of Iterable.concat(first, second)) {\n\n\t\t\tif (item.score === FuzzyScore.Default) {\n\t\t\t\t// skip items that have no overlap\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst range = new Range(\n\t\t\t\titem.editStart.lineNumber, item.editStart.column,\n\t\t\t\titem.editInsertEnd.lineNumber, item.editInsertEnd.column + this.completionModel.lineContext.characterCountDelta // end PLUS character delta\n\t\t\t);\n\t\t\tconst insertText = item.completion.insertTextRules && (item.completion.insertTextRules & CompletionItemInsertTextRule.InsertAsSnippet)\n\t\t\t\t? { snippet: item.completion.insertText }\n\t\t\t\t: item.completion.insertText;\n\n\t\t\tresult.push(new SuggestInlineCompletion(\n\t\t\t\trange,\n\t\t\t\tinsertText,\n\t\t\t\titem.filterTextLow ?? item.labelLow,\n\t\t\t\titem.completion.additionalTextEdits,\n\t\t\t\titem.completion.command,\n\t\t\t\titem.completion.action,\n\t\t\t\titem\n\t\t\t));\n\n\t\t\t// resolve the first N suggestions eagerly\n\t\t\tif (resolveCount-- >= 0) {\n\t\t\t\titem.resolve(CancellationToken.None);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\n\nexport class SuggestInlineCompletions extends Disposable implements InlineCompletionsProvider<InlineCompletionResults> {\n\n\tprivate _lastResult?: InlineCompletionResults;\n\n\tconstructor(\n\t\t@ILanguageFeaturesService private readonly _languageFeatureService: ILanguageFeaturesService,\n\t\t@IClipboardService private readonly _clipboardService: IClipboardService,\n\t\t@ISuggestMemoryService private readonly _suggestMemoryService: ISuggestMemoryService,\n\t\t@ICodeEditorService private readonly _editorService: ICodeEditorService,\n\t) {\n\t\tsuper();\n\t\tthis._store.add(_languageFeatureService.inlineCompletionsProvider.register('*', this));\n\t}\n\n\tasync provideInlineCompletions(model: ITextModel, position: Position, context: InlineCompletionContext, token: CancellationToken): Promise<InlineCompletionResults | undefined> {\n\n\t\tif (context.selectedSuggestionInfo) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet editor: ICodeEditor | undefined;\n\t\tfor (const candidate of this._editorService.listCodeEditors()) {\n\t\t\tif (candidate.getModel() === model) {\n\t\t\t\teditor = candidate;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst config = editor.getOption(EditorOption.quickSuggestions);\n\t\tif (QuickSuggestionsOptions.isAllOff(config)) {\n\t\t\t// quick suggest is off (for this model/language)\n\t\t\treturn;\n\t\t}\n\n\t\tmodel.tokenization.tokenizeIfCheap(position.lineNumber);\n\t\tconst lineTokens = model.tokenization.getLineTokens(position.lineNumber);\n\t\tconst tokenType = lineTokens.getStandardTokenType(lineTokens.findTokenIndexAtOffset(Math.max(position.column - 1 - 1, 0)));\n\t\tif (QuickSuggestionsOptions.valueFor(config, tokenType) !== 'inline') {\n\t\t\t// quick suggest is off (for this token)\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// We consider non-empty leading words and trigger characters. The latter only\n\t\t// when no word is being typed (word characters superseed trigger characters)\n\t\tlet wordInfo = model.getWordAtPosition(position);\n\t\tlet triggerCharacterInfo: { ch: string; providers: Set<CompletionItemProvider> } | undefined;\n\n\t\tif (!wordInfo?.word) {\n\t\t\ttriggerCharacterInfo = this._getTriggerCharacterInfo(model, position);\n\t\t}\n\n\t\tif (!wordInfo?.word && !triggerCharacterInfo) {\n\t\t\t// not at word, not a trigger character\n\t\t\treturn;\n\t\t}\n\n\t\t// ensure that we have word information and that we are at the end of a word\n\t\t// otherwise we stop because we don't want to do quick suggestions inside words\n\t\tif (!wordInfo) {\n\t\t\twordInfo = model.getWordUntilPosition(position);\n\t\t}\n\t\tif (wordInfo.endColumn !== position.column) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet result: InlineCompletionResults;\n\t\tconst leadingLineContents = model.getValueInRange(new Range(position.lineNumber, 1, position.lineNumber, position.column));\n\t\tif (!triggerCharacterInfo && this._lastResult?.canBeReused(model, position.lineNumber, wordInfo)) {\n\t\t\t// reuse a previous result iff possible, only a refilter is needed\n\t\t\t// TODO@jrieken this can be improved further and only incomplete results can be updated\n\t\t\t// console.log(`REUSE with ${wordInfo.word}`);\n\t\t\tconst newLineContext = new LineContext(leadingLineContents, position.column - this._lastResult.word.endColumn);\n\t\t\tthis._lastResult.completionModel.lineContext = newLineContext;\n\t\t\tthis._lastResult.acquire();\n\t\t\tresult = this._lastResult;\n\n\t\t} else {\n\t\t\t// refesh model is required\n\t\t\tconst completions = await provideSuggestionItems(\n\t\t\t\tthis._languageFeatureService.completionProvider,\n\t\t\t\tmodel, position,\n\t\t\t\tnew CompletionOptions(undefined, SuggestModel.createSuggestFilter(editor).itemKind, triggerCharacterInfo?.providers),\n\t\t\t\ttriggerCharacterInfo && { triggerKind: CompletionTriggerKind.TriggerCharacter, triggerCharacter: triggerCharacterInfo.ch },\n\t\t\t\ttoken\n\t\t\t);\n\n\t\t\tlet clipboardText: string | undefined;\n\t\t\tif (completions.needsClipboard) {\n\t\t\t\tclipboardText = await this._clipboardService.readText();\n\t\t\t}\n\n\t\t\tconst completionModel = new CompletionModel(\n\t\t\t\tcompletions.items,\n\t\t\t\tposition.column,\n\t\t\t\tnew LineContext(leadingLineContents, 0),\n\t\t\t\tWordDistance.None,\n\t\t\t\teditor.getOption(EditorOption.suggest),\n\t\t\t\teditor.getOption(EditorOption.snippetSuggestions),\n\t\t\t\t{ boostFullMatch: false, firstMatchCanBeWeak: false },\n\t\t\t\tclipboardText\n\t\t\t);\n\t\t\tresult = new InlineCompletionResults(model, position.lineNumber, wordInfo, completionModel, completions, this._suggestMemoryService);\n\t\t}\n\n\t\tthis._lastResult = result;\n\t\treturn result;\n\t}\n\n\thandleItemDidShow(_completions: InlineCompletionResults, item: SuggestInlineCompletion): void {\n\t\titem.completion.resolve(CancellationToken.None);\n\t}\n\n\tdisposeInlineCompletions(result: InlineCompletionResults): void {\n\t\tresult.release();\n\t}\n\n\tprivate _getTriggerCharacterInfo(model: ITextModel, position: IPosition) {\n\t\tconst ch = model.getValueInRange(Range.fromPositions({ lineNumber: position.lineNumber, column: position.column - 1 }, position));\n\t\tconst providers = new Set<CompletionItemProvider>();\n\t\tfor (const provider of this._languageFeatureService.completionProvider.all(model)) {\n\t\t\tif (provider.triggerCharacters?.includes(ch)) {\n\t\t\t\tproviders.add(provider);\n\t\t\t}\n\t\t}\n\t\tif (providers.size === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn { providers, ch };\n\t}\n}\n\n\nregisterEditorFeature(SuggestInlineCompletions);\n"],"names":[],"mappings":"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","debugId":null}}]
}